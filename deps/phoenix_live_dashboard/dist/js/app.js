(()=>{var Co=Object.create;var gs=Object.defineProperty;var Ao=Object.getOwnPropertyDescriptor;var xo=Object.getOwnPropertyNames;var Eo=Object.getPrototypeOf,To=Object.prototype.hasOwnProperty;var _o=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Po=(e,t,i,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of xo(t))!To.call(e,s)&&s!==i&&gs(e,s,{get:()=>t[s],enumerable:!(n=Ao(t,s))||n.enumerable});return e};var Ro=(e,t,i)=>(i=e!=null?Co(Eo(e)):{},Po(t||!e||!e.__esModule?gs(i,"default",{value:e,enumerable:!0}):i,e));var ys=_o((on,bs)=>{(function(e,t){typeof define=="function"&&define.amd?define(t):typeof on=="object"?bs.exports=t():e.NProgress=t()})(on,function(){var e={};e.version="0.2.0";var t=e.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};e.configure=function(g){var p,C;for(p in g)C=g[p],C!==void 0&&g.hasOwnProperty(p)&&(t[p]=C);return this},e.status=null,e.set=function(g){var p=e.isStarted();g=i(g,t.minimum,1),e.status=g===1?null:g;var C=e.render(!p),A=C.querySelector(t.barSelector),P=t.speed,N=t.easing;return C.offsetWidth,r(function(M){t.positionUsing===""&&(t.positionUsing=e.getPositioningCSS()),o(A,s(g,P,N)),g===1?(o(C,{transition:"none",opacity:1}),C.offsetWidth,setTimeout(function(){o(C,{transition:"all "+P+"ms linear",opacity:0}),setTimeout(function(){e.remove(),M()},P)},P)):setTimeout(M,P)}),this},e.isStarted=function(){return typeof e.status=="number"},e.start=function(){e.status||e.set(0);var g=function(){setTimeout(function(){!e.status||(e.trickle(),g())},t.trickleSpeed)};return t.trickle&&g(),this},e.done=function(g){return!g&&!e.status?this:e.inc(.3+.5*Math.random()).set(1)},e.inc=function(g){var p=e.status;return p?(typeof g!="number"&&(g=(1-p)*i(Math.random()*p,.1,.95)),p=i(p+g,0,.994),e.set(p)):e.start()},e.trickle=function(){return e.inc(Math.random()*t.trickleRate)},function(){var g=0,p=0;e.promise=function(C){return!C||C.state()==="resolved"?this:(p===0&&e.start(),g++,p++,C.always(function(){p--,p===0?(g=0,e.done()):e.set((g-p)/g)}),this)}}(),e.render=function(g){if(e.isRendered())return document.getElementById("nprogress");u(document.documentElement,"nprogress-busy");var p=document.createElement("div");p.id="nprogress",p.innerHTML=t.template;var C=p.querySelector(t.barSelector),A=g?"-100":n(e.status||0),P=document.querySelector(t.parent),N;return o(C,{transition:"all 0 linear",transform:"translate3d("+A+"%,0,0)"}),t.showSpinner||(N=p.querySelector(t.spinnerSelector),N&&w(N)),P!=document.body&&u(P,"nprogress-custom-parent"),P.appendChild(p),p},e.remove=function(){d(document.documentElement,"nprogress-busy"),d(document.querySelector(t.parent),"nprogress-custom-parent");var g=document.getElementById("nprogress");g&&w(g)},e.isRendered=function(){return!!document.getElementById("nprogress")},e.getPositioningCSS=function(){var g=document.body.style,p="WebkitTransform"in g?"Webkit":"MozTransform"in g?"Moz":"msTransform"in g?"ms":"OTransform"in g?"O":"";return p+"Perspective"in g?"translate3d":p+"Transform"in g?"translate":"margin"};function i(g,p,C){return g<p?p:g>C?C:g}function n(g){return(-1+g)*100}function s(g,p,C){var A;return t.positionUsing==="translate3d"?A={transform:"translate3d("+n(g)+"%,0,0)"}:t.positionUsing==="translate"?A={transform:"translate("+n(g)+"%,0)"}:A={"margin-left":n(g)+"%"},A.transition="all "+p+"ms "+C,A}var r=function(){var g=[];function p(){var C=g.shift();C&&C(p)}return function(C){g.push(C),g.length==1&&p()}}(),o=function(){var g=["Webkit","O","Moz","ms"],p={};function C(M){return M.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(b,_){return _.toUpperCase()})}function A(M){var b=document.body.style;if(M in b)return M;for(var _=g.length,he=M.charAt(0).toUpperCase()+M.slice(1),Y;_--;)if(Y=g[_]+he,Y in b)return Y;return M}function P(M){return M=C(M),p[M]||(p[M]=A(M))}function N(M,b,_){b=P(b),M.style[b]=_}return function(M,b){var _=arguments,he,Y;if(_.length==2)for(he in b)Y=b[he],Y!==void 0&&b.hasOwnProperty(he)&&N(M,he,Y);else N(M,_[1],_[2])}}();function a(g,p){var C=typeof g=="string"?g:v(g);return C.indexOf(" "+p+" ")>=0}function u(g,p){var C=v(g),A=C+p;a(C,p)||(g.className=A.substring(1))}function d(g,p){var C=v(g),A;!a(g,p)||(A=C.replace(" "+p+" "," "),g.className=A.substring(1,A.length-1))}function v(g){return(" "+(g.className||"")+" ").replace(/\s+/gi," ")}function w(g){g&&g.parentNode&&g.parentNode.removeChild(g)}return e})});(function(){var e=t();function t(){if(typeof window.CustomEvent=="function")return window.CustomEvent;function s(r,o){o=o||{bubbles:!1,cancelable:!1,detail:void 0};var a=document.createEvent("CustomEvent");return a.initCustomEvent(r,o.bubbles,o.cancelable,o.detail),a}return s.prototype=window.Event.prototype,s}function i(s,r){var o=document.createElement("input");return o.type="hidden",o.name=s,o.value=r,o}function n(s,r){var o=s.getAttribute("data-to"),a=i("_method",s.getAttribute("data-method")),u=i("_csrf_token",s.getAttribute("data-csrf")),d=document.createElement("form"),v=s.getAttribute("target");d.method=s.getAttribute("data-method")==="get"?"get":"post",d.action=o,d.style.display="hidden",v?d.target=v:r&&(d.target="_blank"),d.appendChild(u),d.appendChild(a),document.body.appendChild(d),d.submit()}window.addEventListener("click",function(s){var r=s.target;if(!s.defaultPrevented)for(;r&&r.getAttribute;){var o=new e("phoenix.link.click",{bubbles:!0,cancelable:!0});if(!r.dispatchEvent(o))return s.preventDefault(),s.stopImmediatePropagation(),!1;if(r.getAttribute("data-method"))return n(r,s.metaKey||s.shiftKey),s.preventDefault(),!1;r=r.parentNode}},!1),window.addEventListener("phoenix.link.click",function(s){var r=s.target.getAttribute("data-confirm");r&&!window.confirm(r)&&s.preventDefault()},!1)})();var qt=e=>typeof e=="function"?e:function(){return e},Do=typeof self<"u"?self:null,Xt=typeof window<"u"?window:null,Kt=Do||Xt||Kt,Lo="2.0.0",Be={connecting:0,open:1,closing:2,closed:3},Io=1e4,Mo=1e3,Ee={closed:"closed",errored:"errored",joined:"joined",joining:"joining",leaving:"leaving"},Qe={close:"phx_close",error:"phx_error",join:"phx_join",reply:"phx_reply",leave:"phx_leave"},rn={longpoll:"longpoll",websocket:"websocket"},Oo={complete:4},yi=class{constructor(e,t,i,n){this.channel=e,this.event=t,this.payload=i||function(){return{}},this.receivedResp=null,this.timeout=n,this.timeoutTimer=null,this.recHooks=[],this.sent=!1}resend(e){this.timeout=e,this.reset(),this.send()}send(){this.hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload(),ref:this.ref,join_ref:this.channel.joinRef()}))}receive(e,t){return this.hasReceived(e)&&t(this.receivedResp.response),this.recHooks.push({status:e,callback:t}),this}reset(){this.cancelRefEvent(),this.ref=null,this.refEvent=null,this.receivedResp=null,this.sent=!1}matchReceive({status:e,response:t,_ref:i}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(t))}cancelRefEvent(){!this.refEvent||this.channel.off(this.refEvent)}cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=null}startTimeout(){this.timeoutTimer&&this.cancelTimeout(),this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref),this.channel.on(this.refEvent,e=>{this.cancelRefEvent(),this.cancelTimeout(),this.receivedResp=e,this.matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}trigger(e,t){this.channel.trigger(this.refEvent,{status:e,response:t})}},ms=class{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=null,this.tries=0}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}},Ho=class{constructor(e,t,i){this.state=Ee.closed,this.topic=e,this.params=qt(t||{}),this.socket=i,this.bindings=[],this.bindingRef=0,this.timeout=this.socket.timeout,this.joinedOnce=!1,this.joinPush=new yi(this,Qe.join,this.params,this.timeout),this.pushBuffer=[],this.stateChangeRefs=[],this.rejoinTimer=new ms(()=>{this.socket.isConnected()&&this.rejoin()},this.socket.rejoinAfterMs),this.stateChangeRefs.push(this.socket.onError(()=>this.rejoinTimer.reset())),this.stateChangeRefs.push(this.socket.onOpen(()=>{this.rejoinTimer.reset(),this.isErrored()&&this.rejoin()})),this.joinPush.receive("ok",()=>{this.state=Ee.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this.joinPush.receive("error",()=>{this.state=Ee.errored,this.socket.isConnected()&&this.rejoinTimer.scheduleTimeout()}),this.onClose(()=>{this.rejoinTimer.reset(),this.socket.hasLogger()&&this.socket.log("channel",`close ${this.topic} ${this.joinRef()}`),this.state=Ee.closed,this.socket.remove(this)}),this.onError(n=>{this.socket.hasLogger()&&this.socket.log("channel",`error ${this.topic}`,n),this.isJoining()&&this.joinPush.reset(),this.state=Ee.errored,this.socket.isConnected()&&this.rejoinTimer.scheduleTimeout()}),this.joinPush.receive("timeout",()=>{this.socket.hasLogger()&&this.socket.log("channel",`timeout ${this.topic} (${this.joinRef()})`,this.joinPush.timeout),new yi(this,Qe.leave,qt({}),this.timeout).send(),this.state=Ee.errored,this.joinPush.reset(),this.socket.isConnected()&&this.rejoinTimer.scheduleTimeout()}),this.on(Qe.reply,(n,s)=>{this.trigger(this.replyEventName(s),n)})}join(e=this.timeout){if(this.joinedOnce)throw new Error("tried to join multiple times. 'join' can only be called a single time per channel instance");return this.timeout=e,this.joinedOnce=!0,this.rejoin(),this.joinPush}onClose(e){this.on(Qe.close,e)}onError(e){return this.on(Qe.error,t=>e(t))}on(e,t){let i=this.bindingRef++;return this.bindings.push({event:e,ref:i,callback:t}),i}off(e,t){this.bindings=this.bindings.filter(i=>!(i.event===e&&(typeof t>"u"||t===i.ref)))}canPush(){return this.socket.isConnected()&&this.isJoined()}push(e,t,i=this.timeout){if(t=t||{},!this.joinedOnce)throw new Error(`tried to push '${e}' to '${this.topic}' before joining. Use channel.join() before pushing events`);let n=new yi(this,e,function(){return t},i);return this.canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}leave(e=this.timeout){this.rejoinTimer.reset(),this.joinPush.cancelTimeout(),this.state=Ee.leaving;let t=()=>{this.socket.hasLogger()&&this.socket.log("channel",`leave ${this.topic}`),this.trigger(Qe.close,"leave")},i=new yi(this,Qe.leave,qt({}),e);return i.receive("ok",()=>t()).receive("timeout",()=>t()),i.send(),this.canPush()||i.trigger("ok",{}),i}onMessage(e,t,i){return t}isMember(e,t,i,n){return this.topic!==e?!1:n&&n!==this.joinRef()?(this.socket.hasLogger()&&this.socket.log("channel","dropping outdated message",{topic:e,event:t,payload:i,joinRef:n}),!1):!0}joinRef(){return this.joinPush.ref}rejoin(e=this.timeout){this.isLeaving()||(this.socket.leaveOpenTopic(this.topic),this.state=Ee.joining,this.joinPush.resend(e))}trigger(e,t,i,n){let s=this.onMessage(e,t,i,n);if(t&&!s)throw new Error("channel onMessage callbacks must return the payload, modified or unmodified");let r=this.bindings.filter(o=>o.event===e);for(let o=0;o<r.length;o++)r[o].callback(s,i,n||this.joinRef())}replyEventName(e){return`chan_reply_${e}`}isClosed(){return this.state===Ee.closed}isErrored(){return this.state===Ee.errored}isJoined(){return this.state===Ee.joined}isJoining(){return this.state===Ee.joining}isLeaving(){return this.state===Ee.leaving}},Si=class{static request(e,t,i,n,s,r,o){if(Kt.XDomainRequest){let a=new Kt.XDomainRequest;return this.xdomainRequest(a,e,t,n,s,r,o)}else{let a=new Kt.XMLHttpRequest;return this.xhrRequest(a,e,t,i,n,s,r,o)}}static xdomainRequest(e,t,i,n,s,r,o){return e.timeout=s,e.open(t,i),e.onload=()=>{let a=this.parseJSON(e.responseText);o&&o(a)},r&&(e.ontimeout=r),e.onprogress=()=>{},e.send(n),e}static xhrRequest(e,t,i,n,s,r,o,a){return e.open(t,i,!0),e.timeout=r,e.setRequestHeader("Content-Type",n),e.onerror=()=>a&&a(null),e.onreadystatechange=()=>{if(e.readyState===Oo.complete&&a){let u=this.parseJSON(e.responseText);a(u)}},o&&(e.ontimeout=o),e.send(s),e}static parseJSON(e){if(!e||e==="")return null;try{return JSON.parse(e)}catch{return console&&console.log("failed to parse JSON response",e),null}}static serialize(e,t){let i=[];for(var n in e){if(!Object.prototype.hasOwnProperty.call(e,n))continue;let s=t?`${t}[${n}]`:n,r=e[n];typeof r=="object"?i.push(this.serialize(r,s)):i.push(encodeURIComponent(s)+"="+encodeURIComponent(r))}return i.join("&")}static appendParams(e,t){if(Object.keys(t).length===0)return e;let i=e.match(/\?/)?"&":"?";return`${e}${i}${this.serialize(t)}`}},Gt=class{constructor(e){this.endPoint=null,this.token=null,this.skipHeartbeat=!0,this.reqs=new Set,this.onopen=function(){},this.onerror=function(){},this.onmessage=function(){},this.onclose=function(){},this.pollEndpoint=this.normalizeEndpoint(e),this.readyState=Be.connecting,this.poll()}normalizeEndpoint(e){return e.replace("ws://","http://").replace("wss://","https://").replace(new RegExp("(.*)/"+rn.websocket),"$1/"+rn.longpoll)}endpointURL(){return Si.appendParams(this.pollEndpoint,{token:this.token})}closeAndRetry(e,t,i){this.close(e,t,i),this.readyState=Be.connecting}ontimeout(){this.onerror("timeout"),this.closeAndRetry(1005,"timeout",!1)}isActive(){return this.readyState===Be.open||this.readyState===Be.connecting}poll(){this.ajax("GET",null,()=>this.ontimeout(),e=>{if(e){var{status:t,token:i,messages:n}=e;this.token=i}else t=0;switch(t){case 200:n.forEach(s=>{setTimeout(()=>this.onmessage({data:s}),0)}),this.poll();break;case 204:this.poll();break;case 410:this.readyState=Be.open,this.onopen({}),this.poll();break;case 403:this.onerror(403),this.close(1008,"forbidden",!1);break;case 0:case 500:this.onerror(500),this.closeAndRetry(1011,"internal server error",500);break;default:throw new Error(`unhandled poll status ${t}`)}})}send(e){this.ajax("POST",e,()=>this.onerror("timeout"),t=>{(!t||t.status!==200)&&(this.onerror(t&&t.status),this.closeAndRetry(1011,"internal server error",!1))})}close(e,t,i){for(let s of this.reqs)s.abort();this.readyState=Be.closed;let n=Object.assign({code:1e3,reason:void 0,wasClean:!0},{code:e,reason:t,wasClean:i});typeof CloseEvent<"u"?this.onclose(new CloseEvent("close",n)):this.onclose(n)}ajax(e,t,i,n){let s,r=()=>{this.reqs.delete(s),i()};s=Si.request(e,this.endpointURL(),"application/json",t,this.timeout,r,o=>{this.reqs.delete(s),this.isActive()&&n(o)}),this.reqs.add(s)}};var wi={HEADER_LENGTH:1,META_LENGTH:4,KINDS:{push:0,reply:1,broadcast:2},encode(e,t){if(e.payload.constructor===ArrayBuffer)return t(this.binaryEncode(e));{let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(i))}},decode(e,t){if(e.constructor===ArrayBuffer)return t(this.binaryDecode(e));{let[i,n,s,r,o]=JSON.parse(e);return t({join_ref:i,ref:n,topic:s,event:r,payload:o})}},binaryEncode(e){let{join_ref:t,ref:i,event:n,topic:s,payload:r}=e,o=this.META_LENGTH+t.length+i.length+s.length+n.length,a=new ArrayBuffer(this.HEADER_LENGTH+o),u=new DataView(a),d=0;u.setUint8(d++,this.KINDS.push),u.setUint8(d++,t.length),u.setUint8(d++,i.length),u.setUint8(d++,s.length),u.setUint8(d++,n.length),Array.from(t,w=>u.setUint8(d++,w.charCodeAt(0))),Array.from(i,w=>u.setUint8(d++,w.charCodeAt(0))),Array.from(s,w=>u.setUint8(d++,w.charCodeAt(0))),Array.from(n,w=>u.setUint8(d++,w.charCodeAt(0)));var v=new Uint8Array(a.byteLength+r.byteLength);return v.set(new Uint8Array(a),0),v.set(new Uint8Array(r),a.byteLength),v.buffer},binaryDecode(e){let t=new DataView(e),i=t.getUint8(0),n=new TextDecoder;switch(i){case this.KINDS.push:return this.decodePush(e,t,n);case this.KINDS.reply:return this.decodeReply(e,t,n);case this.KINDS.broadcast:return this.decodeBroadcast(e,t,n)}},decodePush(e,t,i){let n=t.getUint8(1),s=t.getUint8(2),r=t.getUint8(3),o=this.HEADER_LENGTH+this.META_LENGTH-1,a=i.decode(e.slice(o,o+n));o=o+n;let u=i.decode(e.slice(o,o+s));o=o+s;let d=i.decode(e.slice(o,o+r));o=o+r;let v=e.slice(o,e.byteLength);return{join_ref:a,ref:null,topic:u,event:d,payload:v}},decodeReply(e,t,i){let n=t.getUint8(1),s=t.getUint8(2),r=t.getUint8(3),o=t.getUint8(4),a=this.HEADER_LENGTH+this.META_LENGTH,u=i.decode(e.slice(a,a+n));a=a+n;let d=i.decode(e.slice(a,a+s));a=a+s;let v=i.decode(e.slice(a,a+r));a=a+r;let w=i.decode(e.slice(a,a+o));a=a+o;let g=e.slice(a,e.byteLength),p={status:w,response:g};return{join_ref:u,ref:d,topic:v,event:Qe.reply,payload:p}},decodeBroadcast(e,t,i){let n=t.getUint8(1),s=t.getUint8(2),r=this.HEADER_LENGTH+2,o=i.decode(e.slice(r,r+n));r=r+n;let a=i.decode(e.slice(r,r+s));r=r+s;let u=e.slice(r,e.byteLength);return{join_ref:null,ref:null,topic:o,event:a,payload:u}}},vs=class{constructor(e,t={}){this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.channels=[],this.sendBuffer=[],this.ref=0,this.timeout=t.timeout||Io,this.transport=t.transport||Kt.WebSocket||Gt,this.establishedConnections=0,this.defaultEncoder=wi.encode.bind(wi),this.defaultDecoder=wi.decode.bind(wi),this.closeWasClean=!1,this.binaryType=t.binaryType||"arraybuffer",this.connectClock=1,this.transport!==Gt?(this.encode=t.encode||this.defaultEncoder,this.decode=t.decode||this.defaultDecoder):(this.encode=this.defaultEncoder,this.decode=this.defaultDecoder);let i=null;Xt&&Xt.addEventListener&&(Xt.addEventListener("pagehide",n=>{this.conn&&(this.disconnect(),i=this.connectClock)}),Xt.addEventListener("pageshow",n=>{i===this.connectClock&&(i=null,this.connect())})),this.heartbeatIntervalMs=t.heartbeatIntervalMs||3e4,this.rejoinAfterMs=n=>t.rejoinAfterMs?t.rejoinAfterMs(n):[1e3,2e3,5e3][n-1]||1e4,this.reconnectAfterMs=n=>t.reconnectAfterMs?t.reconnectAfterMs(n):[10,50,100,150,200,250,500,1e3,2e3][n-1]||5e3,this.logger=t.logger||null,this.longpollerTimeout=t.longpollerTimeout||2e4,this.params=qt(t.params||{}),this.endPoint=`${e}/${rn.websocket}`,this.vsn=t.vsn||Lo,this.heartbeatTimer=null,this.pendingHeartbeatRef=null,this.reconnectTimer=new ms(()=>{this.teardown(()=>this.connect())},this.reconnectAfterMs)}getLongPollTransport(){return Gt}replaceTransport(e){this.connectClock++,this.closeWasClean=!0,this.reconnectTimer.reset(),this.sendBuffer=[],this.conn&&(this.conn.close(),this.conn=null),this.transport=e}protocol(){return location.protocol.match(/^https/)?"wss":"ws"}endPointURL(){let e=Si.appendParams(Si.appendParams(this.endPoint,this.params()),{vsn:this.vsn});return e.charAt(0)!=="/"?e:e.charAt(1)==="/"?`${this.protocol()}:${e}`:`${this.protocol()}://${location.host}${e}`}disconnect(e,t,i){this.connectClock++,this.closeWasClean=!0,this.reconnectTimer.reset(),this.teardown(e,t,i)}connect(e){e&&(console&&console.log("passing params to connect is deprecated. Instead pass :params to the Socket constructor"),this.params=qt(e)),!this.conn&&(this.connectClock++,this.closeWasClean=!1,this.conn=new this.transport(this.endPointURL()),this.conn.binaryType=this.binaryType,this.conn.timeout=this.longpollerTimeout,this.conn.onopen=()=>this.onConnOpen(),this.conn.onerror=t=>this.onConnError(t),this.conn.onmessage=t=>this.onConnMessage(t),this.conn.onclose=t=>this.onConnClose(t))}log(e,t,i){this.logger(e,t,i)}hasLogger(){return this.logger!==null}onOpen(e){let t=this.makeRef();return this.stateChangeCallbacks.open.push([t,e]),t}onClose(e){let t=this.makeRef();return this.stateChangeCallbacks.close.push([t,e]),t}onError(e){let t=this.makeRef();return this.stateChangeCallbacks.error.push([t,e]),t}onMessage(e){let t=this.makeRef();return this.stateChangeCallbacks.message.push([t,e]),t}ping(e){if(!this.isConnected())return!1;let t=this.makeRef(),i=Date.now();this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:t});let n=this.onMessage(s=>{s.ref===t&&(this.off([n]),e(Date.now()-i))});return!0}onConnOpen(){this.hasLogger()&&this.log("transport",`connected to ${this.endPointURL()}`),this.closeWasClean=!1,this.establishedConnections++,this.flushSendBuffer(),this.reconnectTimer.reset(),this.resetHeartbeat(),this.stateChangeCallbacks.open.forEach(([,e])=>e())}heartbeatTimeout(){this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null,this.hasLogger()&&this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.abnormalClose("heartbeat timeout"))}resetHeartbeat(){this.conn&&this.conn.skipHeartbeat||(this.pendingHeartbeatRef=null,clearTimeout(this.heartbeatTimer),setTimeout(()=>this.sendHeartbeat(),this.heartbeatIntervalMs))}teardown(e,t,i){if(!this.conn)return e&&e();this.waitForBufferDone(()=>{this.conn&&(t?this.conn.close(t,i||""):this.conn.close()),this.waitForSocketClosed(()=>{this.conn&&(this.conn.onclose=function(){},this.conn=null),e&&e()})})}waitForBufferDone(e,t=1){if(t===5||!this.conn||!this.conn.bufferedAmount){e();return}setTimeout(()=>{this.waitForBufferDone(e,t+1)},150*t)}waitForSocketClosed(e,t=1){if(t===5||!this.conn||this.conn.readyState===Be.closed){e();return}setTimeout(()=>{this.waitForSocketClosed(e,t+1)},150*t)}onConnClose(e){let t=e&&e.code;this.hasLogger()&&this.log("transport","close",e),this.triggerChanError(),clearTimeout(this.heartbeatTimer),!this.closeWasClean&&t!==1e3&&this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(([,i])=>i(e))}onConnError(e){this.hasLogger()&&this.log("transport",e);let t=this.transport,i=this.establishedConnections;this.stateChangeCallbacks.error.forEach(([,n])=>{n(e,t,i)}),(t===this.transport||i>0)&&this.triggerChanError()}triggerChanError(){this.channels.forEach(e=>{e.isErrored()||e.isLeaving()||e.isClosed()||e.trigger(Qe.error)})}connectionState(){switch(this.conn&&this.conn.readyState){case Be.connecting:return"connecting";case Be.open:return"open";case Be.closing:return"closing";default:return"closed"}}isConnected(){return this.connectionState()==="open"}remove(e){this.off(e.stateChangeRefs),this.channels=this.channels.filter(t=>t.joinRef()!==e.joinRef())}off(e){for(let t in this.stateChangeCallbacks)this.stateChangeCallbacks[t]=this.stateChangeCallbacks[t].filter(([i])=>e.indexOf(i)===-1)}channel(e,t={}){let i=new Ho(e,t,this);return this.channels.push(i),i}push(e){if(this.hasLogger()){let{topic:t,event:i,payload:n,ref:s,join_ref:r}=e;this.log("push",`${t} ${i} (${r}, ${s})`,n)}this.isConnected()?this.encode(e,t=>this.conn.send(t)):this.sendBuffer.push(()=>this.encode(e,t=>this.conn.send(t)))}makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}sendHeartbeat(){this.pendingHeartbeatRef&&!this.isConnected()||(this.pendingHeartbeatRef=this.makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatTimer=setTimeout(()=>this.heartbeatTimeout(),this.heartbeatIntervalMs))}abnormalClose(e){this.closeWasClean=!1,this.isConnected()&&this.conn.close(Mo,e)}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}onConnMessage(e){this.decode(e.data,t=>{let{topic:i,event:n,payload:s,ref:r,join_ref:o}=t;r&&r===this.pendingHeartbeatRef&&(clearTimeout(this.heartbeatTimer),this.pendingHeartbeatRef=null,setTimeout(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)),this.hasLogger()&&this.log("receive",`${s.status||""} ${i} ${n} ${r&&"("+r+")"||""}`,s);for(let a=0;a<this.channels.length;a++){let u=this.channels[a];!u.isMember(i,n,s,o)||u.trigger(n,s,r,o)}for(let a=0;a<this.stateChangeCallbacks.message.length;a++){let[,u]=this.stateChangeCallbacks.message[a];u(t)}})}leaveOpenTopic(e){let t=this.channels.find(i=>i.topic===e&&(i.isJoined()||i.isJoining()));t&&(this.hasLogger()&&this.log("transport",`leaving duplicate topic "${e}"`),t.leave())}};var Vn=Ro(ys());var js="consecutive-reloads",No=10,Fo=5e3,Uo=1e4,$o=3e4,Bs=["phx-click-loading","phx-change-loading","phx-submit-loading","phx-keydown-loading","phx-keyup-loading","phx-blur-loading","phx-focus-loading"],_e="data-phx-component",ln="data-phx-link",jo="track-static",Bo="data-phx-link-state",Ye="data-phx-ref",wt="data-phx-ref-src",Vs="track-uploads",St="data-phx-upload-ref",wn="data-phx-preflighted-refs",Vo="data-phx-done-refs",ws="drop-target",gn="data-phx-active-refs",Di="phx:live-file:updated",mn="data-phx-skip",Ss="data-phx-prune",ks="page-loading",Cs="phx-connected",an="phx-loading",As="phx-no-feedback",xs="phx-error",Ot="data-phx-parent-id",Sn="data-phx-main",ri="data-phx-root-id",Jo="trigger-action",vn="feedback-for",Js="phx-has-focused",Wo=["text","textarea","number","email","password","search","tel","url","date","time","datetime-local","color","range"],Ws=["checkbox","radio"],zs="phx-has-submitted",ut="data-phx-session",Nt=`[${ut}]`,Es="data-phx-sticky",ni="data-phx-static",hn="data-phx-readonly",ki="data-phx-disabled",bn="disable-with",Ci="data-phx-disable-with-restore",Qt="hook",zo="debounce",Yo="throttle",yn="update",Xo="key",Ve="phxPrivate",Ts="auto-recover",Ai="phx:live-socket:debug",cn="phx:live-socket:profiling",un="phx:live-socket:latency-sim",qo="progress",_s="mounted",Ko=1,Go=200,Qo="phx-",Zo=3e4,Zt="debounce-trigger",xi="throttled",Ps="debounce-prev-key",el={debounce:300,throttle:300},Rs="d",Je="s",Te="c",Ds="e",Ls="r",Is="t",tl="p",il=class{constructor(e,t,i){this.liveSocket=i,this.entry=e,this.offset=0,this.chunkSize=t,this.chunkTimer=null,this.uploadChannel=i.channel(`lvu:${e.ref}`,{token:e.metadata()})}error(e){clearTimeout(this.chunkTimer),this.uploadChannel.leave(),this.entry.error(e)}upload(){this.uploadChannel.onError(e=>this.error(e)),this.uploadChannel.join().receive("ok",e=>this.readNextChunk()).receive("error",e=>this.error(e))}isDone(){return this.offset>=this.entry.file.size}readNextChunk(){let e=new window.FileReader,t=this.entry.file.slice(this.offset,this.chunkSize+this.offset);e.onload=i=>{if(i.target.error===null)this.offset+=i.target.result.byteLength,this.pushChunk(i.target.result);else return me("Read error: "+i.target.error)},e.readAsArrayBuffer(t)}pushChunk(e){!this.uploadChannel.isJoined()||this.uploadChannel.push("chunk",e).receive("ok",()=>{this.entry.progress(this.offset/this.entry.file.size*100),this.isDone()||(this.chunkTimer=setTimeout(()=>this.readNextChunk(),this.liveSocket.getLatencySim()||0))})}},me=(e,t)=>console.error&&console.error(e,t),ct=e=>{let t=typeof e;return t==="number"||t==="string"&&/^(0|[1-9]\d*)$/.test(e)};function nl(){let e=new Set,t=document.querySelectorAll("*[id]");for(let i=0,n=t.length;i<n;i++)e.has(t[i].id)?console.error(`Multiple IDs detected: ${t[i].id}. Ensure unique element ids.`):e.add(t[i].id)}var sl=(e,t,i,n)=>{e.liveSocket.isDebugEnabled()&&console.log(`${e.id} ${t}: ${i} - `,n)},dn=e=>typeof e=="function"?e:function(){return e},Li=e=>JSON.parse(JSON.stringify(e)),si=(e,t,i)=>{do{if(e.matches(`[${t}]`))return e;e=e.parentElement||e.parentNode}while(e!==null&&e.nodeType===1&&!(i&&i.isSameNode(e)||e.matches(Nt)));return null},ei=e=>e!==null&&typeof e=="object"&&!(e instanceof Array),rl=(e,t)=>JSON.stringify(e)===JSON.stringify(t),Ms=e=>{for(let t in e)return!1;return!0},Ze=(e,t)=>e&&t(e),ol=function(e,t,i,n){e.forEach(s=>{new il(s,i.config.chunk_size,n).upload()})},Ys={canPushState(){return typeof history.pushState<"u"},dropLocal(e,t,i){return e.removeItem(this.localKey(t,i))},updateLocal(e,t,i,n,s){let r=this.getLocal(e,t,i),o=this.localKey(t,i),a=r===null?n:s(r);return e.setItem(o,JSON.stringify(a)),a},getLocal(e,t,i){return JSON.parse(e.getItem(this.localKey(t,i)))},updateCurrentState(e){!this.canPushState()||history.replaceState(e(history.state||{}),"",window.location.href)},pushState(e,t,i){if(this.canPushState()){if(i!==window.location.href){if(t.type=="redirect"&&t.scroll){let s=history.state||{};s.scroll=t.scroll,history.replaceState(s,"",window.location.href)}delete t.scroll,history[e+"State"](t,"",i||null);let n=this.getHashTargetEl(window.location.hash);n?n.scrollIntoView():t.type==="redirect"&&window.scroll(0,0)}}else this.redirect(i)},setCookie(e,t){document.cookie=`${e}=${t}`},getCookie(e){return document.cookie.replace(new RegExp(`(?:(?:^|.*;s*)${e}s*=s*([^;]*).*$)|^.*$`),"$1")},redirect(e,t){t&&Ys.setCookie("__phoenix_flash__",t+"; max-age=60000; path=/"),window.location=e},localKey(e,t){return`${e}-${t}`},getHashTargetEl(e){let t=e.toString().substring(1);if(t!=="")return document.getElementById(t)||document.querySelector(`a[name="${t}"]`)}},We=Ys,Oe={byId(e){return document.getElementById(e)||me(`no id found for ${e}`)},removeClass(e,t){e.classList.remove(t),e.classList.length===0&&e.removeAttribute("class")},all(e,t,i){if(!e)return[];let n=Array.from(e.querySelectorAll(t));return i?n.forEach(i):n},childNodeLength(e){let t=document.createElement("template");return t.innerHTML=e,t.content.childElementCount},isUploadInput(e){return e.type==="file"&&e.getAttribute(St)!==null},findUploadInputs(e){return this.all(e,`input[type="file"][${St}]`)},findComponentNodeList(e,t){return this.filterWithinSameLiveView(this.all(e,`[${_e}="${t}"]`),e)},isPhxDestroyed(e){return!!(e.id&&Oe.private(e,"destroyed"))},markPhxChildDestroyed(e){this.isPhxChild(e)&&e.setAttribute(ut,""),this.putPrivate(e,"destroyed",!0)},findPhxChildrenInFragment(e,t){let i=document.createElement("template");return i.innerHTML=e,this.findPhxChildren(i.content,t)},isIgnored(e,t){return(e.getAttribute(t)||e.getAttribute("data-phx-update"))==="ignore"},isPhxUpdate(e,t,i){return e.getAttribute&&i.indexOf(e.getAttribute(t))>=0},findPhxSticky(e){return this.all(e,`[${Es}]`)},findPhxChildren(e,t){return this.all(e,`${Nt}[${Ot}="${t}"]`)},findParentCIDs(e,t){let i=new Set(t),n=t.reduce((s,r)=>{let o=`[${_e}="${r}"] [${_e}]`;return this.filterWithinSameLiveView(this.all(e,o),e).map(a=>parseInt(a.getAttribute(_e))).forEach(a=>s.delete(a)),s},i);return n.size===0?new Set(t):n},filterWithinSameLiveView(e,t){return t.querySelector(Nt)?e.filter(i=>this.withinSameLiveView(i,t)):e},withinSameLiveView(e,t){for(;e=e.parentNode;){if(e.isSameNode(t))return!0;if(e.getAttribute(ut)!==null)return!1}},private(e,t){return e[Ve]&&e[Ve][t]},deletePrivate(e,t){e[Ve]&&delete e[Ve][t]},putPrivate(e,t,i){e[Ve]||(e[Ve]={}),e[Ve][t]=i},updatePrivate(e,t,i,n){let s=this.private(e,t);s===void 0?this.putPrivate(e,t,n(i)):this.putPrivate(e,t,n(s))},copyPrivates(e,t){t[Ve]&&(e[Ve]=t[Ve])},putTitle(e){let t=document.querySelector("title"),{prefix:i,suffix:n}=t.dataset;document.title=`${i||""}${e}${n||""}`},debounce(e,t,i,n,s,r,o,a){let u=e.getAttribute(i),d=e.getAttribute(s);u===""&&(u=n),d===""&&(d=r);let v=u||d;switch(v){case null:return a();case"blur":this.once(e,"debounce-blur")&&e.addEventListener("blur",()=>a());return;default:let w=parseInt(v),g=()=>d?this.deletePrivate(e,xi):a(),p=this.incCycle(e,Zt,g);if(isNaN(w))return me(`invalid throttle/debounce value: ${v}`);if(d){let A=!1;if(t.type==="keydown"){let P=this.private(e,Ps);this.putPrivate(e,Ps,t.key),A=P!==t.key}if(!A&&this.private(e,xi))return!1;a(),this.putPrivate(e,xi,!0),setTimeout(()=>{o()&&this.triggerCycle(e,Zt)},w)}else setTimeout(()=>{o()&&this.triggerCycle(e,Zt,p)},w);let C=e.form;C&&this.once(C,"bind-debounce")&&C.addEventListener("submit",()=>{Array.from(new FormData(C).entries(),([A])=>{let P=C.querySelector(`[name="${A}"]`);this.incCycle(P,Zt),this.deletePrivate(P,xi)})}),this.once(e,"bind-debounce")&&e.addEventListener("blur",()=>this.triggerCycle(e,Zt))}},triggerCycle(e,t,i){let[n,s]=this.private(e,t);i||(i=n),i===n&&(this.incCycle(e,t),s())},once(e,t){return this.private(e,t)===!0?!1:(this.putPrivate(e,t,!0),!0)},incCycle(e,t,i=function(){}){let[n]=this.private(e,t)||[0,i];return n++,this.putPrivate(e,t,[n,i]),n},discardError(e,t,i){let n=t.getAttribute&&t.getAttribute(i),s=n&&e.querySelector(`[id="${n}"], [name="${n}"], [name="${n}[]"]`);!s||this.private(s,Js)||this.private(s.form,zs)||t.classList.add(As)},showError(e,t){(e.id||e.name)&&this.all(e.form,`[${t}="${e.id}"], [${t}="${e.name}"]`,i=>{this.removeClass(i,As)})},isPhxChild(e){return e.getAttribute&&e.getAttribute(Ot)},isPhxSticky(e){return e.getAttribute&&e.getAttribute(Es)!==null},firstPhxChild(e){return this.isPhxChild(e)?e:this.all(e,`[${Ot}]`)[0]},dispatchEvent(e,t,i={}){let s={bubbles:i.bubbles===void 0?!0:!!i.bubbles,cancelable:!0,detail:i.detail||{}},r=t==="click"?new MouseEvent("click",s):new CustomEvent(t,s);e.dispatchEvent(r)},cloneNode(e,t){if(typeof t>"u")return e.cloneNode(!0);{let i=e.cloneNode(!1);return i.innerHTML=t,i}},mergeAttrs(e,t,i={}){let n=i.exclude||[],s=i.isIgnored,r=t.attributes;for(let a=r.length-1;a>=0;a--){let u=r[a].name;n.indexOf(u)<0&&e.setAttribute(u,t.getAttribute(u))}let o=e.attributes;for(let a=o.length-1;a>=0;a--){let u=o[a].name;s?u.startsWith("data-")&&!t.hasAttribute(u)&&e.removeAttribute(u):t.hasAttribute(u)||e.removeAttribute(u)}},mergeFocusedInput(e,t){e instanceof HTMLSelectElement||Oe.mergeAttrs(e,t,{exclude:["value"]}),t.readOnly?e.setAttribute("readonly",!0):e.removeAttribute("readonly")},hasSelectionRange(e){return e.setSelectionRange&&(e.type==="text"||e.type==="textarea")},restoreFocus(e,t,i){if(!Oe.isTextualInput(e))return;let n=e.matches(":focus");e.readOnly&&e.blur(),n||e.focus(),this.hasSelectionRange(e)&&e.setSelectionRange(t,i)},isFormInput(e){return/^(?:input|select|textarea)$/i.test(e.tagName)&&e.type!=="button"},syncAttrsToProps(e){e instanceof HTMLInputElement&&Ws.indexOf(e.type.toLocaleLowerCase())>=0&&(e.checked=e.getAttribute("checked")!==null)},isTextualInput(e){return Wo.indexOf(e.type)>=0},isNowTriggerFormExternal(e,t){return e.getAttribute&&e.getAttribute(t)!==null},syncPendingRef(e,t,i){let n=e.getAttribute(Ye);if(n===null)return!0;let s=e.getAttribute(wt);return Oe.isFormInput(e)||e.getAttribute(i)!==null?(Oe.isUploadInput(e)&&Oe.mergeAttrs(e,t,{isIgnored:!0}),Oe.putPrivate(e,Ye,t),!1):(Bs.forEach(r=>{e.classList.contains(r)&&t.classList.add(r)}),t.setAttribute(Ye,n),t.setAttribute(wt,s),!0)},cleanChildNodes(e,t){if(Oe.isPhxUpdate(e,t,["append","prepend"])){let i=[];e.childNodes.forEach(n=>{n.id||(n.nodeType===Node.TEXT_NODE&&n.nodeValue.trim()===""||me(`only HTML element tags with an id are allowed inside containers with phx-update.

removing illegal node: "${(n.outerHTML||n.nodeValue).trim()}"

`),i.push(n))}),i.forEach(n=>n.remove())}},replaceRootContainer(e,t,i){let n=new Set(["id",ut,ni,Sn,ri]);if(e.tagName.toLowerCase()===t.toLowerCase())return Array.from(e.attributes).filter(s=>!n.has(s.name.toLowerCase())).forEach(s=>e.removeAttribute(s.name)),Object.keys(i).filter(s=>!n.has(s.toLowerCase())).forEach(s=>e.setAttribute(s,i[s])),e;{let s=document.createElement(t);return Object.keys(i).forEach(r=>s.setAttribute(r,i[r])),n.forEach(r=>s.setAttribute(r,e.getAttribute(r))),s.innerHTML=e.innerHTML,e.replaceWith(s),s}},getSticky(e,t,i){let n=(Oe.private(e,"sticky")||[]).find(([s])=>t===s);if(n){let[s,r,o]=n;return o}else return typeof i=="function"?i():i},deleteSticky(e,t){this.updatePrivate(e,"sticky",[],i=>i.filter(([n,s])=>n!==t))},putSticky(e,t,i){let n=i(e);this.updatePrivate(e,"sticky",[],s=>{let r=s.findIndex(([o])=>t===o);return r>=0?s[r]=[t,i,n]:s.push([t,i,n]),s})},applyStickyOperations(e){let t=Oe.private(e,"sticky");!t||t.forEach(([i,n,s])=>this.putSticky(e,i,n))}},y=Oe,fn=class{static isActive(e,t){let i=t._phxRef===void 0,s=e.getAttribute(gn).split(",").indexOf(ge.genFileRef(t))>=0;return t.size>0&&(i||s)}static isPreflighted(e,t){return e.getAttribute(wn).split(",").indexOf(ge.genFileRef(t))>=0&&this.isActive(e,t)}constructor(e,t,i){this.ref=ge.genFileRef(t),this.fileEl=e,this.file=t,this.view=i,this.meta=null,this._isCancelled=!1,this._isDone=!1,this._progress=0,this._lastProgressSent=-1,this._onDone=function(){},this._onElUpdated=this.onElUpdated.bind(this),this.fileEl.addEventListener(Di,this._onElUpdated)}metadata(){return this.meta}progress(e){this._progress=Math.floor(e),this._progress>this._lastProgressSent&&(this._progress>=100?(this._progress=100,this._lastProgressSent=100,this._isDone=!0,this.view.pushFileProgress(this.fileEl,this.ref,100,()=>{ge.untrackFile(this.fileEl,this.file),this._onDone()})):(this._lastProgressSent=this._progress,this.view.pushFileProgress(this.fileEl,this.ref,this._progress)))}cancel(){this._isCancelled=!0,this._isDone=!0,this._onDone()}isDone(){return this._isDone}error(e="failed"){this.fileEl.removeEventListener(Di,this._onElUpdated),this.view.pushFileProgress(this.fileEl,this.ref,{error:e}),ge.clearFiles(this.fileEl)}onDone(e){this._onDone=()=>{this.fileEl.removeEventListener(Di,this._onElUpdated),e()}}onElUpdated(){this.fileEl.getAttribute(gn).split(",").indexOf(this.ref)===-1&&this.cancel()}toPreflightPayload(){return{last_modified:this.file.lastModified,name:this.file.name,relative_path:this.file.webkitRelativePath,size:this.file.size,type:this.file.type,ref:this.ref}}uploader(e){if(this.meta.uploader){let t=e[this.meta.uploader]||me(`no uploader configured for ${this.meta.uploader}`);return{name:this.meta.uploader,callback:t}}else return{name:"channel",callback:ol}}zipPostFlight(e){this.meta=e.entries[this.ref],this.meta||me(`no preflight upload response returned with ref ${this.ref}`,{input:this.fileEl,response:e})}},ll=0,ge=class{static genFileRef(e){let t=e._phxRef;return t!==void 0?t:(e._phxRef=(ll++).toString(),e._phxRef)}static getEntryDataURL(e,t,i){let n=this.activeFiles(e).find(s=>this.genFileRef(s)===t);i(URL.createObjectURL(n))}static hasUploadsInProgress(e){let t=0;return y.findUploadInputs(e).forEach(i=>{i.getAttribute(wn)!==i.getAttribute(Vo)&&t++}),t>0}static serializeUploads(e){let t=this.activeFiles(e),i={};return t.forEach(n=>{let s={path:e.name},r=e.getAttribute(St);i[r]=i[r]||[],s.ref=this.genFileRef(n),s.last_modified=n.lastModified,s.name=n.name||s.ref,s.relative_path=n.webkitRelativePath,s.type=n.type,s.size=n.size,i[r].push(s)}),i}static clearFiles(e){e.value=null,e.removeAttribute(St),y.putPrivate(e,"files",[])}static untrackFile(e,t){y.putPrivate(e,"files",y.private(e,"files").filter(i=>!Object.is(i,t)))}static trackFiles(e,t){if(e.getAttribute("multiple")!==null){let i=t.filter(n=>!this.activeFiles(e).find(s=>Object.is(s,n)));y.putPrivate(e,"files",this.activeFiles(e).concat(i)),e.value=null}else y.putPrivate(e,"files",t)}static activeFileInputs(e){let t=y.findUploadInputs(e);return Array.from(t).filter(i=>i.files&&this.activeFiles(i).length>0)}static activeFiles(e){return(y.private(e,"files")||[]).filter(t=>fn.isActive(e,t))}static inputsAwaitingPreflight(e){let t=y.findUploadInputs(e);return Array.from(t).filter(i=>this.filesAwaitingPreflight(i).length>0)}static filesAwaitingPreflight(e){return this.activeFiles(e).filter(t=>!fn.isPreflighted(e,t))}constructor(e,t,i){this.view=t,this.onComplete=i,this._entries=Array.from(ge.filesAwaitingPreflight(e)||[]).map(n=>new fn(e,n,t)),this.numEntriesInProgress=this._entries.length}entries(){return this._entries}initAdapterUpload(e,t,i){this._entries=this._entries.map(s=>(s.zipPostFlight(e),s.onDone(()=>{this.numEntriesInProgress--,this.numEntriesInProgress===0&&this.onComplete()}),s));let n=this._entries.reduce((s,r)=>{let{name:o,callback:a}=r.uploader(i.uploaders);return s[o]=s[o]||{callback:a,entries:[]},s[o].entries.push(r),s},{});for(let s in n){let{callback:r,entries:o}=n[s];r(o,t,e,i)}}},al={focusMain(){let e=document.querySelector("main h1, main, h1");if(e){let t=e.tabIndex;e.tabIndex=-1,e.focus(),e.tabIndex=t}},anyOf(e,t){return t.find(i=>e instanceof i)},isFocusable(e,t){return e instanceof HTMLAnchorElement&&e.rel!=="ignore"||e instanceof HTMLAreaElement&&e.href!==void 0||!e.disabled&&this.anyOf(e,[HTMLInputElement,HTMLSelectElement,HTMLTextAreaElement,HTMLButtonElement])||e instanceof HTMLIFrameElement||e.tabIndex>0||!t&&e.tabIndex===0&&e.getAttribute("tabindex")!==null&&e.getAttribute("aria-hidden")!=="true"},attemptFocus(e,t){if(this.isFocusable(e,t))try{e.focus()}catch{}return!!document.activeElement&&document.activeElement.isSameNode(e)},focusFirstInteractive(e){let t=e.firstElementChild;for(;t;){if(this.attemptFocus(t,!0)||this.focusFirstInteractive(t,!0))return!0;t=t.nextElementSibling}},focusFirst(e){let t=e.firstElementChild;for(;t;){if(this.attemptFocus(t)||this.focusFirst(t))return!0;t=t.nextElementSibling}},focusLast(e){let t=e.lastElementChild;for(;t;){if(this.attemptFocus(t)||this.focusLast(t))return!0;t=t.previousElementSibling}}},Ht=al,hl={LiveFileUpload:{activeRefs(){return this.el.getAttribute(gn)},preflightedRefs(){return this.el.getAttribute(wn)},mounted(){this.preflightedWas=this.preflightedRefs()},updated(){let e=this.preflightedRefs();this.preflightedWas!==e&&(this.preflightedWas=e,e===""&&this.__view.cancelSubmit(this.el.form)),this.activeRefs()===""&&(this.el.value=null),this.el.dispatchEvent(new CustomEvent(Di))}},LiveImgPreview:{mounted(){this.ref=this.el.getAttribute("data-phx-entry-ref"),this.inputEl=document.getElementById(this.el.getAttribute(St)),ge.getEntryDataURL(this.inputEl,this.ref,e=>{this.url=e,this.el.src=e})},destroyed(){URL.revokeObjectURL(this.url)}},FocusWrap:{mounted(){this.focusStart=this.el.firstElementChild,this.focusEnd=this.el.lastElementChild,this.focusStart.addEventListener("focus",()=>Ht.focusLast(this.el)),this.focusEnd.addEventListener("focus",()=>Ht.focusFirst(this.el)),this.el.addEventListener("phx:show-end",()=>this.el.focus()),window.getComputedStyle(this.el).display!=="none"&&Ht.focusFirst(this.el)}}},cl=hl,ul=class{constructor(e,t,i){let n=new Set,s=new Set([...t.children].map(o=>o.id)),r=[];Array.from(e.children).forEach(o=>{if(o.id&&(n.add(o.id),s.has(o.id))){let a=o.previousElementSibling&&o.previousElementSibling.id;r.push({elementId:o.id,previousElementId:a})}}),this.containerId=t.id,this.updateType=i,this.elementsToModify=r,this.elementIdsToAdd=[...s].filter(o=>!n.has(o))}perform(){let e=y.byId(this.containerId);this.elementsToModify.forEach(t=>{t.previousElementId?Ze(document.getElementById(t.previousElementId),i=>{Ze(document.getElementById(t.elementId),n=>{n.previousElementSibling&&n.previousElementSibling.id==i.id||i.insertAdjacentElement("afterend",n)})}):Ze(document.getElementById(t.elementId),i=>{i.previousElementSibling==null||e.insertAdjacentElement("afterbegin",i)})}),this.updateType=="prepend"&&this.elementIdsToAdd.reverse().forEach(t=>{Ze(document.getElementById(t),i=>e.insertAdjacentElement("afterbegin",i))})}},Os=11;function dl(e,t){var i=t.attributes,n,s,r,o,a;if(!(t.nodeType===Os||e.nodeType===Os)){for(var u=i.length-1;u>=0;u--)n=i[u],s=n.name,r=n.namespaceURI,o=n.value,r?(s=n.localName||s,a=e.getAttributeNS(r,s),a!==o&&(n.prefix==="xmlns"&&(s=n.name),e.setAttributeNS(r,s,o))):(a=e.getAttribute(s),a!==o&&e.setAttribute(s,o));for(var d=e.attributes,v=d.length-1;v>=0;v--)n=d[v],s=n.name,r=n.namespaceURI,r?(s=n.localName||s,t.hasAttributeNS(r,s)||e.removeAttributeNS(r,s)):t.hasAttribute(s)||e.removeAttribute(s)}}var Ei,fl="http://www.w3.org/1999/xhtml",ke=typeof document>"u"?void 0:document,pl=!!ke&&"content"in ke.createElement("template"),gl=!!ke&&ke.createRange&&"createContextualFragment"in ke.createRange();function ml(e){var t=ke.createElement("template");return t.innerHTML=e,t.content.childNodes[0]}function vl(e){Ei||(Ei=ke.createRange(),Ei.selectNode(ke.body));var t=Ei.createContextualFragment(e);return t.childNodes[0]}function bl(e){var t=ke.createElement("body");return t.innerHTML=e,t.childNodes[0]}function yl(e){return e=e.trim(),pl?ml(e):gl?vl(e):bl(e)}function Ti(e,t){var i=e.nodeName,n=t.nodeName,s,r;return i===n?!0:(s=i.charCodeAt(0),r=n.charCodeAt(0),s<=90&&r>=97?i===n.toUpperCase():r<=90&&s>=97?n===i.toUpperCase():!1)}function wl(e,t){return!t||t===fl?ke.createElement(e):ke.createElementNS(t,e)}function Sl(e,t){for(var i=e.firstChild;i;){var n=i.nextSibling;t.appendChild(i),i=n}return t}function pn(e,t,i){e[i]!==t[i]&&(e[i]=t[i],e[i]?e.setAttribute(i,""):e.removeAttribute(i))}var Hs={OPTION:function(e,t){var i=e.parentNode;if(i){var n=i.nodeName.toUpperCase();n==="OPTGROUP"&&(i=i.parentNode,n=i&&i.nodeName.toUpperCase()),n==="SELECT"&&!i.hasAttribute("multiple")&&(e.hasAttribute("selected")&&!t.selected&&(e.setAttribute("selected","selected"),e.removeAttribute("selected")),i.selectedIndex=-1)}pn(e,t,"selected")},INPUT:function(e,t){pn(e,t,"checked"),pn(e,t,"disabled"),e.value!==t.value&&(e.value=t.value),t.hasAttribute("value")||e.removeAttribute("value")},TEXTAREA:function(e,t){var i=t.value;e.value!==i&&(e.value=i);var n=e.firstChild;if(n){var s=n.nodeValue;if(s==i||!i&&s==e.placeholder)return;n.nodeValue=i}},SELECT:function(e,t){if(!t.hasAttribute("multiple")){for(var i=-1,n=0,s=e.firstChild,r,o;s;)if(o=s.nodeName&&s.nodeName.toUpperCase(),o==="OPTGROUP")r=s,s=r.firstChild;else{if(o==="OPTION"){if(s.hasAttribute("selected")){i=n;break}n++}s=s.nextSibling,!s&&r&&(s=r.nextSibling,r=null)}e.selectedIndex=i}}},ti=1,kl=11,Ns=3,Fs=8;function yt(){}function Cl(e){if(e)return e.getAttribute&&e.getAttribute("id")||e.id}function Al(e){return function(i,n,s){if(s||(s={}),typeof n=="string")if(i.nodeName==="#document"||i.nodeName==="HTML"||i.nodeName==="BODY"){var r=n;n=ke.createElement("html"),n.innerHTML=r}else n=yl(n);var o=s.getNodeKey||Cl,a=s.onBeforeNodeAdded||yt,u=s.onNodeAdded||yt,d=s.onBeforeElUpdated||yt,v=s.onElUpdated||yt,w=s.onBeforeNodeDiscarded||yt,g=s.onNodeDiscarded||yt,p=s.onBeforeElChildrenUpdated||yt,C=s.childrenOnly===!0,A=Object.create(null),P=[];function N(D){P.push(D)}function M(D,T){if(D.nodeType===ti)for(var R=D.firstChild;R;){var $=void 0;T&&($=o(R))?N($):(g(R),R.firstChild&&M(R,T)),R=R.nextSibling}}function b(D,T,R){w(D)!==!1&&(T&&T.removeChild(D),g(D),M(D,R))}function _(D){if(D.nodeType===ti||D.nodeType===kl)for(var T=D.firstChild;T;){var R=o(T);R&&(A[R]=T),_(T),T=T.nextSibling}}_(i);function he(D){u(D);for(var T=D.firstChild;T;){var R=T.nextSibling,$=o(T);if($){var Ce=A[$];Ce&&Ti(T,Ce)?(T.parentNode.replaceChild(Ce,T),Pe(Ce,T)):he(T)}else he(T);T=R}}function Y(D,T,R){for(;T;){var $=T.nextSibling;(R=o(T))?N(R):b(T,D,!0),T=$}}function Pe(D,T,R){var $=o(T);$&&delete A[$],!(!R&&(d(D,T)===!1||(e(D,T),v(D),p(D,T)===!1)))&&(D.nodeName!=="TEXTAREA"?Ue(D,T):Hs.TEXTAREA(D,T))}function Ue(D,T){var R=T.firstChild,$=D.firstChild,Ce,$e,H,Xe,je;e:for(;R;){for(Xe=R.nextSibling,Ce=o(R);$;){if(H=$.nextSibling,R.isSameNode&&R.isSameNode($)){R=Xe,$=H;continue e}$e=o($);var we=$.nodeType,z=void 0;if(we===R.nodeType&&(we===ti?(Ce?Ce!==$e&&((je=A[Ce])?H===je?z=!1:(D.insertBefore(je,$),$e?N($e):b($,D,!0),$=je):z=!1):$e&&(z=!1),z=z!==!1&&Ti($,R),z&&Pe($,R)):(we===Ns||we==Fs)&&(z=!0,$.nodeValue!==R.nodeValue&&($.nodeValue=R.nodeValue))),z){R=Xe,$=H;continue e}$e?N($e):b($,D,!0),$=H}if(Ce&&(je=A[Ce])&&Ti(je,R))D.appendChild(je),Pe(je,R);else{var Q=a(R);Q!==!1&&(Q&&(R=Q),R.actualize&&(R=R.actualize(D.ownerDocument||ke)),D.appendChild(R),he(R))}R=Xe,$=H}Y(D,$,$e);var Wt=Hs[D.nodeName];Wt&&Wt(D,T)}var K=i,Ie=K.nodeType,ui=n.nodeType;if(!C){if(Ie===ti)ui===ti?Ti(i,n)||(g(i),K=Sl(i,wl(n.nodeName,n.namespaceURI))):K=n;else if(Ie===Ns||Ie===Fs){if(ui===Ie)return K.nodeValue!==n.nodeValue&&(K.nodeValue=n.nodeValue),K;K=n}}if(K===n)g(i);else{if(n.isSameNode&&n.isSameNode(K))return;if(Pe(K,n,C),P)for(var Jt=0,U=P.length;Jt<U;Jt++){var pt=A[P[Jt]];pt&&b(pt,pt.parentNode,!1)}}return!C&&K!==i&&i.parentNode&&(K.actualize&&(K=K.actualize(i.ownerDocument||ke)),i.parentNode.replaceChild(K,i)),K}}var xl=Al(dl),Us=xl,_i=class{static patchEl(e,t,i){Us(e,t,{childrenOnly:!1,onBeforeElUpdated:(n,s)=>{if(i&&i.isSameNode(n)&&y.isFormInput(n))return y.mergeFocusedInput(n,s),!1}})}constructor(e,t,i,n,s){this.view=e,this.liveSocket=e.liveSocket,this.container=t,this.id=i,this.rootID=e.root.id,this.html=n,this.targetCID=s,this.cidPatch=ct(this.targetCID),this.callbacks={beforeadded:[],beforeupdated:[],beforephxChildAdded:[],afteradded:[],afterupdated:[],afterdiscarded:[],afterphxChildAdded:[],aftertransitionsDiscarded:[]}}before(e,t){this.callbacks[`before${e}`].push(t)}after(e,t){this.callbacks[`after${e}`].push(t)}trackBefore(e,...t){this.callbacks[`before${e}`].forEach(i=>i(...t))}trackAfter(e,...t){this.callbacks[`after${e}`].forEach(i=>i(...t))}markPrunableContentForRemoval(){y.all(this.container,"[phx-update=append] > *, [phx-update=prepend] > *",e=>{e.setAttribute(Ss,"")})}perform(){let{view:e,liveSocket:t,container:i,html:n}=this,s=this.isCIDPatch()?this.targetCIDContainer(n):i;if(this.isCIDPatch()&&!s)return;let r=t.getActiveElement(),{selectionStart:o,selectionEnd:a}=r&&y.hasSelectionRange(r)?r:{},u=t.binding(yn),d=t.binding(vn),v=t.binding(bn),w=t.binding(Jo),g=t.binding("remove"),p=[],C=[],A=[],P=[],N=null,M=t.time("premorph container prep",()=>this.buildDiffHTML(i,n,u,s));return this.trackBefore("added",i),this.trackBefore("updated",i,i),t.time("morphdom",()=>{Us(s,M,{childrenOnly:s.getAttribute(_e)===null,getNodeKey:b=>y.isPhxDestroyed(b)?null:b.id,onBeforeNodeAdded:b=>(this.trackBefore("added",b),b),onNodeAdded:b=>{b instanceof HTMLImageElement&&b.srcset?b.srcset=b.srcset:b instanceof HTMLVideoElement&&b.autoplay&&b.play(),y.isNowTriggerFormExternal(b,w)&&(N=b),y.discardError(s,b,d),(y.isPhxChild(b)&&e.ownsElement(b)||y.isPhxSticky(b)&&e.ownsElement(b.parentNode))&&this.trackAfter("phxChildAdded",b),p.push(b)},onNodeDiscarded:b=>{(y.isPhxChild(b)||y.isPhxSticky(b))&&t.destroyViewByEl(b),this.trackAfter("discarded",b)},onBeforeNodeDiscarded:b=>b.getAttribute&&b.getAttribute(Ss)!==null?!0:b.parentNode!==null&&y.isPhxUpdate(b.parentNode,u,["append","prepend"])&&b.id?!1:b.getAttribute&&b.getAttribute(g)?(P.push(b),!1):!this.skipCIDSibling(b),onElUpdated:b=>{y.isNowTriggerFormExternal(b,w)&&(N=b),C.push(b)},onBeforeElUpdated:(b,_)=>{if(y.cleanChildNodes(_,u),this.skipCIDSibling(_)||y.isPhxSticky(b))return!1;if(y.isIgnored(b,u)||b.form&&b.form.isSameNode(N))return this.trackBefore("updated",b,_),y.mergeAttrs(b,_,{isIgnored:!0}),C.push(b),y.applyStickyOperations(b),!1;if(b.type==="number"&&b.validity&&b.validity.badInput)return!1;if(!y.syncPendingRef(b,_,v))return y.isUploadInput(b)&&(this.trackBefore("updated",b,_),C.push(b)),y.applyStickyOperations(b),!1;if(y.isPhxChild(_)){let Y=b.getAttribute(ut);return y.mergeAttrs(b,_,{exclude:[ni]}),Y!==""&&b.setAttribute(ut,Y),b.setAttribute(ri,this.rootID),y.applyStickyOperations(b),!1}return y.copyPrivates(_,b),y.discardError(s,_,d),r&&b.isSameNode(r)&&y.isFormInput(b)?(this.trackBefore("updated",b,_),y.mergeFocusedInput(b,_),y.syncAttrsToProps(b),C.push(b),y.applyStickyOperations(b),!1):(y.isPhxUpdate(_,u,["append","prepend"])&&A.push(new ul(b,_,_.getAttribute(u))),y.syncAttrsToProps(_),y.applyStickyOperations(_),this.trackBefore("updated",b,_),!0)}})}),t.isDebugEnabled()&&nl(),A.length>0&&t.time("post-morph append/prepend restoration",()=>{A.forEach(b=>b.perform())}),t.silenceEvents(()=>y.restoreFocus(r,o,a)),y.dispatchEvent(document,"phx:update"),p.forEach(b=>this.trackAfter("added",b)),C.forEach(b=>this.trackAfter("updated",b)),P.length>0&&(t.transitionRemoves(P),t.requestDOMUpdate(()=>{P.forEach(b=>{let _=y.firstPhxChild(b);_&&t.destroyViewByEl(_),b.remove()}),this.trackAfter("transitionsDiscarded",P)})),N&&(t.disconnect(),N.submit()),!0}isCIDPatch(){return this.cidPatch}skipCIDSibling(e){return e.nodeType===Node.ELEMENT_NODE&&e.getAttribute(mn)!==null}targetCIDContainer(e){if(!this.isCIDPatch())return;let[t,...i]=y.findComponentNodeList(this.container,this.targetCID);return i.length===0&&y.childNodeLength(e)===1?t:t&&t.parentNode}buildDiffHTML(e,t,i,n){let s=this.isCIDPatch(),r=s&&n.getAttribute(_e)===this.targetCID.toString();if(!s||r)return t;{let o=null,a=document.createElement("template");o=y.cloneNode(n);let[u,...d]=y.findComponentNodeList(o,this.targetCID);return a.innerHTML=t,d.forEach(v=>v.remove()),Array.from(o.childNodes).forEach(v=>{v.id&&v.nodeType===Node.ELEMENT_NODE&&v.getAttribute(_e)!==this.targetCID.toString()&&(v.setAttribute(mn,""),v.innerHTML="")}),Array.from(a.content.childNodes).forEach(v=>o.insertBefore(v,u)),u.remove(),o.outerHTML}}},$s=class{static extract(e){let{[Ls]:t,[Ds]:i,[Is]:n}=e;return delete e[Ls],delete e[Ds],delete e[Is],{diff:e,title:n,reply:t||null,events:i||[]}}constructor(e,t){this.viewId=e,this.rendered={},this.mergeDiff(t)}parentViewId(){return this.viewId}toString(e){return this.recursiveToString(this.rendered,this.rendered[Te],e)}recursiveToString(e,t=e[Te],i){i=i?new Set(i):null;let n={buffer:"",components:t,onlyCids:i};return this.toOutputBuffer(e,null,n),n.buffer}componentCIDs(e){return Object.keys(e[Te]||{}).map(t=>parseInt(t))}isComponentOnlyDiff(e){return e[Te]?Object.keys(e).length===1:!1}getComponent(e,t){return e[Te][t]}mergeDiff(e){let t=e[Te],i={};if(delete e[Te],this.rendered=this.mutableMerge(this.rendered,e),this.rendered[Te]=this.rendered[Te]||{},t){let n=this.rendered[Te];for(let s in t)t[s]=this.cachedFindComponent(s,t[s],n,t,i);for(let s in t)n[s]=t[s];e[Te]=t}}cachedFindComponent(e,t,i,n,s){if(s[e])return s[e];{let r,o,a=t[Je];if(ct(a)){let u;a>0?u=this.cachedFindComponent(a,n[a],i,n,s):u=i[-a],o=u[Je],r=this.cloneMerge(u,t),r[Je]=o}else r=t[Je]!==void 0?t:this.cloneMerge(i[e]||{},t);return s[e]=r,r}}mutableMerge(e,t){return t[Je]!==void 0?t:(this.doMutableMerge(e,t),e)}doMutableMerge(e,t){for(let i in t){let n=t[i],s=e[i];ei(n)&&n[Je]===void 0&&ei(s)?this.doMutableMerge(s,n):e[i]=n}}cloneMerge(e,t){let i={...e,...t};for(let n in i){let s=t[n],r=e[n];ei(s)&&s[Je]===void 0&&ei(r)&&(i[n]=this.cloneMerge(r,s))}return i}componentToString(e){return this.recursiveCIDToString(this.rendered[Te],e)}pruneCIDs(e){e.forEach(t=>delete this.rendered[Te][t])}get(){return this.rendered}isNewFingerprint(e={}){return!!e[Je]}templateStatic(e,t){return typeof e=="number"?t[e]:e}toOutputBuffer(e,t,i){if(e[Rs])return this.comprehensionToBuffer(e,t,i);let{[Je]:n}=e;n=this.templateStatic(n,t),i.buffer+=n[0];for(let s=1;s<n.length;s++)this.dynamicToBuffer(e[s-1],t,i),i.buffer+=n[s]}comprehensionToBuffer(e,t,i){let{[Rs]:n,[Je]:s}=e;s=this.templateStatic(s,t);let r=t||e[tl];for(let o=0;o<n.length;o++){let a=n[o];i.buffer+=s[0];for(let u=1;u<s.length;u++)this.dynamicToBuffer(a[u-1],r,i),i.buffer+=s[u]}}dynamicToBuffer(e,t,i){typeof e=="number"?i.buffer+=this.recursiveCIDToString(i.components,e,i.onlyCids):ei(e)?this.toOutputBuffer(e,t,i):i.buffer+=e}recursiveCIDToString(e,t,i){let n=e[t]||me(`no component for CID ${t}`,e),s=document.createElement("template");s.innerHTML=this.recursiveToString(n,e,i);let r=s.content,o=i&&!i.has(t),[a,u]=Array.from(r.childNodes).reduce(([d,v],w,g)=>w.nodeType===Node.ELEMENT_NODE?w.getAttribute(_e)?[d,!0]:(w.setAttribute(_e,t),w.id||(w.id=`${this.parentViewId()}-${t}-${g}`),o&&(w.setAttribute(mn,""),w.innerHTML=""),[!0,v]):w.nodeValue.trim()!==""?(me(`only HTML element tags are allowed at the root of components.

got: "${w.nodeValue.trim()}"

within:
`,s.innerHTML.trim()),w.replaceWith(this.createSpan(w.nodeValue,t)),[!0,v]):(w.remove(),[d,v]),[!1,!1]);return!a&&!u?(me(`expected at least one HTML element tag inside a component, but the component is empty:
`,s.innerHTML.trim()),this.createSpan("",t).outerHTML):(!a&&u&&me("expected at least one HTML element tag directly inside a component, but only subcomponents were found. A component must render at least one HTML tag directly inside itself.",s.innerHTML.trim()),s.innerHTML)}createSpan(e,t){let i=document.createElement("span");return i.innerText=e,i.setAttribute(_e,t),i}},El=1,ii=class{static makeID(){return El++}static elementID(e){return e.phxHookId}constructor(e,t,i){this.__view=e,this.liveSocket=e.liveSocket,this.__callbacks=i,this.__listeners=new Set,this.__isDisconnected=!1,this.el=t,this.el.phxHookId=this.constructor.makeID();for(let n in this.__callbacks)this[n]=this.__callbacks[n]}__mounted(){this.mounted&&this.mounted()}__updated(){this.updated&&this.updated()}__beforeUpdate(){this.beforeUpdate&&this.beforeUpdate()}__destroyed(){this.destroyed&&this.destroyed()}__reconnected(){this.__isDisconnected&&(this.__isDisconnected=!1,this.reconnected&&this.reconnected())}__disconnected(){this.__isDisconnected=!0,this.disconnected&&this.disconnected()}pushEvent(e,t={},i=function(){}){return this.__view.pushHookEvent(null,e,t,i)}pushEventTo(e,t,i={},n=function(){}){return this.__view.withinTargets(e,(s,r)=>s.pushHookEvent(r,t,i,n))}handleEvent(e,t){let i=(n,s)=>s?e:t(n.detail);return window.addEventListener(`phx:${e}`,i),this.__listeners.add(i),i}removeHandleEvent(e){let t=e(null,!0);window.removeEventListener(`phx:${t}`,e),this.__listeners.delete(e)}upload(e,t){return this.__view.dispatchUploads(e,t)}uploadTo(e,t,i){return this.__view.withinTargets(e,n=>n.dispatchUploads(t,i))}__cleanup__(){this.__listeners.forEach(e=>this.removeHandleEvent(e))}},Pi=null,Tl={exec(e,t,i,n,s){let[r,o]=s||[null,{}];(t.charAt(0)==="["?JSON.parse(t):[[r,o]]).forEach(([u,d])=>{u===r&&o.data&&(d.data=Object.assign(d.data||{},o.data)),this.filterToEls(n,d).forEach(v=>{this[`exec_${u}`](e,t,i,n,v,d)})})},isVisible(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length>0)},exec_dispatch(e,t,i,n,s,{to:r,event:o,detail:a,bubbles:u}){a=a||{},a.dispatcher=n,y.dispatchEvent(s,o,{detail:a,bubbles:u})},exec_push(e,t,i,n,s,r){if(!i.isConnected())return;let{event:o,data:a,target:u,page_loading:d,loading:v,value:w,dispatcher:g}=r,p={loading:v,value:w,target:u,page_loading:!!d},C=e==="change"&&g?g:n,A=u||C.getAttribute(i.binding("target"))||C;i.withinTargets(A,(P,N)=>{if(e==="change"){let{newCid:M,_target:b,callback:_}=r;b=b||(n instanceof HTMLInputElement?n.name:void 0),b&&(p._target=b),P.pushInput(n,N,M,o||t,p,_)}else e==="submit"?P.submitForm(n,N,o||t,p):P.pushEvent(e,n,N,o||t,a,p)})},exec_navigate(e,t,i,n,s,{href:r,replace:o}){i.liveSocket.historyRedirect(r,o?"replace":"push")},exec_patch(e,t,i,n,s,{href:r,replace:o}){i.liveSocket.pushHistoryPatch(r,o?"replace":"push",n)},exec_focus(e,t,i,n,s){window.requestAnimationFrame(()=>Ht.attemptFocus(s))},exec_focus_first(e,t,i,n,s){window.requestAnimationFrame(()=>Ht.focusFirstInteractive(s)||Ht.focusFirst(s))},exec_push_focus(e,t,i,n,s){window.requestAnimationFrame(()=>Pi=s||n)},exec_pop_focus(e,t,i,n,s){window.requestAnimationFrame(()=>{Pi&&Pi.focus(),Pi=null})},exec_add_class(e,t,i,n,s,{names:r,transition:o,time:a}){this.addOrRemoveClasses(s,r,[],o,a,i)},exec_remove_class(e,t,i,n,s,{names:r,transition:o,time:a}){this.addOrRemoveClasses(s,[],r,o,a,i)},exec_transition(e,t,i,n,s,{time:r,transition:o}){let[a,u,d]=o,v=()=>this.addOrRemoveClasses(s,a.concat(u),[]),w=()=>this.addOrRemoveClasses(s,d,a.concat(u));i.transition(r,v,w)},exec_toggle(e,t,i,n,s,{display:r,ins:o,outs:a,time:u}){this.toggle(e,i,s,r,o,a,u)},exec_show(e,t,i,n,s,{display:r,transition:o,time:a}){this.show(e,i,s,r,o,a)},exec_hide(e,t,i,n,s,{display:r,transition:o,time:a}){this.hide(e,i,s,r,o,a)},exec_set_attr(e,t,i,n,s,{attr:[r,o]}){this.setOrRemoveAttrs(s,[[r,o]],[])},exec_remove_attr(e,t,i,n,s,{attr:r}){this.setOrRemoveAttrs(s,[],[r])},show(e,t,i,n,s,r){this.isVisible(i)||this.toggle(e,t,i,n,s,null,r)},hide(e,t,i,n,s,r){this.isVisible(i)&&this.toggle(e,t,i,n,null,s,r)},toggle(e,t,i,n,s,r,o){let[a,u,d]=s||[[],[],[]],[v,w,g]=r||[[],[],[]];if(a.length>0||v.length>0)if(this.isVisible(i)){let p=()=>{this.addOrRemoveClasses(i,w,a.concat(u).concat(d)),window.requestAnimationFrame(()=>{this.addOrRemoveClasses(i,v,[]),window.requestAnimationFrame(()=>this.addOrRemoveClasses(i,g,w))})};i.dispatchEvent(new Event("phx:hide-start")),t.transition(o,p,()=>{this.addOrRemoveClasses(i,[],v.concat(g)),y.putSticky(i,"toggle",C=>C.style.display="none"),i.dispatchEvent(new Event("phx:hide-end"))})}else{if(e==="remove")return;let p=()=>{this.addOrRemoveClasses(i,u,v.concat(w).concat(g)),y.putSticky(i,"toggle",C=>C.style.display=n||"block"),window.requestAnimationFrame(()=>{this.addOrRemoveClasses(i,a,[]),window.requestAnimationFrame(()=>this.addOrRemoveClasses(i,d,u))})};i.dispatchEvent(new Event("phx:show-start")),t.transition(o,p,()=>{this.addOrRemoveClasses(i,[],a.concat(d)),i.dispatchEvent(new Event("phx:show-end"))})}else this.isVisible(i)?window.requestAnimationFrame(()=>{i.dispatchEvent(new Event("phx:hide-start")),y.putSticky(i,"toggle",p=>p.style.display="none"),i.dispatchEvent(new Event("phx:hide-end"))}):window.requestAnimationFrame(()=>{i.dispatchEvent(new Event("phx:show-start")),y.putSticky(i,"toggle",p=>p.style.display=n||"block"),i.dispatchEvent(new Event("phx:show-end"))})},addOrRemoveClasses(e,t,i,n,s,r){let[o,a,u]=n||[[],[],[]];if(o.length>0){let d=()=>this.addOrRemoveClasses(e,a.concat(o),[]),v=()=>this.addOrRemoveClasses(e,t.concat(u),i.concat(o).concat(a));return r.transition(s,d,v)}window.requestAnimationFrame(()=>{let[d,v]=y.getSticky(e,"classes",[[],[]]),w=t.filter(A=>d.indexOf(A)<0&&!e.classList.contains(A)),g=i.filter(A=>v.indexOf(A)<0&&e.classList.contains(A)),p=d.filter(A=>i.indexOf(A)<0).concat(w),C=v.filter(A=>t.indexOf(A)<0).concat(g);y.putSticky(e,"classes",A=>(A.classList.remove(...C),A.classList.add(...p),[p,C]))})},setOrRemoveAttrs(e,t,i){let[n,s]=y.getSticky(e,"attrs",[[],[]]),r=t.map(([u,d])=>u).concat(i),o=n.filter(([u,d])=>!r.includes(u)).concat(t),a=s.filter(u=>!r.includes(u)).concat(i);y.putSticky(e,"attrs",u=>(a.forEach(d=>u.removeAttribute(d)),o.forEach(([d,v])=>u.setAttribute(d,v)),[o,a]))},hasAllClasses(e,t){return t.every(i=>e.classList.contains(i))},isToggledOut(e,t){return!this.isVisible(e)||this.hasAllClasses(e,t)},filterToEls(e,{to:t}){return t?y.all(document,t):[e]}},ze=Tl,Ri=(e,t,i=[])=>{let n=new FormData(e),s=[];n.forEach((o,a,u)=>{o instanceof File&&s.push(a)}),s.forEach(o=>n.delete(o));let r=new URLSearchParams;for(let[o,a]of n.entries())(i.length===0||i.indexOf(o)>=0)&&r.append(o,a);for(let o in t)r.append(o,t[o]);return r.toString()},Xs=class{constructor(e,t,i,n,s){this.isDead=!1,this.liveSocket=t,this.flash=n,this.parent=i,this.root=i?i.root:this,this.el=e,this.id=this.el.id,this.ref=0,this.childJoins=0,this.loaderTimer=null,this.pendingDiffs=[],this.pruningCIDs=[],this.redirect=!1,this.href=null,this.joinCount=this.parent?this.parent.joinCount-1:0,this.joinPending=!0,this.destroyed=!1,this.joinCallback=function(r){r&&r()},this.stopCallback=function(){},this.pendingJoinOps=this.parent?null:[],this.viewHooks={},this.uploaders={},this.formSubmits=[],this.children=this.parent?null:{},this.root.children[this.id]={},this.channel=this.liveSocket.channel(`lv:${this.id}`,()=>({redirect:this.redirect?this.href:void 0,url:this.redirect?void 0:this.href||void 0,params:this.connectParams(s),session:this.getSession(),static:this.getStatic(),flash:this.flash})),this.showLoader(this.liveSocket.loaderTimeout),this.bindChannel()}setHref(e){this.href=e}setRedirect(e){this.redirect=!0,this.href=e}isMain(){return this.el.getAttribute(Sn)!==null}connectParams(e){let t=this.liveSocket.params(this.el),i=y.all(document,`[${this.binding(jo)}]`).map(n=>n.src||n.href).filter(n=>typeof n=="string");return i.length>0&&(t._track_static=i),t._mounts=this.joinCount,t._live_referer=e,t}isConnected(){return this.channel.canPush()}getSession(){return this.el.getAttribute(ut)}getStatic(){let e=this.el.getAttribute(ni);return e===""?null:e}destroy(e=function(){}){this.destroyAllChildren(),this.destroyed=!0,delete this.root.children[this.id],this.parent&&delete this.root.children[this.parent.id][this.id],clearTimeout(this.loaderTimer);let t=()=>{e();for(let i in this.viewHooks)this.destroyHook(this.viewHooks[i])};y.markPhxChildDestroyed(this.el),this.log("destroyed",()=>["the child has been removed from the parent"]),this.channel.leave().receive("ok",t).receive("error",t).receive("timeout",t)}setContainerClasses(...e){this.el.classList.remove(Cs,an,xs),this.el.classList.add(...e)}showLoader(e){if(clearTimeout(this.loaderTimer),e)this.loaderTimer=setTimeout(()=>this.showLoader(),e);else{for(let t in this.viewHooks)this.viewHooks[t].__disconnected();this.setContainerClasses(an)}}execAll(e){y.all(this.el,`[${e}]`,t=>this.liveSocket.execJS(t,t.getAttribute(e)))}hideLoader(){clearTimeout(this.loaderTimer),this.setContainerClasses(Cs),this.execAll(this.binding("connected"))}triggerReconnected(){for(let e in this.viewHooks)this.viewHooks[e].__reconnected()}log(e,t){this.liveSocket.log(this,e,t)}transition(e,t,i=function(){}){this.liveSocket.transition(e,t,i)}withinTargets(e,t){if(e instanceof HTMLElement||e instanceof SVGElement)return this.liveSocket.owner(e,i=>t(i,e));if(ct(e))y.findComponentNodeList(this.el,e).length===0?me(`no component found matching phx-target of ${e}`):t(this,parseInt(e));else{let i=Array.from(document.querySelectorAll(e));i.length===0&&me(`nothing found matching the phx-target selector "${e}"`),i.forEach(n=>this.liveSocket.owner(n,s=>t(s,n)))}}applyDiff(e,t,i){this.log(e,()=>["",Li(t)]);let{diff:n,reply:s,events:r,title:o}=$s.extract(t);o&&y.putTitle(o),i({diff:n,reply:s,events:r})}onJoin(e){let{rendered:t,container:i}=e;if(i){let[n,s]=i;this.el=y.replaceRootContainer(this.el,n,s)}this.childJoins=0,this.joinPending=!0,this.flash=null,We.dropLocal(this.liveSocket.localStorage,window.location.pathname,js),this.applyDiff("mount",t,({diff:n,events:s})=>{this.rendered=new $s(this.id,n);let r=this.renderContainer(null,"join");this.dropPendingRefs();let o=this.formsForRecovery(r);this.joinCount++,o.length>0?o.forEach(([a,u,d],v)=>{this.pushFormRecovery(a,d,w=>{v===o.length-1&&this.onJoinComplete(w,r,s)})}):this.onJoinComplete(e,r,s)})}dropPendingRefs(){y.all(document,`[${wt}="${this.id}"][${Ye}]`,e=>{e.removeAttribute(Ye),e.removeAttribute(wt)})}onJoinComplete({live_patch:e},t,i){if(this.joinCount>1||this.parent&&!this.parent.isJoinPending())return this.applyJoinPatch(e,t,i);y.findPhxChildrenInFragment(t,this.id).filter(s=>{let r=s.id&&this.el.querySelector(`[id="${s.id}"]`),o=r&&r.getAttribute(ni);return o&&s.setAttribute(ni,o),this.joinChild(s)}).length===0?this.parent?(this.root.pendingJoinOps.push([this,()=>this.applyJoinPatch(e,t,i)]),this.parent.ackJoin(this)):(this.onAllChildJoinsComplete(),this.applyJoinPatch(e,t,i)):this.root.pendingJoinOps.push([this,()=>this.applyJoinPatch(e,t,i)])}attachTrueDocEl(){this.el=y.byId(this.id),this.el.setAttribute(ri,this.root.id)}execNewMounted(){y.all(this.el,`[${this.binding(Qt)}], [data-phx-${Qt}]`,e=>{this.maybeAddNewHook(e)}),y.all(this.el,`[${this.binding(_s)}]`,e=>this.maybeMounted(e))}applyJoinPatch(e,t,i){this.attachTrueDocEl();let n=new _i(this,this.el,this.id,t,null);if(n.markPrunableContentForRemoval(),this.performPatch(n,!1),this.joinNewChildren(),this.execNewMounted(),this.joinPending=!1,this.liveSocket.dispatchEvents(i),this.applyPendingUpdates(),e){let{kind:s,to:r}=e;this.liveSocket.historyPatch(r,s)}this.hideLoader(),this.joinCount>1&&this.triggerReconnected(),this.stopCallback()}triggerBeforeUpdateHook(e,t){this.liveSocket.triggerDOM("onBeforeElUpdated",[e,t]);let i=this.getHook(e),n=i&&y.isIgnored(e,this.binding(yn));if(i&&!e.isEqualNode(t)&&!(n&&rl(e.dataset,t.dataset)))return i.__beforeUpdate(),i}maybeMounted(e){let t=e.getAttribute(this.binding(_s)),i=t&&y.private(e,"mounted");t&&!i&&(this.liveSocket.execJS(e,t),y.putPrivate(e,"mounted",!0))}maybeAddNewHook(e,t){let i=this.addHook(e);i&&i.__mounted()}performPatch(e,t){let i=[],n=!1,s=new Set;return e.after("added",r=>{this.liveSocket.triggerDOM("onNodeAdded",[r]),this.maybeAddNewHook(r),r.getAttribute&&this.maybeMounted(r)}),e.after("phxChildAdded",r=>{y.isPhxSticky(r)?this.liveSocket.joinRootViews():n=!0}),e.before("updated",(r,o)=>{this.triggerBeforeUpdateHook(r,o)&&s.add(r.id)}),e.after("updated",r=>{s.has(r.id)&&this.getHook(r).__updated()}),e.after("discarded",r=>{r.nodeType===Node.ELEMENT_NODE&&i.push(r)}),e.after("transitionsDiscarded",r=>this.afterElementsRemoved(r,t)),e.perform(),this.afterElementsRemoved(i,t),n}afterElementsRemoved(e,t){let i=[];e.forEach(n=>{let s=y.all(n,`[${_e}]`),r=y.all(n,`[${this.binding(Qt)}]`);s.concat(n).forEach(o=>{let a=this.componentID(o);ct(a)&&i.indexOf(a)===-1&&i.push(a)}),r.concat(n).forEach(o=>{let a=this.getHook(o);a&&this.destroyHook(a)})}),t&&this.maybePushComponentsDestroyed(i)}joinNewChildren(){y.findPhxChildren(this.el,this.id).forEach(e=>this.joinChild(e))}getChildById(e){return this.root.children[this.id][e]}getDescendentByEl(e){return e.id===this.id?this:this.children[e.getAttribute(Ot)][e.id]}destroyDescendent(e){for(let t in this.root.children)for(let i in this.root.children[t])if(i===e)return this.root.children[t][i].destroy()}joinChild(e){if(!this.getChildById(e.id)){let i=new Xs(e,this.liveSocket,this);return this.root.children[this.id][i.id]=i,i.join(),this.childJoins++,!0}}isJoinPending(){return this.joinPending}ackJoin(e){this.childJoins--,this.childJoins===0&&(this.parent?this.parent.ackJoin(this):this.onAllChildJoinsComplete())}onAllChildJoinsComplete(){this.joinCallback(()=>{this.pendingJoinOps.forEach(([e,t])=>{e.isDestroyed()||t()}),this.pendingJoinOps=[]})}update(e,t){if(this.isJoinPending()||this.liveSocket.hasPendingLink()&&this.root.isMain())return this.pendingDiffs.push({diff:e,events:t});this.rendered.mergeDiff(e);let i=!1;this.rendered.isComponentOnlyDiff(e)?this.liveSocket.time("component patch complete",()=>{y.findParentCIDs(this.el,this.rendered.componentCIDs(e)).forEach(s=>{this.componentPatch(this.rendered.getComponent(e,s),s)&&(i=!0)})}):Ms(e)||this.liveSocket.time("full patch complete",()=>{let n=this.renderContainer(e,"update"),s=new _i(this,this.el,this.id,n,null);i=this.performPatch(s,!0)}),this.liveSocket.dispatchEvents(t),i&&this.joinNewChildren()}renderContainer(e,t){return this.liveSocket.time(`toString diff (${t})`,()=>{let i=this.el.tagName,n=e?this.rendered.componentCIDs(e).concat(this.pruningCIDs):null,s=this.rendered.toString(n);return`<${i}>${s}</${i}>`})}componentPatch(e,t){if(Ms(e))return!1;let i=this.rendered.componentToString(t),n=new _i(this,this.el,this.id,i,t);return this.performPatch(n,!0)}getHook(e){return this.viewHooks[ii.elementID(e)]}addHook(e){if(ii.elementID(e)||!e.getAttribute)return;let t=e.getAttribute(`data-phx-${Qt}`)||e.getAttribute(this.binding(Qt));if(t&&!this.ownsElement(e))return;let i=this.liveSocket.getHookCallbacks(t);if(i){e.id||me(`no DOM ID for hook "${t}". Hooks require a unique ID on each element.`,e);let n=new ii(this,e,i);return this.viewHooks[ii.elementID(n.el)]=n,n}else t!==null&&me(`unknown hook found for "${t}"`,e)}destroyHook(e){e.__destroyed(),e.__cleanup__(),delete this.viewHooks[ii.elementID(e.el)]}applyPendingUpdates(){this.pendingDiffs.forEach(({diff:e,events:t})=>this.update(e,t)),this.pendingDiffs=[]}onChannel(e,t){this.liveSocket.onChannel(this.channel,e,i=>{this.isJoinPending()?this.root.pendingJoinOps.push([this,()=>t(i)]):this.liveSocket.requestDOMUpdate(()=>t(i))})}bindChannel(){this.liveSocket.onChannel(this.channel,"diff",e=>{this.liveSocket.requestDOMUpdate(()=>{this.applyDiff("update",e,({diff:t,events:i})=>this.update(t,i))})}),this.onChannel("redirect",({to:e,flash:t})=>this.onRedirect({to:e,flash:t})),this.onChannel("live_patch",e=>this.onLivePatch(e)),this.onChannel("live_redirect",e=>this.onLiveRedirect(e)),this.channel.onError(e=>this.onError(e)),this.channel.onClose(e=>this.onClose(e))}destroyAllChildren(){for(let e in this.root.children[this.id])this.getChildById(e).destroy()}onLiveRedirect(e){let{to:t,kind:i,flash:n}=e,s=this.expandURL(t);this.liveSocket.historyRedirect(s,i,n)}onLivePatch(e){let{to:t,kind:i}=e;this.href=this.expandURL(t),this.liveSocket.historyPatch(t,i)}expandURL(e){return e.startsWith("/")?`${window.location.protocol}//${window.location.host}${e}`:e}onRedirect({to:e,flash:t}){this.liveSocket.redirect(e,t)}isDestroyed(){return this.destroyed}joinDead(){this.isDead=!0}join(e){this.isMain()&&(this.stopCallback=this.liveSocket.withPageLoading({to:this.href,kind:"initial"})),this.joinCallback=t=>{t=t||function(){},e?e(this.joinCount,t):t()},this.liveSocket.wrapPush(this,{timeout:!1},()=>this.channel.join().receive("ok",t=>{this.isDestroyed()||this.liveSocket.requestDOMUpdate(()=>this.onJoin(t))}).receive("error",t=>!this.isDestroyed()&&this.onJoinError(t)).receive("timeout",()=>!this.isDestroyed()&&this.onJoinError({reason:"timeout"})))}onJoinError(e){if(e.reason==="unauthorized"||e.reason==="stale")return this.log("error",()=>["unauthorized live_redirect. Falling back to page request",e]),this.onRedirect({to:this.href});if((e.redirect||e.live_redirect)&&(this.joinPending=!1,this.channel.leave()),e.redirect)return this.onRedirect(e.redirect);if(e.live_redirect)return this.onLiveRedirect(e.live_redirect);this.log("error",()=>["unable to join",e]),this.liveSocket.isConnected()&&this.liveSocket.reloadWithJitter(this)}onClose(e){if(!this.isDestroyed()){if(this.liveSocket.hasPendingLink()&&e!=="leave")return this.liveSocket.reloadWithJitter(this);this.destroyAllChildren(),this.liveSocket.dropActiveElement(this),document.activeElement&&document.activeElement.blur(),this.liveSocket.isUnloaded()&&this.showLoader(Go)}}onError(e){this.onClose(e),this.liveSocket.isConnected()&&this.log("error",()=>["view crashed",e]),this.liveSocket.isUnloaded()||this.displayError()}displayError(){this.isMain()&&y.dispatchEvent(window,"phx:page-loading-start",{detail:{to:this.href,kind:"error"}}),this.showLoader(),this.setContainerClasses(an,xs),this.execAll(this.binding("disconnected"))}pushWithReply(e,t,i,n=function(){}){if(!this.isConnected())return;let[s,[r],o]=e?e():[null,[],{}],a=function(){};return(o.page_loading||r&&r.getAttribute(this.binding(ks))!==null)&&(a=this.liveSocket.withPageLoading({kind:"element",target:r})),typeof i.cid!="number"&&delete i.cid,this.liveSocket.wrapPush(this,{timeout:!0},()=>this.channel.push(t,i,Zo).receive("ok",u=>{let d=v=>{u.redirect&&this.onRedirect(u.redirect),u.live_patch&&this.onLivePatch(u.live_patch),u.live_redirect&&this.onLiveRedirect(u.live_redirect),s!==null&&this.undoRefs(s),a(),n(u,v)};u.diff?this.liveSocket.requestDOMUpdate(()=>{this.applyDiff("update",u.diff,({diff:v,reply:w,events:g})=>{this.update(v,g),d(w)})}):d(null)}))}undoRefs(e){!this.isConnected()||y.all(document,`[${wt}="${this.id}"][${Ye}="${e}"]`,t=>{let i=t.getAttribute(ki);t.removeAttribute(Ye),t.removeAttribute(wt),t.getAttribute(hn)!==null&&(t.readOnly=!1,t.removeAttribute(hn)),i!==null&&(t.disabled=i==="true",t.removeAttribute(ki)),Bs.forEach(r=>y.removeClass(t,r));let n=t.getAttribute(Ci);n!==null&&(t.innerText=n,t.removeAttribute(Ci));let s=y.private(t,Ye);if(s){let r=this.triggerBeforeUpdateHook(t,s);_i.patchEl(t,s,this.liveSocket.getActiveElement()),r&&r.__updated(),y.deletePrivate(t,Ye)}})}putRef(e,t,i={}){let n=this.ref++,s=this.binding(bn);return i.loading&&(e=e.concat(y.all(document,i.loading))),e.forEach(r=>{r.classList.add(`phx-${t}-loading`),r.setAttribute(Ye,n),r.setAttribute(wt,this.el.id);let o=r.getAttribute(s);o!==null&&(r.getAttribute(Ci)||r.setAttribute(Ci,r.innerText),o!==""&&(r.innerText=o),r.setAttribute("disabled",""))}),[n,e,i]}componentID(e){let t=e.getAttribute&&e.getAttribute(_e);return t?parseInt(t):null}targetComponentID(e,t,i={}){if(ct(t))return t;let n=e.getAttribute(this.binding("target"));return ct(n)?parseInt(n):t&&(n!==null||i.target)?this.closestComponentID(t):null}closestComponentID(e){return ct(e)?e:e?Ze(e.closest(`[${_e}]`),t=>this.ownsElement(t)&&this.componentID(t)):null}pushHookEvent(e,t,i,n){if(!this.isConnected())return this.log("hook",()=>["unable to push hook event. LiveView not connected",t,i]),!1;let[s,r,o]=this.putRef([],"hook");return this.pushWithReply(()=>[s,r,o],"event",{type:"hook",event:t,value:i,cid:this.closestComponentID(e)},(a,u)=>n(u,s)),s}extractMeta(e,t,i){let n=this.binding("value-");for(let s=0;s<e.attributes.length;s++){t||(t={});let r=e.attributes[s].name;r.startsWith(n)&&(t[r.replace(n,"")]=e.getAttribute(r))}if(e.value!==void 0&&(t||(t={}),t.value=e.value,e.tagName==="INPUT"&&Ws.indexOf(e.type)>=0&&!e.checked&&delete t.value),i){t||(t={});for(let s in i)t[s]=i[s]}return t}pushEvent(e,t,i,n,s,r={}){this.pushWithReply(()=>this.putRef([t],e,r),"event",{type:e,event:n,value:this.extractMeta(t,s,r.value),cid:this.targetComponentID(t,i,r)})}pushFileProgress(e,t,i,n=function(){}){this.liveSocket.withinOwners(e.form,(s,r)=>{s.pushWithReply(null,"progress",{event:e.getAttribute(s.binding(qo)),ref:e.getAttribute(St),entry_ref:t,progress:i,cid:s.targetComponentID(e.form,r)},n)})}pushInput(e,t,i,n,s,r){let o,a=ct(i)?i:this.targetComponentID(e.form,t),u=()=>this.putRef([e,e.form],"change",s),d;e.getAttribute(this.binding("change"))?d=Ri(e.form,{_target:s._target},[e.name]):d=Ri(e.form,{_target:s._target}),y.isUploadInput(e)&&e.files&&e.files.length>0&&ge.trackFiles(e,Array.from(e.files)),o=ge.serializeUploads(e);let v={type:"form",event:n,value:d,uploads:o,cid:a};this.pushWithReply(u,"event",v,w=>{if(y.showError(e,this.liveSocket.binding(vn)),y.isUploadInput(e)&&e.getAttribute("data-phx-auto-upload")!==null){if(ge.filesAwaitingPreflight(e).length>0){let[g,p]=u();this.uploadFiles(e.form,t,g,a,C=>{r&&r(w),this.triggerAwaitingSubmit(e.form)})}}else r&&r(w)})}triggerAwaitingSubmit(e){let t=this.getScheduledSubmit(e);if(t){let[i,n,s,r]=t;this.cancelSubmit(e),r()}}getScheduledSubmit(e){return this.formSubmits.find(([t,i,n,s])=>t.isSameNode(e))}scheduleSubmit(e,t,i,n){if(this.getScheduledSubmit(e))return!0;this.formSubmits.push([e,t,i,n])}cancelSubmit(e){this.formSubmits=this.formSubmits.filter(([t,i,n])=>t.isSameNode(e)?(this.undoRefs(i),!1):!0)}disableForm(e,t={}){let i=v=>!(si(v,`${this.binding(yn)}=ignore`,v.form)||si(v,"data-phx-update=ignore",v.form)),n=v=>v.hasAttribute(this.binding(bn)),s=v=>v.tagName=="BUTTON",r=v=>["INPUT","TEXTAREA","SELECT"].includes(v.tagName),o=Array.from(e.elements),a=o.filter(n),u=o.filter(s).filter(i),d=o.filter(r).filter(i);return u.forEach(v=>{v.setAttribute(ki,v.disabled),v.disabled=!0}),d.forEach(v=>{v.setAttribute(hn,v.readOnly),v.readOnly=!0,v.files&&(v.setAttribute(ki,v.disabled),v.disabled=!0)}),e.setAttribute(this.binding(ks),""),this.putRef([e].concat(a).concat(u).concat(d),"submit",t)}pushFormSubmit(e,t,i,n,s){let r=()=>this.disableForm(e,n),o=this.targetComponentID(e,t);if(ge.hasUploadsInProgress(e)){let[a,u]=r(),d=()=>this.pushFormSubmit(e,t,i,n,s);return this.scheduleSubmit(e,a,n,d)}else if(ge.inputsAwaitingPreflight(e).length>0){let[a,u]=r(),d=()=>[a,u,n];this.uploadFiles(e,t,a,o,v=>{let w=Ri(e,{});this.pushWithReply(d,"event",{type:"form",event:i,value:w,cid:o},s)})}else{let a=Ri(e,{});this.pushWithReply(r,"event",{type:"form",event:i,value:a,cid:o},s)}}uploadFiles(e,t,i,n,s){let r=this.joinCount,o=ge.activeFileInputs(e),a=o.length;o.forEach(u=>{let d=new ge(u,this,()=>{a--,a===0&&s()});this.uploaders[u]=d;let v=d.entries().map(g=>g.toPreflightPayload()),w={ref:u.getAttribute(St),entries:v,cid:this.targetComponentID(u.form,t)};this.log("upload",()=>["sending preflight request",w]),this.pushWithReply(null,"allow_upload",w,g=>{if(this.log("upload",()=>["got preflight response",g]),g.error){this.undoRefs(i);let[p,C]=g.error;this.log("upload",()=>[`error for entry ${p}`,C])}else{let p=C=>{this.channel.onError(()=>{this.joinCount===r&&C()})};d.initAdapterUpload(g,p,this.liveSocket)}})})}dispatchUploads(e,t){let i=y.findUploadInputs(this.el).filter(n=>n.name===e);i.length===0?me(`no live file inputs found matching the name "${e}"`):i.length>1?me(`duplicate live file inputs found matching the name "${e}"`):y.dispatchEvent(i[0],Vs,{detail:{files:t}})}pushFormRecovery(e,t,i){this.liveSocket.withinOwners(e,(n,s)=>{let r=e.elements[0],o=e.getAttribute(this.binding(Ts))||e.getAttribute(this.binding("change"));ze.exec("change",o,n,r,["push",{_target:r.name,newCid:t,callback:i}])})}pushLinkPatch(e,t,i){let n=this.liveSocket.setPendingLink(e),s=t?()=>this.putRef([t],"click"):null,r=()=>this.liveSocket.redirect(window.location.href),o=this.pushWithReply(s,"live_patch",{url:e},a=>{this.liveSocket.requestDOMUpdate(()=>{a.link_redirect?this.liveSocket.replaceMain(e,null,i,n):(this.liveSocket.commitPendingLink(n)&&(this.href=e),this.applyPendingUpdates(),i&&i(n))})});o?o.receive("timeout",r):r()}formsForRecovery(e){if(this.joinCount===0)return[];let t=this.binding("change"),i=document.createElement("template");return i.innerHTML=e,y.all(this.el,`form[${t}]`).filter(n=>n.id&&this.ownsElement(n)).filter(n=>n.elements.length>0).filter(n=>n.getAttribute(this.binding(Ts))!=="ignore").map(n=>{let s=i.content.querySelector(`form[id="${n.id}"][${t}="${n.getAttribute(t)}"]`);return s?[n,s,this.targetComponentID(s)]:[n,null,null]}).filter(([n,s,r])=>s)}maybePushComponentsDestroyed(e){let t=e.filter(i=>y.findComponentNodeList(this.el,i).length===0);t.length>0&&(this.pruningCIDs.push(...t),this.pushWithReply(null,"cids_will_destroy",{cids:t},()=>{this.pruningCIDs=this.pruningCIDs.filter(n=>t.indexOf(n)!==-1);let i=t.filter(n=>y.findComponentNodeList(this.el,n).length===0);i.length>0&&this.pushWithReply(null,"cids_destroyed",{cids:i},n=>{this.rendered.pruneCIDs(n.cids)})}))}ownsElement(e){return this.isDead||e.getAttribute(Ot)===this.id||Ze(e.closest(Nt),t=>t.id)===this.id}submitForm(e,t,i,n={}){y.putPrivate(e,zs,!0);let s=this.liveSocket.binding(vn),r=Array.from(e.elements);this.liveSocket.blurActiveElement(this),this.pushFormSubmit(e,t,i,n,()=>{r.forEach(o=>y.showError(o,s)),this.liveSocket.restorePreviouslyActiveFocus()})}binding(e){return this.liveSocket.binding(e)}},qs=class{constructor(e,t,i={}){if(this.unloaded=!1,!t||t.constructor.name==="Object")throw new Error(`
      a phoenix Socket must be provided as the second argument to the LiveSocket constructor. For example:

          import {Socket} from "phoenix"
          import {LiveSocket} from "phoenix_live_view"
          let liveSocket = new LiveSocket("/live", Socket, {...})
      `);this.socket=new t(e,i),this.bindingPrefix=i.bindingPrefix||Qo,this.opts=i,this.params=dn(i.params||{}),this.viewLogger=i.viewLogger,this.metadataCallbacks=i.metadata||{},this.defaults=Object.assign(Li(el),i.defaults||{}),this.activeElement=null,this.prevActive=null,this.silenced=!1,this.main=null,this.outgoingMainEl=null,this.clickStartedAtTarget=null,this.linkRef=1,this.roots={},this.href=window.location.href,this.pendingLink=null,this.currentLocation=Li(window.location),this.hooks=i.hooks||{},this.uploaders=i.uploaders||{},this.loaderTimeout=i.loaderTimeout||Ko,this.reloadWithJitterTimer=null,this.maxReloads=i.maxReloads||No,this.reloadJitterMin=i.reloadJitterMin||Fo,this.reloadJitterMax=i.reloadJitterMax||Uo,this.failsafeJitter=i.failsafeJitter||$o,this.localStorage=i.localStorage||window.localStorage,this.sessionStorage=i.sessionStorage||window.sessionStorage,this.boundTopLevelEvents=!1,this.domCallbacks=Object.assign({onNodeAdded:dn(),onBeforeElUpdated:dn()},i.dom||{}),this.transitions=new _l,window.addEventListener("pagehide",n=>{this.unloaded=!0}),this.socket.onOpen(()=>{this.isUnloaded()&&window.location.reload()})}isProfileEnabled(){return this.sessionStorage.getItem(cn)==="true"}isDebugEnabled(){return this.sessionStorage.getItem(Ai)==="true"}isDebugDisabled(){return this.sessionStorage.getItem(Ai)==="false"}enableDebug(){this.sessionStorage.setItem(Ai,"true")}enableProfiling(){this.sessionStorage.setItem(cn,"true")}disableDebug(){this.sessionStorage.setItem(Ai,"false")}disableProfiling(){this.sessionStorage.removeItem(cn)}enableLatencySim(e){this.enableDebug(),console.log("latency simulator enabled for the duration of this browser session. Call disableLatencySim() to disable"),this.sessionStorage.setItem(un,e)}disableLatencySim(){this.sessionStorage.removeItem(un)}getLatencySim(){let e=this.sessionStorage.getItem(un);return e?parseInt(e):null}getSocket(){return this.socket}connect(){window.location.hostname==="localhost"&&!this.isDebugDisabled()&&this.enableDebug();let e=()=>{this.joinRootViews()?(this.bindTopLevelEvents(),this.socket.connect()):this.main?this.socket.connect():this.joinDeadView()};["complete","loaded","interactive"].indexOf(document.readyState)>=0?e():document.addEventListener("DOMContentLoaded",()=>e())}disconnect(e){clearTimeout(this.reloadWithJitterTimer),this.socket.disconnect(e)}replaceTransport(e){clearTimeout(this.reloadWithJitterTimer),this.socket.replaceTransport(e),this.connect()}execJS(e,t,i=null){this.owner(e,n=>ze.exec(i,t,n,e))}triggerDOM(e,t){this.domCallbacks[e](...t)}time(e,t){if(!this.isProfileEnabled()||!console.time)return t();console.time(e);let i=t();return console.timeEnd(e),i}log(e,t,i){if(this.viewLogger){let[n,s]=i();this.viewLogger(e,t,n,s)}else if(this.isDebugEnabled()){let[n,s]=i();sl(e,t,n,s)}}requestDOMUpdate(e){this.transitions.after(e)}transition(e,t,i=function(){}){this.transitions.addTransition(e,t,i)}onChannel(e,t,i){e.on(t,n=>{let s=this.getLatencySim();s?setTimeout(()=>i(n),s):i(n)})}wrapPush(e,t,i){let n=this.getLatencySim(),s=e.joinCount;if(!n)return this.isConnected()&&t.timeout?i().receive("timeout",()=>{e.joinCount===s&&!e.isDestroyed()&&this.reloadWithJitter(e,()=>{this.log(e,"timeout",()=>["received timeout while communicating with server. Falling back to hard refresh for recovery"])})}):i();let r={receives:[],receive(o,a){this.receives.push([o,a])}};return setTimeout(()=>{e.isDestroyed()||r.receives.reduce((o,[a,u])=>o.receive(a,u),i())},n),r}reloadWithJitter(e,t){clearTimeout(this.reloadWithJitterTimer),this.disconnect();let i=this.reloadJitterMin,n=this.reloadJitterMax,s=Math.floor(Math.random()*(n-i+1))+i,r=We.updateLocal(this.localStorage,window.location.pathname,js,0,o=>o+1);r>this.maxReloads&&(s=this.failsafeJitter),this.reloadWithJitterTimer=setTimeout(()=>{e.isDestroyed()||e.isConnected()||(e.destroy(),t?t():this.log(e,"join",()=>[`encountered ${r} consecutive reloads`]),r>this.maxReloads&&this.log(e,"join",()=>[`exceeded ${this.maxReloads} consecutive reloads. Entering failsafe mode`]),this.hasPendingLink()?window.location=this.pendingLink:window.location.reload())},s)}getHookCallbacks(e){return e&&e.startsWith("Phoenix.")?cl[e.split(".")[1]]:this.hooks[e]}isUnloaded(){return this.unloaded}isConnected(){return this.socket.isConnected()}getBindingPrefix(){return this.bindingPrefix}binding(e){return`${this.getBindingPrefix()}${e}`}channel(e,t){return this.socket.channel(e,t)}joinDeadView(){this.bindTopLevelEvents({dead:!0});let e=this.newRootView(document.body);e.setHref(this.getHref()),e.joinDead(),this.main=e,window.requestAnimationFrame(()=>e.execNewMounted())}joinRootViews(){let e=!1;return y.all(document,`${Nt}:not([${Ot}])`,t=>{if(!this.getRootById(t.id)){let i=this.newRootView(t);i.setHref(this.getHref()),i.join(),t.getAttribute(Sn)&&(this.main=i)}e=!0}),e}redirect(e,t){this.disconnect(),We.redirect(e,t)}replaceMain(e,t,i=null,n=this.setPendingLink(e)){let s=this.currentLocation.href;this.outgoingMainEl=this.outgoingMainEl||this.main.el;let r=y.cloneNode(this.outgoingMainEl,"");this.main.showLoader(this.loaderTimeout),this.main.destroy(),this.main=this.newRootView(r,t,s),this.main.setRedirect(e),this.transitionRemoves(),this.main.join((o,a)=>{o===1&&this.commitPendingLink(n)&&this.requestDOMUpdate(()=>{y.findPhxSticky(document).forEach(u=>r.appendChild(u)),this.outgoingMainEl.replaceWith(r),this.outgoingMainEl=null,i&&requestAnimationFrame(i),a()})})}transitionRemoves(e){let t=this.binding("remove");e=e||y.all(document,`[${t}]`),e.forEach(i=>{document.body.contains(i)&&this.execJS(i,i.getAttribute(t),"remove")})}isPhxView(e){return e.getAttribute&&e.getAttribute(ut)!==null}newRootView(e,t,i){let n=new Xs(e,this,null,t,i);return this.roots[n.id]=n,n}owner(e,t){let i=Ze(e.closest(Nt),n=>this.getViewByEl(n))||this.main;i&&t(i)}withinOwners(e,t){this.owner(e,i=>t(i,e))}getViewByEl(e){let t=e.getAttribute(ri);return Ze(this.getRootById(t),i=>i.getDescendentByEl(e))}getRootById(e){return this.roots[e]}destroyAllViews(){for(let e in this.roots)this.roots[e].destroy(),delete this.roots[e];this.main=null}destroyViewByEl(e){let t=this.getRootById(e.getAttribute(ri));t&&t.id===e.id?(t.destroy(),delete this.roots[t.id]):t&&t.destroyDescendent(e.id)}setActiveElement(e){if(this.activeElement===e)return;this.activeElement=e;let t=()=>{e===this.activeElement&&(this.activeElement=null),e.removeEventListener("mouseup",this),e.removeEventListener("touchend",this)};e.addEventListener("mouseup",t),e.addEventListener("touchend",t)}getActiveElement(){return document.activeElement===document.body?this.activeElement||document.activeElement:document.activeElement||document.body}dropActiveElement(e){this.prevActive&&e.ownsElement(this.prevActive)&&(this.prevActive=null)}restorePreviouslyActiveFocus(){this.prevActive&&this.prevActive!==document.body&&this.prevActive.focus()}blurActiveElement(){this.prevActive=this.getActiveElement(),this.prevActive!==document.body&&this.prevActive.blur()}bindTopLevelEvents({dead:e}={}){this.boundTopLevelEvents||(this.boundTopLevelEvents=!0,this.socket.onClose(t=>{t&&t.code===1e3&&this.main&&this.reloadWithJitter(this.main)}),document.body.addEventListener("click",function(){}),window.addEventListener("pageshow",t=>{t.persisted&&(this.getSocket().disconnect(),this.withPageLoading({to:window.location.href,kind:"redirect"}),window.location.reload())},!0),e||this.bindNav(),this.bindClicks(),e||this.bindForms(),this.bind({keyup:"keyup",keydown:"keydown"},(t,i,n,s,r,o)=>{let a=s.getAttribute(this.binding(Xo)),u=t.key&&t.key.toLowerCase();if(a&&a.toLowerCase()!==u)return;let d={key:t.key,...this.eventMeta(i,t,s)};ze.exec(i,r,n,s,["push",{data:d}])}),this.bind({blur:"focusout",focus:"focusin"},(t,i,n,s,r,o)=>{if(!o){let a={key:t.key,...this.eventMeta(i,t,s)};ze.exec(i,r,n,s,["push",{data:a}])}}),this.bind({blur:"blur",focus:"focus"},(t,i,n,s,r,o,a)=>{if(a==="window"){let u=this.eventMeta(i,t,s);ze.exec(i,o,n,s,["push",{data:u}])}}),window.addEventListener("dragover",t=>t.preventDefault()),window.addEventListener("drop",t=>{t.preventDefault();let i=Ze(si(t.target,this.binding(ws)),r=>r.getAttribute(this.binding(ws))),n=i&&document.getElementById(i),s=Array.from(t.dataTransfer.files||[]);!n||n.disabled||s.length===0||!(n.files instanceof FileList)||(ge.trackFiles(n,s),n.dispatchEvent(new Event("input",{bubbles:!0})))}),this.on(Vs,t=>{let i=t.target;if(!y.isUploadInput(i))return;let n=Array.from(t.detail.files||[]).filter(s=>s instanceof File||s instanceof Blob);ge.trackFiles(i,n),i.dispatchEvent(new Event("input",{bubbles:!0}))}))}eventMeta(e,t,i){let n=this.metadataCallbacks[e];return n?n(t,i):{}}setPendingLink(e){return this.linkRef++,this.pendingLink=e,this.linkRef}commitPendingLink(e){return this.linkRef!==e?!1:(this.href=this.pendingLink,this.pendingLink=null,!0)}getHref(){return this.href}hasPendingLink(){return!!this.pendingLink}bind(e,t){for(let i in e){let n=e[i];this.on(n,s=>{let r=this.binding(i),o=this.binding(`window-${i}`),a=s.target.getAttribute&&s.target.getAttribute(r);a?this.debounce(s.target,s,n,()=>{this.withinOwners(s.target,u=>{t(s,i,u,s.target,a,null)})}):y.all(document,`[${o}]`,u=>{let d=u.getAttribute(o);this.debounce(u,s,n,()=>{this.withinOwners(u,v=>{t(s,i,v,u,d,"window")})})})})}}bindClicks(){window.addEventListener("mousedown",e=>this.clickStartedAtTarget=e.target),this.bindClick("click","click",!1),this.bindClick("mousedown","capture-click",!0)}bindClick(e,t,i){let n=this.binding(t);window.addEventListener(e,s=>{let r=null;if(i)r=s.target.matches(`[${n}]`)?s.target:s.target.querySelector(`[${n}]`);else{let a=this.clickStartedAtTarget||s.target;r=si(a,n),this.dispatchClickAway(s,a),this.clickStartedAtTarget=null}let o=r&&r.getAttribute(n);!o||(r.getAttribute("href")==="#"&&s.preventDefault(),this.debounce(r,s,"click",()=>{this.withinOwners(r,a=>{ze.exec("click",o,a,r,["push",{data:this.eventMeta("click",s,r)}])})}))},i)}dispatchClickAway(e,t){let i=this.binding("click-away");y.all(document,`[${i}]`,n=>{n.isSameNode(t)||n.contains(t)||this.withinOwners(e.target,s=>{let r=n.getAttribute(i);ze.isVisible(n)&&ze.exec("click",r,s,n,["push",{data:this.eventMeta("click",e,e.target)}])})})}bindNav(){if(!We.canPushState())return;history.scrollRestoration&&(history.scrollRestoration="manual");let e=null;window.addEventListener("scroll",t=>{clearTimeout(e),e=setTimeout(()=>{We.updateCurrentState(i=>Object.assign(i,{scroll:window.scrollY}))},100)}),window.addEventListener("popstate",t=>{if(!this.registerNewLocation(window.location))return;let{type:i,id:n,root:s,scroll:r}=t.state||{},o=window.location.href;this.requestDOMUpdate(()=>{this.main.isConnected()&&i==="patch"&&n===this.main.id?this.main.pushLinkPatch(o,null):this.replaceMain(o,null,()=>{s&&this.replaceRootHistory(),typeof r=="number"&&setTimeout(()=>{window.scrollTo(0,r)},0)})})},!1),window.addEventListener("click",t=>{let i=si(t.target,ln),n=i&&i.getAttribute(ln),s=t.metaKey||t.ctrlKey||t.button===1;if(!n||!this.isConnected()||!this.main||s)return;let r=i.href,o=i.getAttribute(Bo);t.preventDefault(),t.stopImmediatePropagation(),this.pendingLink!==r&&this.requestDOMUpdate(()=>{if(n==="patch")this.pushHistoryPatch(r,o,i);else if(n==="redirect")this.historyRedirect(r,o);else throw new Error(`expected ${ln} to be "patch" or "redirect", got: ${n}`);let a=i.getAttribute(this.binding("click"));a&&this.requestDOMUpdate(()=>this.execJS(i,a,"click"))})},!1)}dispatchEvent(e,t={}){y.dispatchEvent(window,`phx:${e}`,{detail:t})}dispatchEvents(e){e.forEach(([t,i])=>this.dispatchEvent(t,i))}withPageLoading(e,t){y.dispatchEvent(window,"phx:page-loading-start",{detail:e});let i=()=>y.dispatchEvent(window,"phx:page-loading-stop",{detail:e});return t?t(i):i}pushHistoryPatch(e,t,i){if(!this.isConnected())return We.redirect(e);this.withPageLoading({to:e,kind:"patch"},n=>{this.main.pushLinkPatch(e,i,s=>{this.historyPatch(e,t,s),n()})})}historyPatch(e,t,i=this.setPendingLink(e)){!this.commitPendingLink(i)||(We.pushState(t,{type:"patch",id:this.main.id},e),this.registerNewLocation(window.location))}historyRedirect(e,t,i){if(!this.isConnected())return We.redirect(e,i);if(/^\/[^\/]+.*$/.test(e)){let{protocol:s,host:r}=window.location;e=`${s}//${r}${e}`}let n=window.scrollY;this.withPageLoading({to:e,kind:"redirect"},s=>{this.replaceMain(e,i,()=>{We.pushState(t,{type:"redirect",id:this.main.id,scroll:n},e),this.registerNewLocation(window.location),s()})})}replaceRootHistory(){We.pushState("replace",{root:!0,type:"patch",id:this.main.id})}registerNewLocation(e){let{pathname:t,search:i}=this.currentLocation;return t+i===e.pathname+e.search?!1:(this.currentLocation=Li(e),!0)}bindForms(){let e=0,t=!1;this.on("submit",i=>{let n=i.target.getAttribute(this.binding("submit")),s=i.target.getAttribute(this.binding("change"));!t&&s&&!n&&(t=!0,i.preventDefault(),this.withinOwners(i.target,r=>{r.disableForm(i.target),window.requestAnimationFrame(()=>i.target.submit())}))},!0),this.on("submit",i=>{let n=i.target.getAttribute(this.binding("submit"));!n||(i.preventDefault(),i.target.disabled=!0,this.withinOwners(i.target,s=>{ze.exec("submit",n,s,i.target,["push",{}])}))},!1);for(let i of["change","input"])this.on(i,n=>{let s=this.binding("change"),r=n.target,o=r.getAttribute(s),a=r.form&&r.form.getAttribute(s),u=o||a;if(!u||r.type==="number"&&r.validity&&r.validity.badInput)return;let d=o?r:r.form,v=e;e++;let{at:w,type:g}=y.private(r,"prev-iteration")||{};w===v-1&&i!==g||(y.putPrivate(r,"prev-iteration",{at:v,type:i}),this.debounce(r,n,i,()=>{this.withinOwners(d,p=>{y.putPrivate(r,Js,!0),y.isTextualInput(r)||this.setActiveElement(r),ze.exec("change",u,p,r,["push",{_target:n.target.name,dispatcher:d}])})}))},!1)}debounce(e,t,i,n){if(i==="blur"||i==="focusout")return n();let s=this.binding(zo),r=this.binding(Yo),o=this.defaults.debounce.toString(),a=this.defaults.throttle.toString();this.withinOwners(e,u=>{let d=()=>!u.isDestroyed()&&document.body.contains(e);y.debounce(e,t,s,o,r,a,d,()=>{n()})})}silenceEvents(e){this.silenced=!0,e(),this.silenced=!1}on(e,t){window.addEventListener(e,i=>{this.silenced||t(i)})}},_l=class{constructor(){this.transitions=new Set,this.pendingOps=[],this.reset()}reset(){this.transitions.forEach(e=>{clearTimeout(e),this.transitions.delete(e)}),this.flushPendingOps()}after(e){this.size()===0?e():this.pushPendingOp(e)}addTransition(e,t,i){t();let n=setTimeout(()=>{this.transitions.delete(n),i(),this.size()===0&&this.flushPendingOps()},e);this.transitions.add(n)}pushPendingOp(e){this.pendingOps.push(e)}size(){return this.transitions.size}flushPendingOps(){this.pendingOps.forEach(e=>e()),this.pendingOps=[]}};var Gs={phoenix:[242,110,64],elixir:[75,68,115],red:[255,99,132],orange:[255,159,64],yellow:[255,205,86],green:[75,192,192],blue:[54,162,253],purple:[153,102,255],grey:[201,203,207]},Ks=Object.keys(Gs),Qs={at:e=>{let[t,i,n]=Qs.rgb(e);return`rgb(${t}, ${i}, ${n})`},rgb:e=>Gs[Ks[e%Ks.length]]},Zs={at:e=>{let[t,i,n]=Qs.rgb(e);return{stroke:`rgb(${t}, ${i}, ${n})`,fill:`rgb(${t}, ${i}, ${n}, 0.1)`}}};function Pl(e,t){let i=null;function n(){i=null,e()}return function(){clearTimeout(i),i=setTimeout(n,t)}}function Ft(e,t,i,n){let s;i=i||0,n=n||t.length-1;let r=n<=2147483647;for(;n-i>1;)s=r?i+n>>1:Et((i+n)/2),t[s]<e?i=s:n=s;return e-t[i]<=t[n]-e?i:n}function Rl(e,t,i){let n=q,s=-q;for(let r=t;r<=i;r++)e[r]!=null&&(n=it(n,e[r]),s=li(s,e[r]));return[n,s]}function xr(e,t,i,n){let s=t-e,r=Er(s||ft(t)||1),o=Et(r),a=In(10,o)*i,u=s==0?a:0,d=Pn(Ll(e-u,a)),v=Pn(Ui(t+u,a));return n&&(s==0?t>0?(d=0,v=t*2):t<0&&(v=0,d=e*2):(v-t<a&&(v+=a),e-d<a&&(d-=a),e>=0&&d<0&&(d=0),t<=0&&v>0&&(v=0))),[d,v]}var rt=Math,ft=rt.abs,Et=rt.floor,W=rt.round,Dl=rt.ceil,it=rt.min,li=rt.max,In=rt.pow,Er=rt.log10,Ii=rt.PI,q=1/0;function Ut(e,t){return W(e/t)*t}function er(e,t,i){return it(li(e,t),i)}function kt(e){return typeof e=="function"?e:()=>e}function Ui(e,t){return Dl(e/t)*t}function Ll(e,t){return Et(e/t)*t}function Fe(e){return W(e*1e3)/1e3}function Pn(e){return W(e*1e6)/1e6}var Tr=Array.isArray;function Il(e){return typeof e=="string"}function _r(e){return typeof e=="object"&&e!==null}function Vt(e){let t;if(Tr(e))t=e.map(Vt);else if(_r(e)){t={};for(var i in e)t[i]=Vt(e[i])}else t=e;return t}function ve(e){let t=arguments;for(let i=1;i<t.length;i++){let n=t[i];for(let s in n)_r(e[s])?ve(e[s],Vt(n[s])):e[s]=Vt(n[s])}return e}var J="width",X="height",te="top",tr="bottom",ie="left",ir="right",nr="firstChild",Ml="createElement",jt="#000",Pr="classList",kn="mousemove",Cn="mousedown",Mi="mouseup",sr="mouseenter",rr="mouseleave",An="dblclick",or="resize",lr="scroll",ar=requestAnimationFrame,Rn=document,Oi=window,ne=devicePixelRatio;function dt(e,t){t!=null&&e[Pr].add(t)}function Ol(e,t){e[Pr].remove(t)}function F(e,t,i){e.style[t]=i+"px"}function tt(e,t,i,n){let s=Rn[Ml](e);return t!=null&&dt(s,t),i?.insertBefore(s,n),s}function Ne(e,t){return tt("div",e,t)}function $t(e,t,i){e.style.transform="translate("+t+"px,"+i+"px)"}var Rr={passive:!0};function He(e,t,i){t.addEventListener(e,i,Rr)}function xn(e,t,i){t.removeEventListener(e,i,Rr)}var Dr=["January","February","March","April","May","June","July","August","September","October","November","December"],Lr=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function Ir(e){return e.slice(0,3)}var Hl=Lr.map(Ir),Nl=Dr.map(Ir),Fl={MMMM:Dr,MMM:Nl,WWWW:Lr,WWW:Hl};function oi(e){return(e<10?"0":"")+e}function Ul(e){return(e<10?"00":e<100?"0":"")+e}var Bt="getFullYear",xt="getMonth",Ni="getDate",hr="getDay",Ct="getHours",Fi="getMinutes",Dn="getSeconds",Mr="getMilliseconds",$l={YYYY:e=>e[Bt](),YY:e=>(e[Bt]()+"").slice(2),MMMM:(e,t)=>t.MMMM[e[xt]()],MMM:(e,t)=>t.MMM[e[xt]()],MM:e=>oi(e[xt]()+1),M:e=>e[xt]()+1,DD:e=>oi(e[Ni]()),D:e=>e[Ni](),WWWW:(e,t)=>t.WWWW[e[hr]()],WWW:(e,t)=>t.WWW[e[hr]()],HH:e=>oi(e[Ct]()),H:e=>e[Ct](),h:e=>{let t=e[Ct]();return t==0?12:t>12?t-12:t},AA:e=>e[Ct]()>=12?"PM":"AM",aa:e=>e[Ct]()>=12?"pm":"am",a:e=>e[Ct]()>=12?"p":"a",mm:e=>oi(e[Fi]()),m:e=>e[Fi](),ss:e=>oi(e[Dn]()),s:e=>e[Dn](),fff:e=>Ul(e[Mr]())};function Or(e,t){t=t||Fl;let i=[],n=/\{([a-z]+)\}|[^{]+/gi,s;for(;s=n.exec(e);)i.push(s[0][0]=="{"?$l[s[1]]:s[0]);return r=>{let o="";for(let a=0;a<i.length;a++)o+=typeof i[a]=="string"?i[a]:i[a](r,t);return o}}function jl(e,t){let i;return t=="Etc/UTC"?i=new Date(+e+e.getTimezoneOffset()*6e4):(i=new Date(e.toLocaleString("en-US",{timeZone:t})),i.setMilliseconds(e[Mr]())),i}function Mn(e,t,i){let n=[];for(let s=e;s<t;s++)for(let r=0;r<i.length;r++){let o=i[r]*In(10,s);n.push(+o.toFixed(ft(s)))}return n}var On=[1,2,5],Bl=Mn(-12,0,On),Hr=Mn(0,12,On),Vl=Bl.concat(Hr),Jl=1,st=60,Le=st*st,ae=Le*24,At=ae*30,nt=ae*365,Wl=[5e-4].concat(Mn(-3,0,On),[1,5,10,15,30,st,st*5,st*10,st*15,st*30,Le,Le*2,Le*3,Le*4,Le*6,Le*8,Le*12,ae,ae*2,ae*3,ae*4,ae*5,ae*6,ae*7,ae*8,ae*9,ae*10,ae*15,At,At*2,At*3,At*4,At*6,nt,nt*2,nt*5,nt*10,nt*25,nt*50,nt*100]);function cr(e,t){return e.map(i=>[i[0],t(i[1]),i[2],t(i[4]?i[1]+i[3]:i[3])])}var Nr="{YYYY}",ur=`
`+Nr,Fr="{M}/{D}",Hi=`
`+Fr,Ur="{aa}",zl="{h}:{mm}",En=zl+Ur,dr=":{ss}",Yl=[[nt,Nr,7,"",1],[ae*28,"{MMM}",7,ur,1],[ae,Fr,7,ur,1],[Le,"{h}"+Ur,4,Hi,1],[st,En,4,Hi,1],[Jl,dr,2,Hi+" "+En,1],[.001,dr+".{fff}",2,Hi+" "+En,1]];function fr(e,t){return(i,n,s,r)=>{let o=t.find(v=>r>=v[0])||t[t.length-1],a=null,u=null,d=null;return n.map((v,w)=>{let g=e(v),p=g[Bt](),C=g[Ni](),A=g[Fi](),P=p!=a,N=C!=u,M=A!=d,b=o[2]==7&&P||o[2]==4&&N||o[2]==2&&M?o[3]:o[1];return a=p,u=C,d=A,b(g)})}}function Tn(e,t,i){return new Date(e,t,i)}function Xl(e){return(t,i,n,s,r)=>{let o=[],a=s>=At&&s<nt,u=e(i),d=u/1e3,v=Tn(u[Bt](),u[xt](),a?1:u[Ni]()),w=v/1e3;if(a){let g=s/At,p=d==w?d:Tn(v[Bt](),v[xt]()+g,1)/1e3,C=new Date(p*1e3),A=C[Bt](),P=C[xt]();for(let N=0;p<=n;N++){let M=Tn(A,P+g*N,1),b=M-e(M/1e3);p=(+M+b)/1e3,p<=n&&o.push(p)}}else{let g=s>=ae?ae:s,p=Et(i)-Et(d),C=w+p+Ui(d-w,g);o.push(C);let A=e(C),P=A[Ct]()+A[Fi]()/st+A[Dn]()/Le,N=s/Le;for(;;){C=Fe(C+s);let M=Et(Pn(P+N))%24,he=e(C).getHours()-M;if(he>1&&(he=-1),C-=he*Le,C>n)break;P=(P+N)%24;let Y=o[o.length-1];Fe((C-Y)/s)*r>=.7&&o.push(C)}}return o}}function pr(e,t){return t(e)}var ql="{YYYY}-{MM}-{DD} {h}:{mm}{aa}";function gr(e,t){return(i,n)=>t(e(n))}function Kl(e,t){let i=e.series[t],n=Ne();n.style.background=i.stroke||jt;let s=Fn(i.width,1),r=(s-1)/-2;return F(n,J,s),F(n,X,s),F(n,"marginLeft",r),F(n,"marginTop",r),n}var Gl={show:!0,x:!0,y:!0,lock:!1,points:{show:Kl},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,_x:!1,_y:!1},focus:{prox:-1},locked:!1,left:-10,top:-10,idx:null},Hn={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},$r=ve({},Hn,{size:10}),Nn='12px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',jr="bold "+Nn,Ql=1.5,mr={type:"x",show:!0,scale:"x",space:50,gap:5,size:50,labelSize:30,labelFont:jr,side:2,grid:Hn,ticks:$r,font:Nn,rotate:0},Zl="Value",ea="Time",vr={show:!0,scale:"x",min:q,max:-q,idxs:[]},ta=new Intl.NumberFormat(navigator.language);function ia(e,t,i,n){return t.map(ta.format)}function na(e,t,i,n,s,r){t=r?t:+Ui(t,n).toFixed(12);let o=[];for(let a=t;a<=i;a=+(a+n).toFixed(12))o.push(a);return o}function sa(e,t){return t}var br={type:"y",show:!0,scale:"y",space:40,gap:5,size:50,labelSize:30,labelFont:jr,side:3,grid:Hn,ticks:$r,font:Nn,rotate:0};function Fn(e,t){let i=3+(e||1)*2;return Fe(i*t)}function ra(e,t){let i=Fn(e.series[t].width,ne),n=e.bbox.width/i/2,s=e.series[0].idxs;return s[1]-s[0]<=n}var yr={scale:"y",show:!0,band:!1,spanGaps:!1,alpha:1,points:{show:ra},values:null,min:q,max:-q,idxs:[],path:null,clip:null},Ln={time:!0,auto:!1,distr:1,min:null,max:null},wr=ve({},Ln,{time:!1,auto:!0}),Sr={};function kr(e){let t=[];return{sub(i){t.push(i)},unsub(i){t=t.filter(n=>n!=i)},pub(i,n,s,r,o,a,u){t.length>1&&t.forEach(d=>{d!=n&&d.pub(i,n,s,r,o,a,u)})}}}function Cr(e,t,i,n){return(n?[e[0],e[1]].concat(e.slice(2)):[e[0]].concat(e.slice(1))).map((r,o)=>Br(r,o,t,i))}function Br(e,t,i,n){return ve({},t==0||e&&e.side%2==0?i:n,e)}function De(e,t,i,n){let s=(e-t.min)/(t.max-t.min);return n+(1-s)*i}function et(e,t,i,n){let s=(e-t.min)/(t.max-t.min);return n+s*i}function oa(e,t,i){return[t,i>t?i:i+86400]}function la(e,t,i){let n=i-t;if(n==0){let s=Er(n||ft(i)||1),r=Et(s)+1;return[t,Ui(i,In(10,r))]}else return[t,i]}function aa(e,t,i){return xr(t,i,.2,!0)}function ha(e,t,i,n){let s=i/e;for(var r=0;r<t.length;r++){let o=t[r]*s;if(o>=n)return[t[r],o]}}function _n(e){return e.button==0}function Ar(e){let t;return e=e.replace(/\d+/,i=>t=W(i*ne)),[e,t]}function ai(e,t,i){let n={},s=n.root=Ne("uplot");if(e.id!=null&&(s.id=e.id),dt(s,e.class),e.title){let l=Ne("title",s);l.textContent=e.title}let r=tt("canvas"),o=n.ctx=r.getContext("2d"),a=Ne("wrap",s),u=Ne("under",a);a.appendChild(r);let d=Ne("over",a);e=Vt(e),(e.plugins||[]).forEach(l=>{l.opts&&(e=l.opts(n,e)||e)});let v=!1,w=n.series=Cr(e.series||[],vr,yr,!1),g=n.axes=Cr(e.axes||[],mr,br,!0),p=n.scales=ve({},{x:Ln,y:wr},e.scales),C=ve({x:W(br.size/2),y:W(mr.size/3)},e.gutters),A=e.tzDate||(l=>new Date(l*1e3)),P=e.fmtDate||Or,N=Xl(A),M=fr(A,cr(Yl,P)),b=gr(A,pr(ql,P)),_={};for(let l in p){let h=p[l];(h.min!=null||h.max!=null)&&(_[l]={min:h.min,max:h.max})}let Y=ve({show:!0},e.legend).show,Pe,Ue=[],K,Ie=!1;if(Y){Pe=tt("table","legend",s);let l=w[1]?w[1].values:null;if(Ie=l!=null,Ie){let h=tt("tr","labels",Pe);tt("th",null,h),K=l(n,1,0);for(var ui in K)tt("th",null,h).textContent=ui}else K={_:0},dt(Pe,"inline")}function Jt(l,h){if(h==0&&Ie)return null;let c=[],f=tt("tr","series",Pe,Pe.childNodes[h]);dt(f,l.class),l.show||dt(f,"off");let m=tt("th",null,f),k=Ne("ident",m);l.width&&(k.style.borderColor=l.stroke),k.style.backgroundColor=l.fill;let S=Ne("text",m);S.textContent=l.label,h>0&&(He("click",m,E=>{U.locked||_n(E)&&mt(w.indexOf(l),{show:!l.show},at.setSeries)}),D&&He(sr,m,E=>{U.locked||mt(w.indexOf(l),{focus:!0},at.setSeries)}));for(var x in K){let E=tt("td",null,f);E.textContent="--",c.push(E)}return c}let U=n.cursor=ve({},Gl,e.cursor);U.points.show=kt(U.points.show);let pt=n.focus=ve({},e.focus||{alpha:.3},U.focus),D=pt.prox>=0,T=[null];function R(l,h){if(h>0){let c=U.points.show(n,h);if(c)return dt(c,"cursor-pt"),dt(c,l.class),$t(c,-10,-10),d.insertBefore(c,T[h]),c}}function $(l,h){let c=l.scale,f=p[c]=ve({},h==0?Ln:wr,p[c]),m=f.time;f.range=kt(f.range||(m?oa:h==0?la:aa));let k=l.value;if(l.value=m?Il(k)?gr(A,pr(k,P)):k||b:k||sa,l.label=l.label||(m?ea:Zl),h>0){l.width=l.width==null?1:l.width,l.paths=l.paths||po;let S=Fn(l.width,1);l.points=ve({},{size:S,width:li(1,S*.2)},l.points),l.points.show=kt(l.points.show),l._paths=null}if(Y&&Ue.splice(h,0,Jt(l,h)),U.show){let S=R(l,h);S&&T.splice(h,0,S)}}function Ce(l,h){h=h??w.length,l=Br(l,h,vr,yr),w.splice(h,0,l),$(w[h],h)}n.addSeries=Ce;function $e(l){w.splice(l,1),Y&&Ue.splice(l,1)[0][0].parentNode.remove(),T.length>1&&T.splice(l,1)[0].remove()}n.delSeries=$e,w.forEach($);for(let l in p){let h=p[l];h.from!=null&&(p[l]=ve({},p[h.from],h))}let H=w[0].scale,Xe=p[H].distr;function je(l,h){if(l.show){let c=l.side%2,f=p[l.scale];f==null&&(l.scale=c?w[1].scale:H,f=p[l.scale]);let m=f.time;l.space=kt(l.space),l.rotate=kt(l.rotate),l.incrs=kt(l.incrs||(f.distr==2?Hr:m?Wl:Vl)),l.split=kt(l.split||(m&&f.distr==1?N:na));let k=l.values;l.values=m?Tr(k)?fr(A,cr(k,P)):k||M:k||ia,l.font=Ar(l.font),l.labelFont=Ar(l.labelFont)}}g.forEach(je);let we,z=null,Q=null,Wt=w[0].idxs,qe=null;function Wn(l,h){l=l||[],l[0]=l[0]||[],n.data=l,t=l.slice(),qe=t[0],we=qe.length,Xe==2&&(t[0]=qe.map((c,f)=>f)),Gn(),Ae("setData"),h!==!1&&Ji()}n.setData=Wn;function Ji(){z=Wt[0]=0,Q=Wt[1]=we-1;let l=Xe==2?z:t[0][z],h=Xe==2?Q:t[0][Q];Pt(H,l,h)}function Wi(l,h,c,f){o.strokeStyle=l||jt,o.lineWidth=h,o.lineJoin="round",o.setLineDash(c||[]),o.fillStyle=f||jt}let zi,Yi,B,V,ot,lt,se,le,Se,be;n.bbox={};function zn(l,h){n.width=zi=B=l,n.height=Yi=V=h,ot=lt=0,oo(),lo();let c=n.bbox;se=c[ie]=Ut(ot*ne,.5),le=c[te]=Ut(lt*ne,.5),Se=c[J]=Ut(B*ne,.5),be=c[X]=Ut(V*ne,.5),F(u,ie,ot),F(u,te,lt),F(u,J,B),F(u,X,V),F(d,ie,ot),F(d,te,lt),F(d,J,B),F(d,X,V),F(a,J,zi),F(a,X,Yi),r[J]=W(zi*ne),r[X]=W(Yi*ne),mi(),v&&Pt(H,p[H].min,p[H].max),v&&Ae("setSize")}function ro({width:l,height:h}){zn(l,h)}n.setSize=ro;function oo(){let l=!1,h=!1,c=!1,f=!1;g.forEach((m,k)=>{if(m.show){let{side:S,size:x}=m,E=S%2,L=m.labelSize=m.label!=null?m.labelSize||30:0,I=x+L;I>0&&(E?(B-=I,S==3?(ot+=I,f=!0):c=!0):(V-=I,S==0?(lt+=I,l=!0):h=!0))}}),(l||h)&&(c||(B-=C.x),f||(B-=C.x,ot+=C.x)),(f||c)&&(h||(V-=C.y),l||(V-=C.y,lt+=C.y))}function lo(){let l=ot+B,h=lt+V,c=ot,f=lt;function m(k,S){switch(k){case 1:return l+=S,l-S;case 2:return h+=S,h-S;case 3:return c-=S,c+S;case 0:return f-=S,f+S}}g.forEach((k,S)=>{let x=k.side;k._pos=m(x,k.size),k.label!=null&&(k._lpos=m(x,k.labelSize))})}function Yn(){if(Dt){Ki=!0;return}if(we>0){let l=Vt(p);for(let c in l){let f=l[c],m=_[c];m!=null?(ve(f,m),c==H&&Gn()):c!=H&&(f.min=q,f.max=-q)}w.forEach((c,f)=>{let m=c.scale,k=l[m];if(f==0){let S=k.range(n,k.min,k.max);k.min=S[0],k.max=S[1],z=Ft(k.min,t[0]),Q=Ft(k.max,t[0]),t[0][z]<k.min&&z++,t[0][Q]>k.max&&Q--,c.min=qe[z],c.max=qe[Q]}else if(c.show&&_[m]==null){let S=c.min==q?k.auto?Rl(t[f],z,Q):[0,100]:[c.min,c.max];k.min=it(k.min,c.min=S[0]),k.max=li(k.max,c.max=S[1])}c.idxs[0]=z,c.idxs[1]=Q});for(let c in l){let f=l[c];if(f.from==null&&f.min!=q&&_[c]==null){let m=f.range(n,f.min,f.max);f.min=m[0],f.max=m[1]}}for(let c in l){let f=l[c];if(f.from!=null){let m=l[f.from];if(m.min!=q){let k=f.range(n,m.min,m.max);f.min=k[0],f.max=k[1]}}}let h={};for(let c in l){let f=l[c],m=p[c];(m.min!=f.min||m.max!=f.max)&&(m.min=f.min,m.max=f.max,h[c]=!0)}w.forEach(c=>{h[c.scale]&&(c._paths=null)});for(let c in h)Ae("setScale",c)}for(let l in _)_[l]=null;U.show&&Ke()}function ao(l){let h=w[l],c=h.points,f=Fe(c.width*ne),m=f%2/2,k=c.width>0,S=(c.size-c.width)/2*ne,x=Fe(S*2);o.translate(m,m),o.save(),o.beginPath(),o.rect(se-x,le-x,Se+x*2,be+x*2),o.clip(),o.globalAlpha=h.alpha;let E=new Path2D;for(let L=z;L<=Q;L++)if(t[l][L]!=null){let I=W(et(t[0][L],p[H],Se,se)),j=W(De(t[l][L],p[h.scale],be,le));E.moveTo(I+S,j),E.arc(I,j,S,0,Ii*2)}Wi(c.stroke||h.stroke||jt,f,null,c.fill||(k?"#fff":h.stroke||jt)),o.fill(E),k&&o.stroke(E),o.globalAlpha=1,o.restore(),o.translate(-m,-m)}function ho(l){let h=er(z-1,0,we-1),c=er(Q+1,0,we-1);for(;l[h]==null&&h>0;)h--;for(;l[c]==null&&c<we-1;)c++;return[h,c]}let Me=1;function co(){w.forEach((l,h)=>{if(h>0&&l.show&&we>0&&l._paths==null){let c=ho(t[h]);l._paths=l.paths(n,h,c[0],c[1])}}),w.forEach((l,h)=>{h>0&&l.show&&(l._paths&&uo(h),l.points.show(n,h,z,Q)&&ao(h),Ae("drawSeries",h))})}function uo(l){let h=w[l];if(Me==1){let{stroke:c,fill:f,clip:m}=h._paths,k=Fe(h[J]*ne),S=k%2/2;Wi(h.stroke,k,h.dash,h.fill),o.globalAlpha=h.alpha,o.translate(S,S),o.save();let x=se,E=le,L=Se,I=be,j=k*ne/2;h.min==0&&(I+=j),h.max==0&&(E-=j,I+=j),o.beginPath(),o.rect(x,E,L,I),o.clip(),m!=null&&o.clip(m),h.band?(o.fill(c),k&&o.stroke(c)):(k&&o.stroke(c),h.fill!=null&&o.fill(f)),o.restore(),o.translate(-S,-S),o.globalAlpha=1}h.band&&(Me*=-1)}function fo(l,h,c,f){let m=w[l],k=null;if(h.length>0){if(m.spanGaps){let x=h[0],E=h[h.length-1];h=[],c&&h.push(x),f&&h.push(E)}k=new Path2D;let S=se;for(let x=0;x<h.length;x++){let E=h[x];k.rect(S,le,E[0]-S,le+be),S=E[1]}k.rect(S,le,se+Se-S,le+be)}return k}function Xn(l,h,c){let f=l[l.length-1];f&&f[0]==h?f[1]=c:l.push([h,c])}function po(l,h,c,f){let m=w[h],k=t[0],S=t[h],x=p[H],E=p[m.scale],L=Me==1?{stroke:new Path2D,fill:null,clip:null}:w[h-1]._paths,I=L.stroke,j=Fe(m[J]*ne),re=q,fe=-q,Re,Ge,bt=[],pe=W(et(k[Me==1?c:f],x,Se,se));m.band&&Me==1&&c==z&&(j&&I.lineTo(-j,W(De(S[c],E,be,le))),x.min<k[0]&&bt.push([se,pe-1]));for(let oe=Me==1?c:f;oe>=c&&oe<=f;oe+=Me){let ye=W(et(k[oe],x,Se,se));if(ye==pe)S[oe]!=null&&(Re=W(De(S[oe],E,be,le)),re=it(Re,re),fe=li(Re,fe));else{let xe=!1;re!=q?(I.lineTo(pe,re),I.lineTo(pe,fe),I.lineTo(pe,Re),Ge=pe):xe=!0,S[oe]!=null?(Re=W(De(S[oe],E,be,le)),I.lineTo(ye,Re),re=fe=Re,ye-pe>1&&S[oe-1]==null&&(xe=!0)):(re=q,fe=-q),xe&&Xn(bt,Ge,ye),pe=ye}}if(S[f]==null&&Xn(bt,Ge,pe),m.band){let oe=j*100,ye,xe;Me==-1&&c==z&&(xe=se-oe,ye=c),Me==1&&f==Q&&(xe=se+Se+oe,ye=f,x.max>k[we-1]&&bt.push([pe,se+Se])),I.lineTo(xe,W(De(S[ye],E,be,le)))}if(Me==1&&(L.clip=fo(h,bt,S[c]==null,S[f]==null),m.fill!=null)){let oe=L.fill=new Path2D(I),ye=W(De(0,E,be,le));oe.lineTo(se+Se,ye),oe.lineTo(se,ye)}return m.band&&(Me*=-1),L}function qn(l,h,c,f){let m;if(f<=0)m=[0,0];else{let k=l.space(n,h,c,f),S=l.incrs(n,h,c,f,k);m=ha(c-h,S,f,k),m.push(m[1]/k)}return m}function Kn(l,h,c,f,m,k,S,x){let E=k%2/2;o.translate(E,E),Wi(S,k,x),o.beginPath();let L,I,j,re,fe=f+(c==0||c==3?-m:m);h==0?(I=f,re=fe):(L=f,j=fe),l.forEach((Re,Ge)=>{h==0?L=j=Re:I=re=Re,o.moveTo(L,I),o.lineTo(j,re)}),o.stroke(),o.translate(-E,-E)}function go(){g.forEach((l,h)=>{if(!l.show)return;let c=p[l.scale];if(c.min==q)return;let f=l.side,m=f%2,{min:k,max:S}=c,[x,E,L]=qn(l,k,S,m==0?B:V),I=c.distr==2,j=l.split(n,k,S,x,L,I),re=m==0?et:De,fe=m==0?Se:be,Re=m==0?se:le,Ge=j.map(ht=>W(re(ht,c,fe,Re))),bt=W(l.gap*ne),pe=l.ticks,oe=pe.show?W(pe.size*ne):0,ye=l.values(n,c.distr==2?j.map(ht=>qe[ht]):j,E,c.distr==2?qe[j[1]]-qe[j[0]]:x),xe=f==2?l.rotate(n,ye,E)*-Ii/180:0,hs=W(l._pos*ne),So=oe+bt,ko=m==0&&f==0||m==1&&f==3?-1:1,cs=hs+So*ko,It=m==0?cs:0,Mt=m==1?cs:0;o.font=l.font[0],o.fillStyle=l.stroke||jt,o.textAlign=xe>0?ie:xe<0?ir:m==0?"center":f==3?ir:ie,o.textBaseline=xe||m==1?"middle":f==2?te:tr;let us=l.font[1]*Ql;if(ye.forEach((ht,ds)=>{m==0?Mt=Ge[ds]:It=Ge[ds],(""+ht).split(/\n/gm).forEach((fs,ps)=>{xe?(o.save(),o.translate(Mt,It+ps*us),o.rotate(xe),o.fillText(fs,0,0),o.restore()):o.fillText(fs,Mt,It+ps*us)})}),l.label){o.save();let ht=W(l._lpos*ne);m==1?(Mt=It=0,o.translate(ht,W(le+be/2)),o.rotate((f==3?-Ii:Ii)/2)):(Mt=W(se+Se/2),It=ht),o.font=l.labelFont[0],o.textAlign="center",o.textBaseline=f==2?te:tr,o.fillText(l.label,Mt,It),o.restore()}pe.show&&Kn(Ge,m,f,hs,oe,Fe(pe[J]*ne),pe.stroke);let bi=l.grid;bi.show&&Kn(Ge,m,m==0?2:1,m==0?le:se,m==0?be:Se,Fe(bi[J]*ne),bi.stroke,bi.dash)}),Ae("drawAxes")}function Gn(){w.forEach((l,h)=>{h>0&&(l.min=q,l.max=-q,l._paths=null)})}let _t;function di(){if(Dt){qi=!0;return}o.clearRect(0,0,r[J],r[X]),Ae("drawClear"),go(),co(),_t=!0,Ae("draw")}n.redraw=l=>{l!==!1?Pt(H,p[H].min,p[H].max):di()};function Xi(l,h){let c=p[l];if(c.from==null){if(l==H&&(c.distr==2&&(h.min=Ft(h.min,t[0]),h.max=Ft(h.max,t[0])),c.time&&g[0].show&&h.max>h.min&&qn(g[0],h.min,h.max,B)[0]<.001))return;_[l]=h,_t=!1,Yn(),!_t&&di(),_t=!1}}n.setScale=Xi;let Qn,Zn,fi,pi,G,Z,gt=!1,ce=U.drag,ue=ce.x,de=ce.y;if(U.show){let l="cursor-";U.x&&(G=U.left,Qn=Ne(l+"x",d)),U.y&&(Z=U.top,Zn=Ne(l+"y",d))}let O=n.select=ve({show:!0,left:0,width:0,top:0,height:0},e.select),ee=O.show?Ne("select",d):null;function gi(l,h){if(O.show){for(let c in l)F(ee,c,O[c]=l[c]);h!==!1&&Ae("setSelect")}}n.setSelect=gi;function es(l,h){let c=w[l],f=Y?Ue[l][0].parentNode:null;c.show?f&&Ol(f,"off"):(f&&dt(f,"off"),T.length>1&&$t(T[l],0,-10))}function Pt(l,h,c){Xi(l,{min:h,max:c})}function mt(l,h,c){let f=w[l];if(h.focus!=null&&vo(l),h.show!=null){if(f.show=h.show,es(l,h.show),f.band){let m=w[l+1]&&w[l+1].band?l+1:l-1;w[m].show=f.show,es(m,h.show)}Pt(H,p[H].min,p[H].max)}Ae("setSeries",l,h),c&&vt.pub("setSeries",n,l,h)}n.setSeries=mt;function ts(l,h){w[l].alpha=h,Ue&&(Ue[l][0].parentNode.style.opacity=h)}function mo(l,h){let c=w[l];if(ts(l,h),c.band){let f=w[l+1].band?l+1:l-1;ts(f,h)}}let zt=Array(w.length),is=null;function vo(l){l!=is&&(w.forEach((h,c)=>{mo(c,l==null||c==0||c==l?1:pt.alpha)}),is=l,di())}Y&&D&&He(rr,Pe,l=>{U.locked||(mt(null,{focus:!1},at.setSeries),Ke())});function Rt(l,h){let c=B;h!=H&&(c=V,l=c-l);let f=l/c,m=p[h],k=m.max-m.min;return m.min+f*k}function ns(l){let h=Rt(l,H);return Ft(h,t[0],z,Q)}n.valToIdx=l=>Ft(l,t[0]),n.posToIdx=ns,n.posToVal=Rt,n.valToPos=(l,h,c)=>h==H?et(l,p[h],c?Se:B,c?se:0):De(l,p[h],c?be:V,c?le:0);let Dt=!1,qi=!1,Ki=!1,Gi=!1;function ss(l){Dt=!0,l(n),Dt=!1,Ki&&Yn(),Gi&&Ke(),qi&&!_t&&di(),Ki=Gi=qi=_t=Dt}n.batch=ss,n.setCursor=l=>{G=l.left,Z=l.top,Ke()};let Qi=0;function Ke(l,h){if(Dt){Gi=!0;return}Qi=0,U.show&&(U.x&&$t(Qn,W(G),0),U.y&&$t(Zn,0,W(Z)));let c,f=z>Q;if(G<0||we==0||f){c=null;for(let m=0;m<w.length;m++)if(m>0&&(zt[m]=q,T.length>1&&$t(T[m],-10,-10)),Y){if(m==0&&Ie)continue;for(let k=0;k<Ue[m].length;k++)Ue[m][k][nr].nodeValue="--"}D&&mt(null,{focus:!0},at.setSeries)}else{c=ns(G);let m=p[H],k=Fe(et(t[0][c],m,B,0));for(let S=0;S<w.length;S++){let x=w[S];if(S>0&&x.show){let E=t[S][c],L=E==null?-10:Fe(De(E,p[x.scale],V,0));zt[S]=L>0?ft(L-Z):q,T.length>1&&$t(T[S],k,L)}else zt[S]=q;if(Y){if(c==U.idx||S==0&&Ie)continue;let E=S==0&&Xe==2?qe:t[S],L=Ie?x.values(n,S,c):{_:x.value(n,E[c],S,c)},I=0;for(let j in L)Ue[S][I++][nr].nodeValue=L[j]}}}if(O.show&&gt){let m=ft(G-fi),k=ft(Z-pi);if(h!=null){let[S,x]=at.scales,E=h.cursor.drag;if(ue=E._x,de=E._y,S){let L=p[S],I=h.posToVal(h.select[ie],S),j=h.posToVal(h.select[ie]+h.select[J],S);O[ie]=et(I,L,B,0),O[J]=ft(O[ie]-et(j,L,B,0)),F(ee,ie,O[ie]),F(ee,J,O[J]),x||(F(ee,te,O[te]=0),F(ee,X,O[X]=V))}if(x){let L=p[x],I=h.posToVal(h.select[te],x),j=h.posToVal(h.select[te]+h.select[X],x);O[te]=De(I,L,V,0),O[X]=ft(O[te]-De(j,L,V,0)),F(ee,te,O[te]),F(ee,X,O[X]),S||(F(ee,ie,O[ie]=0),F(ee,J,O[J]=B))}}else{ue=ce.x&&m>=ce.dist,de=ce.y&&k>=ce.dist;let S=ce.uni;if(S!=null?ue&&de&&(ue=m>=S,de=k>=S,!ue&&!de&&(k>m?de=!0:ue=!0)):ce.x&&ce.y&&(ue||de)&&(ue=de=!0),ue){let x=it(fi,G);F(ee,ie,O[ie]=x),F(ee,J,O[J]=m),de||(F(ee,te,O[te]=0),F(ee,X,O[X]=V))}if(de){let x=it(pi,Z);F(ee,te,O[te]=x),F(ee,X,O[X]=k),ue||(F(ee,ie,O[ie]=0),F(ee,J,O[J]=B))}!ue&&!de&&(F(ee,X,O[X]=0),F(ee,J,O[J]=0))}}if(U.idx=c,U.left=G,U.top=Z,ce._x=ue,ce._y=de,l!=null&&(vt.pub(kn,n,G,Z,B,V,c),D)){let m=it.apply(null,zt),k=null;m<=pt.prox&&zt.some((S,x)=>{if(S==m)return k=x}),mt(k,{focus:!0},at.setSeries)}v&&Ae("setCursor")}let Zi=null;function mi(){Zi=d.getBoundingClientRect()}function rs(l,h,c,f,m,k,S){U.locked||(en(l,h,c,f,m,k,S,!1,l!=null),l!=null?Qi==0&&(Qi=ar(Ke)):Ke(null,h))}function en(l,h,c,f,m,k,S,x,E){if(l!=null)c=l.clientX-Zi.left,f=l.clientY-Zi.top;else{if(c<0||f<0){G=-10,Z=-10;return}let[L,I]=at.scales;L!=null?c=et(h.posToVal(c,L),p[L],B,0):c=B*(c/m),I!=null?f=De(h.posToVal(f,I),p[I],V,0):f=V*(f/k)}E&&((c<=1||c>=B-1)&&(c=Ut(c,B)),(f<=1||f>=V-1)&&(f=Ut(f,V))),x?(fi=c,pi=f):(G=c,Z=f)}function os(){gi({width:0,height:0},!1)}function ls(l,h,c,f,m,k,S){(h!=null||_n(l))&&(gt=!0,ue=de=ce._x=ce._y=!1,en(l,h,c,f,m,k,S,!0,!1),l!=null&&(He(Mi,Rn,tn),vt.pub(Cn,n,fi,pi,B,V,null)))}function tn(l,h,c,f,m,k,S){if(h!=null||_n(l)){gt=ce._x=ce._y=!1,en(l,h,c,f,m,k,S,!1,!0);let x=O[J]>0||O[X]>0;x&&gi(O),ce.setScale&&x?(ss(()=>{if(ue&&Pt(H,Rt(O[ie],H),Rt(O[ie]+O[J],H)),de)for(let E in p){let L=p[E];E!=H&&L.from==null&&Pt(E,Rt(O[te]+O[X],E),Rt(O[te],E))}}),os()):U.lock&&(U.locked=!U.locked,U.locked||Ke())}l!=null&&(xn(Mi,Rn,tn),vt.pub(Mi,n,G,Z,B,V,null))}function bo(l,h,c,f,m,k,S){if(!U.locked){let x=gt;if(gt){let E=!0,L=!0,I=10;if(ue&&de&&(E=G<=I||G>=B-I,L=Z<=I||Z>=V-I),ue&&E){let j=G,re=B-G,fe=it(j,re);fe==j&&(G=0),fe==re&&(G=B)}if(de&&L){let j=Z,re=V-Z,fe=it(j,re);fe==j&&(Z=0),fe==re&&(Z=V)}Ke(1),gt=!1}G=-10,Z=-10,Ke(1),x&&(gt=x)}}function as(l,h,c,f,m,k,S){Ji(),os(),l!=null&&vt.pub(An,n,G,Z,B,V,null)}let Lt={};Lt[Cn]=ls,Lt[kn]=rs,Lt[Mi]=tn,Lt[An]=as,Lt.setSeries=(l,h,c,f)=>{mt(c,f)};let Yt;U.show&&(He(Cn,d,ls),He(kn,d,rs),He(sr,d,mi),He(rr,d,l=>{ar(bo)}),He(An,d,as),Yt=Pl(mi,100),He(or,Oi,Yt),He(lr,Oi,Yt),n.syncRect=mi);let vi=n.hooks=e.hooks||{};function Ae(l,h,c){l in vi&&vi[l].forEach(f=>{f.call(null,n,h,c)})}(e.plugins||[]).forEach(l=>{for(let h in l.hooks)vi[h]=(vi[h]||[]).concat(l.hooks[h])});let at=ve({key:null,setSeries:!1,scales:[H,null]},U.sync),nn=at.key,vt=nn!=null?Sr[nn]=Sr[nn]||kr():kr();vt.sub(n);function yo(l,h,c,f,m,k,S){Lt[l](null,h,c,f,m,k,S)}n.pub=yo;function wo(){vt.unsub(n),xn(or,Oi,Yt),xn(lr,Oi,Yt),s.remove(),Ae("destroy")}n.destroy=wo;function sn(){zn(e[J],e[X]),Ae("init",e,t),Wn(t||e.data,!1),_[H]?Xi(H,_[H]):Ji(),gi(O,!1),v=!0,Ae("ready")}return i?i instanceof HTMLElement?(i.appendChild(s),sn()):i(n,sn):sn(),n}ai.assign=ve;ai.rangeNum=xr;ai.fmtDate=Or,ai.tzDate=jl;var Un=ai;var ca=e=>e.unit?{value:(t,i)=>i==null?"--":i.toFixed(3)+` ${e.unit}`}:{},Jr=e=>({value:"{YYYY}-{MM}-{DD} {HH}:{mm}:{ss}"}),ua=e=>e.unit?{values:(t,i,n)=>i.map(s=>+s.toFixed(2)+` ${e.unit}`)}:{},Wr=e=>({space:55,values:[[3600*24*365,"{YYYY}",7,"{YYYY}"],[3600*24*28,"{MMM}",7,`{MMM}
{YYYY}`],[3600*24,"{MM}-{DD}",7,`{MM}-{DD}
{YYYY}`],[3600,"{HH}:{mm}",4,`{HH}:{mm}
{YYYY}-{MM}-{DD}`],[60,"{HH}:{mm}",4,`{HH}:{mm}
{YYYY}-{MM}-{DD}`],[1,"{ss}",2,`{HH}:{mm}:{ss}
{YYYY}-{MM}-{DD}`]]}),zr=e=>({show:!0,size:70,space:15,...ua(e)}),$i={width:100,height:300};function da(e,t){let i=!1;return()=>{i||(requestAnimationFrame(e),i=!0,setTimeout(()=>{i=!1},t))}}var ji=(e,t=0)=>({...Zs.at(t),...ca(e),label:e.label,spanGaps:!0,points:{show:!1}}),Yr=e=>e.slice(0).map(({data:t})=>t);function fa({y:e,z:t},i){this.datasets[0].data.push(t);let n=this.datasets[1].data[this.datasets[1].data.length-1]||0,s=i.call(this,e,n);this.datasets[1].data.push(s)}var $n=e=>e.reduceRight((t,i)=>i!=null&&t==null?i:t,null);function pa({x:e,y:t,z:i},n){let s=this.datasets.findIndex(({key:r})=>e===r);s===-1&&(s=this.datasets.push({key:e,data:Array(this.datasets[0].data.length).fill(null)})-1,this.chart.addSeries(ji({label:e,unit:this.options.unit},s-1),s)),this.datasets=this.datasets.map((r,o)=>(o===0?r.data.push(i):o===s?r.data.push(n.call(this,t,$n(r.data)||0)):r.data.push(null),r))}var Xr=({pruneThreshold:e=1e3})=>e,hi=class{static __projections(){return{counter:(t,i)=>i+1,last_value:t=>t,sum:(t,i)=>i+t}}static getConfig(t){return{class:t.kind,title:t.title,width:t.width,height:t.height,series:[{...Jr()},ji(t,0)],scales:{x:{min:t.now-60,max:t.now},y:{min:0,max:1}},axes:[Wr(),zr(t)]}}static initialData(){return[[],[]]}constructor(t,i){this.__callback=this.constructor.__projections()[i.metric],this.chart=t,this.datasets=[{key:"|x|",data:[]}],this.options=i,this.pruneThreshold=Xr(i),i.tagged?(this.chart.delSeries(1),this.__handler=pa):(this.datasets.push({key:i.label,data:[]}),this.__handler=fa)}handleMeasurements(t){t.forEach(n=>this.__handler.call(this,n,this.__callback)),this.datasets[0].data.length>=this.pruneThreshold&&(this.datasets=this.datasets.map(({data:n,...s})=>({data:n.slice(-this.pruneThreshold),...s}))),this.chart.setData(Yr(this.datasets))}},ci=class{constructor(t,i){let n=this.constructor.getConfig(t);n.series[1].values=this.__seriesValues.bind(this),this.datasets=[{key:"|x|",data:[]}],this.chart=new Un(n,this.constructor.initialData(t),i),this.pruneThreshold=Xr(t),this.options=t,t.tagged?(this.chart.delSeries(1),this.__handler=this.handleTaggedMeasurement.bind(this)):(this.datasets.push(this.constructor.newDataset(t.label)),this.__handler=this.handleMeasurement.bind(this))}handleMeasurements(t){t.forEach(i=>this.__handler(i)),this.__maybePruneDatasets(),this.chart.setData(Yr(this.datasets))}handleTaggedMeasurement(t){let i=this.findOrCreateSeries(t.x);this.handleMeasurement(t,i)}handleMeasurement(t,i=1){let{z:n}=t;this.datasets=this.datasets.map((s,r)=>(s.key==="|x|"?s.data.push(n):r===i?this.pushToDataset(s,t):this.pushToDataset(s,null),s))}findOrCreateSeries(t){let i=this.datasets.findIndex(({key:n})=>t===n);if(i===-1){i=this.datasets.push(this.constructor.newDataset(t,this.datasets[0].data.length))-1;let n={values:this.__seriesValues.bind(this),...ji({label:t},i-1)};this.chart.addSeries(n,i)}return i}pushToDataset(t,i){if(i===null){t.data.push(null),t.agg.avg.push(null),t.agg.max.push(null),t.agg.min.push(null);return}let{y:n}=i;return t.agg.count++,t.agg.total+=n,t.data.push(n),(t.last.min===null||n<t.last.min)&&(t.last.min=n),t.agg.min.push(t.last.min),(t.last.max===null||n>t.last.max)&&(t.last.max=n),t.agg.max.push(t.last.max),t.agg.avg.push(t.agg.total/t.agg.count),t}__maybePruneDatasets(){if(this.datasets[0].data.length>this.pruneThreshold){let i=-this.pruneThreshold;this.datasets=this.datasets.map(({key:n,data:s,agg:r})=>{let o=s.slice(i);if(!r)return{key:n,data:o};let{avg:a,count:u,max:d,min:v,total:w}=r,g=v.slice(i),p=d.slice(i);return{key:n,data:o,agg:{avg:a.slice(i),count:u,min:g,max:p,total:w},last:{min:$n(g),max:$n(p)}}})}}__seriesValues(t,i,n){let s=this.datasets[i];if(s&&s.data&&s.data[n]){let{agg:{avg:r,max:o,min:a},data:u}=s;return{Value:u[n].toFixed(3),Min:a[n].toFixed(3),Max:o[n].toFixed(3),Avg:r[n].toFixed(3)}}else return{Value:"--",Min:"--",Max:"--",Avg:"--"}}static initialData(){return[[],[]]}static getConfig(t){return{class:t.kind,title:t.title,width:t.width,height:t.height,series:[{...Jr()},ji(t,0)],scales:{x:{min:t.now-60,max:t.now},y:{min:0,max:1}},axes:[Wr(),zr(t)]}}static newDataset(t,i=0){let n=i>0?Array(i).fill(null):[];return{key:t,data:[...n],agg:{avg:[...n],count:0,max:[...n],min:[...n],total:0},last:{max:null,min:null}}}},Vr={counter:hi,last_value:hi,sum:hi,summary:ci},jn=class{constructor(t,i){if(i.metric){if(i.metric&&!Vr[i.metric])throw new TypeError(`No metric defined for type ${i.metric}`)}else throw new TypeError("No metric type was provided");let n=Vr[i.metric];n===ci?(this.metric=new ci(i,t),this.uplotChart=this.metric.chart):(this.uplotChart=new Un(n.getConfig(i),n.initialData(i),t),this.metric=new n(this.uplotChart,i));let s=typeof i.refreshInterval<"u";this._isBufferingData=s,this._buffer=[],this._timer=s?setInterval(this._flushToChart.bind(this),+i.refreshInterval):null}clearTimers(){clearInterval(this._timer)}resize(t){this.uplotChart.setSize({width:Math.max(t.width,$i.width),height:$i.height})}pushData(t){if(!t.length)return;(this._isBufferingData?this._pushToBuffer:this._pushToChart).call(this,t)}_pushToBuffer(t){this._buffer=this._buffer.concat(t)}_pushToChart(t){this.metric.handleMeasurements(t)}_flushToChart(){let t=this._flushBuffer();!t.length||this._pushToChart(t)}_flushBuffer(){if(this._buffer&&!this._buffer.length)return[];let t=this._buffer;return this._buffer=[],t.reduce((i,n)=>i.concat(n),[])}},ga={mounted(){let e=this.el.parentElement.querySelector(".chart"),t=e.getBoundingClientRect(),i=Object.assign({},e.dataset,{tagged:e.dataset.tags&&e.dataset.tags!==""||!1,width:Math.max(t.width,$i.width),height:$i.height,now:new Date/1e3,refreshInterval:1e3});this.chart=new jn(e,i),window.addEventListener("resize",da(()=>{let n=e.getBoundingClientRect();this.chart.resize(n)}))},updated(){let e=Array.from(this.el.children||[]).map(({dataset:{x:t,y:i,z:n}})=>({x:t,y:+i,z:+n/1e6}));e.length>0&&this.chart.pushData(e)},destroyed(){this.chart.clearTimers()}},qr=ga;var ma=e=>{let t=`${e.key}=${e.value};path=/`;window.location.protocol==="https:"&&(t+=";samesite=strict"),e.domain&&(t+=`;domain=${e.domain}`),document.cookie=t},va=e=>{let t="Thu, 01 Jan 1970 00:00:00 GMT";document.cookie=`${e.key}=; expires=${t}`},ba=e=>e.el.hasAttribute("data-cookie-enabled"),ya=e=>({key:e.el.getAttribute("data-cookie-key"),value:e.el.getAttribute("data-cookie-value"),domain:e.el.getAttribute("data-cookie-domain")}),wa={updated(){let e=ya(this);va(e),ba(this)&&ma(e)}},Kr=wa;var Sa=e=>{if(!navigator.clipboard)e.select(),e.setSelectionRange(0,99999),document.execCommand("copy");else{let t=e.value;navigator.clipboard.writeText(t)}},ka={mounted(){this.el.querySelector(".btn-primary").addEventListener("click",e=>{let t=this.el.querySelector("textarea");Sa(t);let i=this.el.querySelector(".copy-indicator");i.setAttribute("data-enabled","false"),i.offsetWidth,i.setAttribute("data-enabled","true")})}},Gr=ka;var Ca={updated(){if(this.el.querySelector(".logger-autoscroll-checkbox").checked){let e=this.el.querySelector("#logger-messages");e.scrollTop=e.scrollHeight}}},Qr=Ca;var eo=".progress-bar, .color-bar-legend-entry",Bi,Zr=e=>{e.querySelectorAll(eo).forEach(t=>{if(Bi){let i=t.getAttribute("data-name")!==Bi;t.setAttribute("data-muted",i)}else t.removeAttribute("data-muted")})},Aa={mounted(){this.el.setAttribute("data-highlight-enabled","true"),this.el.querySelectorAll(eo).forEach(e=>e.addEventListener("click",t=>{let i=t.currentTarget.getAttribute("data-name");Bi=i===Bi?null:i,Zr(this.el)}))},updated(){this.el.setAttribute("data-highlight-enabled","true"),Zr(this.el)}},to=Aa;var io="_refresh_data";function no(e,t){let i=JSON.stringify(e),n=Ta(i);Ea(io,n,t,15768e4)}function Vi(){let e=xa(io);if(e){let t=_a(e);return JSON.parse(t)}else return null}function xa(e){let t=document.cookie.split("; ").find(i=>i.startsWith(`${e}=`));return t?t.replace(`${e}=`,""):null}function Ea(e,t,i,n){let s=`${e}=${t};max-age=${n};path=${i}`;document.cookie=s}function Ta(e){return btoa(unescape(encodeURIComponent(e)))}function _a(e){return decodeURIComponent(escape(atob(e)))}var Pa={updated(){let e=Vi()||{};e[this.el.dataset.page]=this.el.value,no(e,this.el.dataset.dashboardMountPath)}},so=Pa;var Ra={PhxChartComponent:qr,PhxRequestLoggerCookie:Kr,PhxRequestLoggerQueryParameter:Gr,PhxRequestLoggerMessages:Qr,PhxColorBarHighlight:to,PhxRememberRefresh:so},Da=document.querySelector("html").getAttribute("phx-socket")||"/live",La=document.querySelector("meta[name='csrf-token']").getAttribute("content"),Jn=new qs(Da,vs,{hooks:Ra,params:e=>({_csrf_token:La,refresh_data:Vi()})}),Tt=Jn.socket,Ia=Tt.onConnError,Bn=!0;Tt.onOpen(()=>{Bn=!1});Tt.onConnError=(...e)=>{Bn?(Bn=!1,Tt.disconnect(null,3e3),Tt.transport=Gt,Tt.connect()):Ia.apply(Tt,e)};window.addEventListener("phx:page-loading-start",e=>Vn.default.start());window.addEventListener("phx:page-loading-stop",e=>Vn.default.done());Jn.connect();window.liveSocket=Jn;})();
/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vYXNzZXRzL25vZGVfbW9kdWxlcy9ucHJvZ3Jlc3MvbnByb2dyZXNzLmpzIiwgIi4uLy4uL2RlcHMvcGhvZW5peF9odG1sL3ByaXYvc3RhdGljL3Bob2VuaXhfaHRtbC5qcyIsICIuLi8uLi9kZXBzL3Bob2VuaXgvYXNzZXRzL2pzL3Bob2VuaXgvdXRpbHMuanMiLCAiLi4vLi4vZGVwcy9waG9lbml4L2Fzc2V0cy9qcy9waG9lbml4L2NvbnN0YW50cy5qcyIsICIuLi8uLi9kZXBzL3Bob2VuaXgvYXNzZXRzL2pzL3Bob2VuaXgvcHVzaC5qcyIsICIuLi8uLi9kZXBzL3Bob2VuaXgvYXNzZXRzL2pzL3Bob2VuaXgvdGltZXIuanMiLCAiLi4vLi4vZGVwcy9waG9lbml4L2Fzc2V0cy9qcy9waG9lbml4L2NoYW5uZWwuanMiLCAiLi4vLi4vZGVwcy9waG9lbml4L2Fzc2V0cy9qcy9waG9lbml4L2FqYXguanMiLCAiLi4vLi4vZGVwcy9waG9lbml4L2Fzc2V0cy9qcy9waG9lbml4L2xvbmdwb2xsLmpzIiwgIi4uLy4uL2RlcHMvcGhvZW5peC9hc3NldHMvanMvcGhvZW5peC9wcmVzZW5jZS5qcyIsICIuLi8uLi9kZXBzL3Bob2VuaXgvYXNzZXRzL2pzL3Bob2VuaXgvc2VyaWFsaXplci5qcyIsICIuLi8uLi9kZXBzL3Bob2VuaXgvYXNzZXRzL2pzL3Bob2VuaXgvc29ja2V0LmpzIiwgIi4uLy4uL2Fzc2V0cy9qcy9hcHAuanMiLCAiLi4vLi4vZGVwcy9waG9lbml4X2xpdmVfdmlldy9hc3NldHMvanMvcGhvZW5peF9saXZlX3ZpZXcvY29uc3RhbnRzLmpzIiwgIi4uLy4uL2RlcHMvcGhvZW5peF9saXZlX3ZpZXcvYXNzZXRzL2pzL3Bob2VuaXhfbGl2ZV92aWV3L2VudHJ5X3VwbG9hZGVyLmpzIiwgIi4uLy4uL2RlcHMvcGhvZW5peF9saXZlX3ZpZXcvYXNzZXRzL2pzL3Bob2VuaXhfbGl2ZV92aWV3L3V0aWxzLmpzIiwgIi4uLy4uL2RlcHMvcGhvZW5peF9saXZlX3ZpZXcvYXNzZXRzL2pzL3Bob2VuaXhfbGl2ZV92aWV3L2Jyb3dzZXIuanMiLCAiLi4vLi4vZGVwcy9waG9lbml4X2xpdmVfdmlldy9hc3NldHMvanMvcGhvZW5peF9saXZlX3ZpZXcvZG9tLmpzIiwgIi4uLy4uL2RlcHMvcGhvZW5peF9saXZlX3ZpZXcvYXNzZXRzL2pzL3Bob2VuaXhfbGl2ZV92aWV3L3VwbG9hZF9lbnRyeS5qcyIsICIuLi8uLi9kZXBzL3Bob2VuaXhfbGl2ZV92aWV3L2Fzc2V0cy9qcy9waG9lbml4X2xpdmVfdmlldy9saXZlX3VwbG9hZGVyLmpzIiwgIi4uLy4uL2RlcHMvcGhvZW5peF9saXZlX3ZpZXcvYXNzZXRzL2pzL3Bob2VuaXhfbGl2ZV92aWV3L2FyaWEuanMiLCAiLi4vLi4vZGVwcy9waG9lbml4X2xpdmVfdmlldy9hc3NldHMvanMvcGhvZW5peF9saXZlX3ZpZXcvaG9va3MuanMiLCAiLi4vLi4vZGVwcy9waG9lbml4X2xpdmVfdmlldy9hc3NldHMvanMvcGhvZW5peF9saXZlX3ZpZXcvZG9tX3Bvc3RfbW9ycGhfcmVzdG9yZXIuanMiLCAiLi4vLi4vZGVwcy9waG9lbml4X2xpdmVfdmlldy9hc3NldHMvbm9kZV9tb2R1bGVzL21vcnBoZG9tL2Rpc3QvbW9ycGhkb20tZXNtLmpzIiwgIi4uLy4uL2RlcHMvcGhvZW5peF9saXZlX3ZpZXcvYXNzZXRzL2pzL3Bob2VuaXhfbGl2ZV92aWV3L2RvbV9wYXRjaC5qcyIsICIuLi8uLi9kZXBzL3Bob2VuaXhfbGl2ZV92aWV3L2Fzc2V0cy9qcy9waG9lbml4X2xpdmVfdmlldy9yZW5kZXJlZC5qcyIsICIuLi8uLi9kZXBzL3Bob2VuaXhfbGl2ZV92aWV3L2Fzc2V0cy9qcy9waG9lbml4X2xpdmVfdmlldy92aWV3X2hvb2suanMiLCAiLi4vLi4vZGVwcy9waG9lbml4X2xpdmVfdmlldy9hc3NldHMvanMvcGhvZW5peF9saXZlX3ZpZXcvanMuanMiLCAiLi4vLi4vZGVwcy9waG9lbml4X2xpdmVfdmlldy9hc3NldHMvanMvcGhvZW5peF9saXZlX3ZpZXcvdmlldy5qcyIsICIuLi8uLi9kZXBzL3Bob2VuaXhfbGl2ZV92aWV3L2Fzc2V0cy9qcy9waG9lbml4X2xpdmVfdmlldy9saXZlX3NvY2tldC5qcyIsICIuLi8uLi9hc3NldHMvanMvbWV0cmljc19saXZlL2NvbG9yX3doZWVsLmpzIiwgIi4uLy4uL2Fzc2V0cy9ub2RlX21vZHVsZXMvdXBsb3QvZGlzdC91UGxvdC5lc20uanMiLCAiLi4vLi4vYXNzZXRzL2pzL21ldHJpY3NfbGl2ZS9pbmRleC5qcyIsICIuLi8uLi9hc3NldHMvanMvcmVxdWVzdF9sb2dnZXJfY29va2llL2luZGV4LmpzIiwgIi4uLy4uL2Fzc2V0cy9qcy9yZXF1ZXN0X2xvZ2dlcl9xdWVyeV9wYXJhbWV0ZXIvaW5kZXguanMiLCAiLi4vLi4vYXNzZXRzL2pzL3JlcXVlc3RfbG9nZ2VyX21lc3NhZ2VzL2luZGV4LmpzIiwgIi4uLy4uL2Fzc2V0cy9qcy9jb2xvcl9iYXJfaGlnaGxpZ2h0L2luZGV4LmpzIiwgIi4uLy4uL2Fzc2V0cy9qcy9yZWZyZXNoL2luZGV4LmpzIiwgIi4uLy4uL2Fzc2V0cy9qcy9yZW1lbWJlcl9yZWZyZXNoL2luZGV4LmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyIvKiBOUHJvZ3Jlc3MsIChjKSAyMDEzLCAyMDE0IFJpY28gU3RhLiBDcnV6IC0gaHR0cDovL3JpY29zdGFjcnV6LmNvbS9ucHJvZ3Jlc3NcbiAqIEBsaWNlbnNlIE1JVCAqL1xuXG47KGZ1bmN0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblxuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgZGVmaW5lKGZhY3RvcnkpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICB9IGVsc2Uge1xuICAgIHJvb3QuTlByb2dyZXNzID0gZmFjdG9yeSgpO1xuICB9XG5cbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xuICB2YXIgTlByb2dyZXNzID0ge307XG5cbiAgTlByb2dyZXNzLnZlcnNpb24gPSAnMC4yLjAnO1xuXG4gIHZhciBTZXR0aW5ncyA9IE5Qcm9ncmVzcy5zZXR0aW5ncyA9IHtcbiAgICBtaW5pbXVtOiAwLjA4LFxuICAgIGVhc2luZzogJ2Vhc2UnLFxuICAgIHBvc2l0aW9uVXNpbmc6ICcnLFxuICAgIHNwZWVkOiAyMDAsXG4gICAgdHJpY2tsZTogdHJ1ZSxcbiAgICB0cmlja2xlUmF0ZTogMC4wMixcbiAgICB0cmlja2xlU3BlZWQ6IDgwMCxcbiAgICBzaG93U3Bpbm5lcjogdHJ1ZSxcbiAgICBiYXJTZWxlY3RvcjogJ1tyb2xlPVwiYmFyXCJdJyxcbiAgICBzcGlubmVyU2VsZWN0b3I6ICdbcm9sZT1cInNwaW5uZXJcIl0nLFxuICAgIHBhcmVudDogJ2JvZHknLFxuICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cImJhclwiIHJvbGU9XCJiYXJcIj48ZGl2IGNsYXNzPVwicGVnXCI+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz1cInNwaW5uZXJcIiByb2xlPVwic3Bpbm5lclwiPjxkaXYgY2xhc3M9XCJzcGlubmVyLWljb25cIj48L2Rpdj48L2Rpdj4nXG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgY29uZmlndXJhdGlvbi5cbiAgICpcbiAgICogICAgIE5Qcm9ncmVzcy5jb25maWd1cmUoe1xuICAgKiAgICAgICBtaW5pbXVtOiAwLjFcbiAgICogICAgIH0pO1xuICAgKi9cbiAgTlByb2dyZXNzLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICB2YXIga2V5LCB2YWx1ZTtcbiAgICBmb3IgKGtleSBpbiBvcHRpb25zKSB7XG4gICAgICB2YWx1ZSA9IG9wdGlvbnNba2V5XTtcbiAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIG9wdGlvbnMuaGFzT3duUHJvcGVydHkoa2V5KSkgU2V0dGluZ3Nba2V5XSA9IHZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBMYXN0IG51bWJlci5cbiAgICovXG5cbiAgTlByb2dyZXNzLnN0YXR1cyA9IG51bGw7XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHByb2dyZXNzIGJhciBzdGF0dXMsIHdoZXJlIGBuYCBpcyBhIG51bWJlciBmcm9tIGAwLjBgIHRvIGAxLjBgLlxuICAgKlxuICAgKiAgICAgTlByb2dyZXNzLnNldCgwLjQpO1xuICAgKiAgICAgTlByb2dyZXNzLnNldCgxLjApO1xuICAgKi9cblxuICBOUHJvZ3Jlc3Muc2V0ID0gZnVuY3Rpb24obikge1xuICAgIHZhciBzdGFydGVkID0gTlByb2dyZXNzLmlzU3RhcnRlZCgpO1xuXG4gICAgbiA9IGNsYW1wKG4sIFNldHRpbmdzLm1pbmltdW0sIDEpO1xuICAgIE5Qcm9ncmVzcy5zdGF0dXMgPSAobiA9PT0gMSA/IG51bGwgOiBuKTtcblxuICAgIHZhciBwcm9ncmVzcyA9IE5Qcm9ncmVzcy5yZW5kZXIoIXN0YXJ0ZWQpLFxuICAgICAgICBiYXIgICAgICA9IHByb2dyZXNzLnF1ZXJ5U2VsZWN0b3IoU2V0dGluZ3MuYmFyU2VsZWN0b3IpLFxuICAgICAgICBzcGVlZCAgICA9IFNldHRpbmdzLnNwZWVkLFxuICAgICAgICBlYXNlICAgICA9IFNldHRpbmdzLmVhc2luZztcblxuICAgIHByb2dyZXNzLm9mZnNldFdpZHRoOyAvKiBSZXBhaW50ICovXG5cbiAgICBxdWV1ZShmdW5jdGlvbihuZXh0KSB7XG4gICAgICAvLyBTZXQgcG9zaXRpb25Vc2luZyBpZiBpdCBoYXNuJ3QgYWxyZWFkeSBiZWVuIHNldFxuICAgICAgaWYgKFNldHRpbmdzLnBvc2l0aW9uVXNpbmcgPT09ICcnKSBTZXR0aW5ncy5wb3NpdGlvblVzaW5nID0gTlByb2dyZXNzLmdldFBvc2l0aW9uaW5nQ1NTKCk7XG5cbiAgICAgIC8vIEFkZCB0cmFuc2l0aW9uXG4gICAgICBjc3MoYmFyLCBiYXJQb3NpdGlvbkNTUyhuLCBzcGVlZCwgZWFzZSkpO1xuXG4gICAgICBpZiAobiA9PT0gMSkge1xuICAgICAgICAvLyBGYWRlIG91dFxuICAgICAgICBjc3MocHJvZ3Jlc3MsIHsgXG4gICAgICAgICAgdHJhbnNpdGlvbjogJ25vbmUnLCBcbiAgICAgICAgICBvcGFjaXR5OiAxIFxuICAgICAgICB9KTtcbiAgICAgICAgcHJvZ3Jlc3Mub2Zmc2V0V2lkdGg7IC8qIFJlcGFpbnQgKi9cblxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGNzcyhwcm9ncmVzcywgeyBcbiAgICAgICAgICAgIHRyYW5zaXRpb246ICdhbGwgJyArIHNwZWVkICsgJ21zIGxpbmVhcicsIFxuICAgICAgICAgICAgb3BhY2l0eTogMCBcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgTlByb2dyZXNzLnJlbW92ZSgpO1xuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgIH0sIHNwZWVkKTtcbiAgICAgICAgfSwgc3BlZWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0VGltZW91dChuZXh0LCBzcGVlZCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBOUHJvZ3Jlc3MuaXNTdGFydGVkID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBOUHJvZ3Jlc3Muc3RhdHVzID09PSAnbnVtYmVyJztcbiAgfTtcblxuICAvKipcbiAgICogU2hvd3MgdGhlIHByb2dyZXNzIGJhci5cbiAgICogVGhpcyBpcyB0aGUgc2FtZSBhcyBzZXR0aW5nIHRoZSBzdGF0dXMgdG8gMCUsIGV4Y2VwdCB0aGF0IGl0IGRvZXNuJ3QgZ28gYmFja3dhcmRzLlxuICAgKlxuICAgKiAgICAgTlByb2dyZXNzLnN0YXJ0KCk7XG4gICAqXG4gICAqL1xuICBOUHJvZ3Jlc3Muc3RhcnQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoIU5Qcm9ncmVzcy5zdGF0dXMpIE5Qcm9ncmVzcy5zZXQoMCk7XG5cbiAgICB2YXIgd29yayA9IGZ1bmN0aW9uKCkge1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCFOUHJvZ3Jlc3Muc3RhdHVzKSByZXR1cm47XG4gICAgICAgIE5Qcm9ncmVzcy50cmlja2xlKCk7XG4gICAgICAgIHdvcmsoKTtcbiAgICAgIH0sIFNldHRpbmdzLnRyaWNrbGVTcGVlZCk7XG4gICAgfTtcblxuICAgIGlmIChTZXR0aW5ncy50cmlja2xlKSB3b3JrKCk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogSGlkZXMgdGhlIHByb2dyZXNzIGJhci5cbiAgICogVGhpcyBpcyB0aGUgKnNvcnQgb2YqIHRoZSBzYW1lIGFzIHNldHRpbmcgdGhlIHN0YXR1cyB0byAxMDAlLCB3aXRoIHRoZVxuICAgKiBkaWZmZXJlbmNlIGJlaW5nIGBkb25lKClgIG1ha2VzIHNvbWUgcGxhY2VibyBlZmZlY3Qgb2Ygc29tZSByZWFsaXN0aWMgbW90aW9uLlxuICAgKlxuICAgKiAgICAgTlByb2dyZXNzLmRvbmUoKTtcbiAgICpcbiAgICogSWYgYHRydWVgIGlzIHBhc3NlZCwgaXQgd2lsbCBzaG93IHRoZSBwcm9ncmVzcyBiYXIgZXZlbiBpZiBpdHMgaGlkZGVuLlxuICAgKlxuICAgKiAgICAgTlByb2dyZXNzLmRvbmUodHJ1ZSk7XG4gICAqL1xuXG4gIE5Qcm9ncmVzcy5kb25lID0gZnVuY3Rpb24oZm9yY2UpIHtcbiAgICBpZiAoIWZvcmNlICYmICFOUHJvZ3Jlc3Muc3RhdHVzKSByZXR1cm4gdGhpcztcblxuICAgIHJldHVybiBOUHJvZ3Jlc3MuaW5jKDAuMyArIDAuNSAqIE1hdGgucmFuZG9tKCkpLnNldCgxKTtcbiAgfTtcblxuICAvKipcbiAgICogSW5jcmVtZW50cyBieSBhIHJhbmRvbSBhbW91bnQuXG4gICAqL1xuXG4gIE5Qcm9ncmVzcy5pbmMgPSBmdW5jdGlvbihhbW91bnQpIHtcbiAgICB2YXIgbiA9IE5Qcm9ncmVzcy5zdGF0dXM7XG5cbiAgICBpZiAoIW4pIHtcbiAgICAgIHJldHVybiBOUHJvZ3Jlc3Muc3RhcnQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHR5cGVvZiBhbW91bnQgIT09ICdudW1iZXInKSB7XG4gICAgICAgIGFtb3VudCA9ICgxIC0gbikgKiBjbGFtcChNYXRoLnJhbmRvbSgpICogbiwgMC4xLCAwLjk1KTtcbiAgICAgIH1cblxuICAgICAgbiA9IGNsYW1wKG4gKyBhbW91bnQsIDAsIDAuOTk0KTtcbiAgICAgIHJldHVybiBOUHJvZ3Jlc3Muc2V0KG4pO1xuICAgIH1cbiAgfTtcblxuICBOUHJvZ3Jlc3MudHJpY2tsZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBOUHJvZ3Jlc3MuaW5jKE1hdGgucmFuZG9tKCkgKiBTZXR0aW5ncy50cmlja2xlUmF0ZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFdhaXRzIGZvciBhbGwgc3VwcGxpZWQgalF1ZXJ5IHByb21pc2VzIGFuZFxuICAgKiBpbmNyZWFzZXMgdGhlIHByb2dyZXNzIGFzIHRoZSBwcm9taXNlcyByZXNvbHZlLlxuICAgKlxuICAgKiBAcGFyYW0gJHByb21pc2UgalFVZXJ5IFByb21pc2VcbiAgICovXG4gIChmdW5jdGlvbigpIHtcbiAgICB2YXIgaW5pdGlhbCA9IDAsIGN1cnJlbnQgPSAwO1xuXG4gICAgTlByb2dyZXNzLnByb21pc2UgPSBmdW5jdGlvbigkcHJvbWlzZSkge1xuICAgICAgaWYgKCEkcHJvbWlzZSB8fCAkcHJvbWlzZS5zdGF0ZSgpID09PSBcInJlc29sdmVkXCIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIGlmIChjdXJyZW50ID09PSAwKSB7XG4gICAgICAgIE5Qcm9ncmVzcy5zdGFydCgpO1xuICAgICAgfVxuXG4gICAgICBpbml0aWFsKys7XG4gICAgICBjdXJyZW50Kys7XG5cbiAgICAgICRwcm9taXNlLmFsd2F5cyhmdW5jdGlvbigpIHtcbiAgICAgICAgY3VycmVudC0tO1xuICAgICAgICBpZiAoY3VycmVudCA9PT0gMCkge1xuICAgICAgICAgICAgaW5pdGlhbCA9IDA7XG4gICAgICAgICAgICBOUHJvZ3Jlc3MuZG9uZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgTlByb2dyZXNzLnNldCgoaW5pdGlhbCAtIGN1cnJlbnQpIC8gaW5pdGlhbCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gIH0pKCk7XG5cbiAgLyoqXG4gICAqIChJbnRlcm5hbCkgcmVuZGVycyB0aGUgcHJvZ3Jlc3MgYmFyIG1hcmt1cCBiYXNlZCBvbiB0aGUgYHRlbXBsYXRlYFxuICAgKiBzZXR0aW5nLlxuICAgKi9cblxuICBOUHJvZ3Jlc3MucmVuZGVyID0gZnVuY3Rpb24oZnJvbVN0YXJ0KSB7XG4gICAgaWYgKE5Qcm9ncmVzcy5pc1JlbmRlcmVkKCkpIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbnByb2dyZXNzJyk7XG5cbiAgICBhZGRDbGFzcyhkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsICducHJvZ3Jlc3MtYnVzeScpO1xuICAgIFxuICAgIHZhciBwcm9ncmVzcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHByb2dyZXNzLmlkID0gJ25wcm9ncmVzcyc7XG4gICAgcHJvZ3Jlc3MuaW5uZXJIVE1MID0gU2V0dGluZ3MudGVtcGxhdGU7XG5cbiAgICB2YXIgYmFyICAgICAgPSBwcm9ncmVzcy5xdWVyeVNlbGVjdG9yKFNldHRpbmdzLmJhclNlbGVjdG9yKSxcbiAgICAgICAgcGVyYyAgICAgPSBmcm9tU3RhcnQgPyAnLTEwMCcgOiB0b0JhclBlcmMoTlByb2dyZXNzLnN0YXR1cyB8fCAwKSxcbiAgICAgICAgcGFyZW50ICAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFNldHRpbmdzLnBhcmVudCksXG4gICAgICAgIHNwaW5uZXI7XG4gICAgXG4gICAgY3NzKGJhciwge1xuICAgICAgdHJhbnNpdGlvbjogJ2FsbCAwIGxpbmVhcicsXG4gICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUzZCgnICsgcGVyYyArICclLDAsMCknXG4gICAgfSk7XG5cbiAgICBpZiAoIVNldHRpbmdzLnNob3dTcGlubmVyKSB7XG4gICAgICBzcGlubmVyID0gcHJvZ3Jlc3MucXVlcnlTZWxlY3RvcihTZXR0aW5ncy5zcGlubmVyU2VsZWN0b3IpO1xuICAgICAgc3Bpbm5lciAmJiByZW1vdmVFbGVtZW50KHNwaW5uZXIpO1xuICAgIH1cblxuICAgIGlmIChwYXJlbnQgIT0gZG9jdW1lbnQuYm9keSkge1xuICAgICAgYWRkQ2xhc3MocGFyZW50LCAnbnByb2dyZXNzLWN1c3RvbS1wYXJlbnQnKTtcbiAgICB9XG5cbiAgICBwYXJlbnQuYXBwZW5kQ2hpbGQocHJvZ3Jlc3MpO1xuICAgIHJldHVybiBwcm9ncmVzcztcbiAgfTtcblxuICAvKipcbiAgICogUmVtb3ZlcyB0aGUgZWxlbWVudC4gT3Bwb3NpdGUgb2YgcmVuZGVyKCkuXG4gICAqL1xuXG4gIE5Qcm9ncmVzcy5yZW1vdmUgPSBmdW5jdGlvbigpIHtcbiAgICByZW1vdmVDbGFzcyhkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsICducHJvZ3Jlc3MtYnVzeScpO1xuICAgIHJlbW92ZUNsYXNzKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoU2V0dGluZ3MucGFyZW50KSwgJ25wcm9ncmVzcy1jdXN0b20tcGFyZW50Jyk7XG4gICAgdmFyIHByb2dyZXNzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25wcm9ncmVzcycpO1xuICAgIHByb2dyZXNzICYmIHJlbW92ZUVsZW1lbnQocHJvZ3Jlc3MpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIHByb2dyZXNzIGJhciBpcyByZW5kZXJlZC5cbiAgICovXG5cbiAgTlByb2dyZXNzLmlzUmVuZGVyZWQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gISFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbnByb2dyZXNzJyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIERldGVybWluZSB3aGljaCBwb3NpdGlvbmluZyBDU1MgcnVsZSB0byB1c2UuXG4gICAqL1xuXG4gIE5Qcm9ncmVzcy5nZXRQb3NpdGlvbmluZ0NTUyA9IGZ1bmN0aW9uKCkge1xuICAgIC8vIFNuaWZmIG9uIGRvY3VtZW50LmJvZHkuc3R5bGVcbiAgICB2YXIgYm9keVN0eWxlID0gZG9jdW1lbnQuYm9keS5zdHlsZTtcblxuICAgIC8vIFNuaWZmIHByZWZpeGVzXG4gICAgdmFyIHZlbmRvclByZWZpeCA9ICgnV2Via2l0VHJhbnNmb3JtJyBpbiBib2R5U3R5bGUpID8gJ1dlYmtpdCcgOlxuICAgICAgICAgICAgICAgICAgICAgICAoJ01velRyYW5zZm9ybScgaW4gYm9keVN0eWxlKSA/ICdNb3onIDpcbiAgICAgICAgICAgICAgICAgICAgICAgKCdtc1RyYW5zZm9ybScgaW4gYm9keVN0eWxlKSA/ICdtcycgOlxuICAgICAgICAgICAgICAgICAgICAgICAoJ09UcmFuc2Zvcm0nIGluIGJvZHlTdHlsZSkgPyAnTycgOiAnJztcblxuICAgIGlmICh2ZW5kb3JQcmVmaXggKyAnUGVyc3BlY3RpdmUnIGluIGJvZHlTdHlsZSkge1xuICAgICAgLy8gTW9kZXJuIGJyb3dzZXJzIHdpdGggM0Qgc3VwcG9ydCwgZS5nLiBXZWJraXQsIElFMTBcbiAgICAgIHJldHVybiAndHJhbnNsYXRlM2QnO1xuICAgIH0gZWxzZSBpZiAodmVuZG9yUHJlZml4ICsgJ1RyYW5zZm9ybScgaW4gYm9keVN0eWxlKSB7XG4gICAgICAvLyBCcm93c2VycyB3aXRob3V0IDNEIHN1cHBvcnQsIGUuZy4gSUU5XG4gICAgICByZXR1cm4gJ3RyYW5zbGF0ZSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEJyb3dzZXJzIHdpdGhvdXQgdHJhbnNsYXRlKCkgc3VwcG9ydCwgZS5nLiBJRTctOFxuICAgICAgcmV0dXJuICdtYXJnaW4nO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogSGVscGVyc1xuICAgKi9cblxuICBmdW5jdGlvbiBjbGFtcChuLCBtaW4sIG1heCkge1xuICAgIGlmIChuIDwgbWluKSByZXR1cm4gbWluO1xuICAgIGlmIChuID4gbWF4KSByZXR1cm4gbWF4O1xuICAgIHJldHVybiBuO1xuICB9XG5cbiAgLyoqXG4gICAqIChJbnRlcm5hbCkgY29udmVydHMgYSBwZXJjZW50YWdlIChgMC4uMWApIHRvIGEgYmFyIHRyYW5zbGF0ZVhcbiAgICogcGVyY2VudGFnZSAoYC0xMDAlLi4wJWApLlxuICAgKi9cblxuICBmdW5jdGlvbiB0b0JhclBlcmMobikge1xuICAgIHJldHVybiAoLTEgKyBuKSAqIDEwMDtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIChJbnRlcm5hbCkgcmV0dXJucyB0aGUgY29ycmVjdCBDU1MgZm9yIGNoYW5naW5nIHRoZSBiYXInc1xuICAgKiBwb3NpdGlvbiBnaXZlbiBhbiBuIHBlcmNlbnRhZ2UsIGFuZCBzcGVlZCBhbmQgZWFzZSBmcm9tIFNldHRpbmdzXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGJhclBvc2l0aW9uQ1NTKG4sIHNwZWVkLCBlYXNlKSB7XG4gICAgdmFyIGJhckNTUztcblxuICAgIGlmIChTZXR0aW5ncy5wb3NpdGlvblVzaW5nID09PSAndHJhbnNsYXRlM2QnKSB7XG4gICAgICBiYXJDU1MgPSB7IHRyYW5zZm9ybTogJ3RyYW5zbGF0ZTNkKCcrdG9CYXJQZXJjKG4pKyclLDAsMCknIH07XG4gICAgfSBlbHNlIGlmIChTZXR0aW5ncy5wb3NpdGlvblVzaW5nID09PSAndHJhbnNsYXRlJykge1xuICAgICAgYmFyQ1NTID0geyB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoJyt0b0JhclBlcmMobikrJyUsMCknIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGJhckNTUyA9IHsgJ21hcmdpbi1sZWZ0JzogdG9CYXJQZXJjKG4pKyclJyB9O1xuICAgIH1cblxuICAgIGJhckNTUy50cmFuc2l0aW9uID0gJ2FsbCAnK3NwZWVkKydtcyAnK2Vhc2U7XG5cbiAgICByZXR1cm4gYmFyQ1NTO1xuICB9XG5cbiAgLyoqXG4gICAqIChJbnRlcm5hbCkgUXVldWVzIGEgZnVuY3Rpb24gdG8gYmUgZXhlY3V0ZWQuXG4gICAqL1xuXG4gIHZhciBxdWV1ZSA9IChmdW5jdGlvbigpIHtcbiAgICB2YXIgcGVuZGluZyA9IFtdO1xuICAgIFxuICAgIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICB2YXIgZm4gPSBwZW5kaW5nLnNoaWZ0KCk7XG4gICAgICBpZiAoZm4pIHtcbiAgICAgICAgZm4obmV4dCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uKGZuKSB7XG4gICAgICBwZW5kaW5nLnB1c2goZm4pO1xuICAgICAgaWYgKHBlbmRpbmcubGVuZ3RoID09IDEpIG5leHQoKTtcbiAgICB9O1xuICB9KSgpO1xuXG4gIC8qKlxuICAgKiAoSW50ZXJuYWwpIEFwcGxpZXMgY3NzIHByb3BlcnRpZXMgdG8gYW4gZWxlbWVudCwgc2ltaWxhciB0byB0aGUgalF1ZXJ5IFxuICAgKiBjc3MgbWV0aG9kLlxuICAgKlxuICAgKiBXaGlsZSB0aGlzIGhlbHBlciBkb2VzIGFzc2lzdCB3aXRoIHZlbmRvciBwcmVmaXhlZCBwcm9wZXJ0eSBuYW1lcywgaXQgXG4gICAqIGRvZXMgbm90IHBlcmZvcm0gYW55IG1hbmlwdWxhdGlvbiBvZiB2YWx1ZXMgcHJpb3IgdG8gc2V0dGluZyBzdHlsZXMuXG4gICAqL1xuXG4gIHZhciBjc3MgPSAoZnVuY3Rpb24oKSB7XG4gICAgdmFyIGNzc1ByZWZpeGVzID0gWyAnV2Via2l0JywgJ08nLCAnTW96JywgJ21zJyBdLFxuICAgICAgICBjc3NQcm9wcyAgICA9IHt9O1xuXG4gICAgZnVuY3Rpb24gY2FtZWxDYXNlKHN0cmluZykge1xuICAgICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKC9eLW1zLS8sICdtcy0nKS5yZXBsYWNlKC8tKFtcXGRhLXpdKS9naSwgZnVuY3Rpb24obWF0Y2gsIGxldHRlcikge1xuICAgICAgICByZXR1cm4gbGV0dGVyLnRvVXBwZXJDYXNlKCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRWZW5kb3JQcm9wKG5hbWUpIHtcbiAgICAgIHZhciBzdHlsZSA9IGRvY3VtZW50LmJvZHkuc3R5bGU7XG4gICAgICBpZiAobmFtZSBpbiBzdHlsZSkgcmV0dXJuIG5hbWU7XG5cbiAgICAgIHZhciBpID0gY3NzUHJlZml4ZXMubGVuZ3RoLFxuICAgICAgICAgIGNhcE5hbWUgPSBuYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgbmFtZS5zbGljZSgxKSxcbiAgICAgICAgICB2ZW5kb3JOYW1lO1xuICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICB2ZW5kb3JOYW1lID0gY3NzUHJlZml4ZXNbaV0gKyBjYXBOYW1lO1xuICAgICAgICBpZiAodmVuZG9yTmFtZSBpbiBzdHlsZSkgcmV0dXJuIHZlbmRvck5hbWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuYW1lO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFN0eWxlUHJvcChuYW1lKSB7XG4gICAgICBuYW1lID0gY2FtZWxDYXNlKG5hbWUpO1xuICAgICAgcmV0dXJuIGNzc1Byb3BzW25hbWVdIHx8IChjc3NQcm9wc1tuYW1lXSA9IGdldFZlbmRvclByb3AobmFtZSkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFwcGx5Q3NzKGVsZW1lbnQsIHByb3AsIHZhbHVlKSB7XG4gICAgICBwcm9wID0gZ2V0U3R5bGVQcm9wKHByb3ApO1xuICAgICAgZWxlbWVudC5zdHlsZVtwcm9wXSA9IHZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbihlbGVtZW50LCBwcm9wZXJ0aWVzKSB7XG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICBwcm9wLCBcbiAgICAgICAgICB2YWx1ZTtcblxuICAgICAgaWYgKGFyZ3MubGVuZ3RoID09IDIpIHtcbiAgICAgICAgZm9yIChwcm9wIGluIHByb3BlcnRpZXMpIHtcbiAgICAgICAgICB2YWx1ZSA9IHByb3BlcnRpZXNbcHJvcF07XG4gICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQgJiYgcHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgYXBwbHlDc3MoZWxlbWVudCwgcHJvcCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhcHBseUNzcyhlbGVtZW50LCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pKCk7XG5cbiAgLyoqXG4gICAqIChJbnRlcm5hbCkgRGV0ZXJtaW5lcyBpZiBhbiBlbGVtZW50IG9yIHNwYWNlIHNlcGFyYXRlZCBsaXN0IG9mIGNsYXNzIG5hbWVzIGNvbnRhaW5zIGEgY2xhc3MgbmFtZS5cbiAgICovXG5cbiAgZnVuY3Rpb24gaGFzQ2xhc3MoZWxlbWVudCwgbmFtZSkge1xuICAgIHZhciBsaXN0ID0gdHlwZW9mIGVsZW1lbnQgPT0gJ3N0cmluZycgPyBlbGVtZW50IDogY2xhc3NMaXN0KGVsZW1lbnQpO1xuICAgIHJldHVybiBsaXN0LmluZGV4T2YoJyAnICsgbmFtZSArICcgJykgPj0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiAoSW50ZXJuYWwpIEFkZHMgYSBjbGFzcyB0byBhbiBlbGVtZW50LlxuICAgKi9cblxuICBmdW5jdGlvbiBhZGRDbGFzcyhlbGVtZW50LCBuYW1lKSB7XG4gICAgdmFyIG9sZExpc3QgPSBjbGFzc0xpc3QoZWxlbWVudCksXG4gICAgICAgIG5ld0xpc3QgPSBvbGRMaXN0ICsgbmFtZTtcblxuICAgIGlmIChoYXNDbGFzcyhvbGRMaXN0LCBuYW1lKSkgcmV0dXJuOyBcblxuICAgIC8vIFRyaW0gdGhlIG9wZW5pbmcgc3BhY2UuXG4gICAgZWxlbWVudC5jbGFzc05hbWUgPSBuZXdMaXN0LnN1YnN0cmluZygxKTtcbiAgfVxuXG4gIC8qKlxuICAgKiAoSW50ZXJuYWwpIFJlbW92ZXMgYSBjbGFzcyBmcm9tIGFuIGVsZW1lbnQuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIHJlbW92ZUNsYXNzKGVsZW1lbnQsIG5hbWUpIHtcbiAgICB2YXIgb2xkTGlzdCA9IGNsYXNzTGlzdChlbGVtZW50KSxcbiAgICAgICAgbmV3TGlzdDtcblxuICAgIGlmICghaGFzQ2xhc3MoZWxlbWVudCwgbmFtZSkpIHJldHVybjtcblxuICAgIC8vIFJlcGxhY2UgdGhlIGNsYXNzIG5hbWUuXG4gICAgbmV3TGlzdCA9IG9sZExpc3QucmVwbGFjZSgnICcgKyBuYW1lICsgJyAnLCAnICcpO1xuXG4gICAgLy8gVHJpbSB0aGUgb3BlbmluZyBhbmQgY2xvc2luZyBzcGFjZXMuXG4gICAgZWxlbWVudC5jbGFzc05hbWUgPSBuZXdMaXN0LnN1YnN0cmluZygxLCBuZXdMaXN0Lmxlbmd0aCAtIDEpO1xuICB9XG5cbiAgLyoqXG4gICAqIChJbnRlcm5hbCkgR2V0cyBhIHNwYWNlIHNlcGFyYXRlZCBsaXN0IG9mIHRoZSBjbGFzcyBuYW1lcyBvbiB0aGUgZWxlbWVudC4gXG4gICAqIFRoZSBsaXN0IGlzIHdyYXBwZWQgd2l0aCBhIHNpbmdsZSBzcGFjZSBvbiBlYWNoIGVuZCB0byBmYWNpbGl0YXRlIGZpbmRpbmcgXG4gICAqIG1hdGNoZXMgd2l0aGluIHRoZSBsaXN0LlxuICAgKi9cblxuICBmdW5jdGlvbiBjbGFzc0xpc3QoZWxlbWVudCkge1xuICAgIHJldHVybiAoJyAnICsgKGVsZW1lbnQuY2xhc3NOYW1lIHx8ICcnKSArICcgJykucmVwbGFjZSgvXFxzKy9naSwgJyAnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiAoSW50ZXJuYWwpIFJlbW92ZXMgYW4gZWxlbWVudCBmcm9tIHRoZSBET00uXG4gICAqL1xuXG4gIGZ1bmN0aW9uIHJlbW92ZUVsZW1lbnQoZWxlbWVudCkge1xuICAgIGVsZW1lbnQgJiYgZWxlbWVudC5wYXJlbnROb2RlICYmIGVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGVtZW50KTtcbiAgfVxuXG4gIHJldHVybiBOUHJvZ3Jlc3M7XG59KTtcblxuIiwgIlwidXNlIHN0cmljdFwiO1xuXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBQb2x5ZmlsbEV2ZW50ID0gZXZlbnRDb25zdHJ1Y3RvcigpO1xuXG4gIGZ1bmN0aW9uIGV2ZW50Q29uc3RydWN0b3IoKSB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cuQ3VzdG9tRXZlbnQgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHdpbmRvdy5DdXN0b21FdmVudDtcbiAgICAvLyBJRTw9OSBTdXBwb3J0XG4gICAgZnVuY3Rpb24gQ3VzdG9tRXZlbnQoZXZlbnQsIHBhcmFtcykge1xuICAgICAgcGFyYW1zID0gcGFyYW1zIHx8IHtidWJibGVzOiBmYWxzZSwgY2FuY2VsYWJsZTogZmFsc2UsIGRldGFpbDogdW5kZWZpbmVkfTtcbiAgICAgIHZhciBldnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnQ3VzdG9tRXZlbnQnKTtcbiAgICAgIGV2dC5pbml0Q3VzdG9tRXZlbnQoZXZlbnQsIHBhcmFtcy5idWJibGVzLCBwYXJhbXMuY2FuY2VsYWJsZSwgcGFyYW1zLmRldGFpbCk7XG4gICAgICByZXR1cm4gZXZ0O1xuICAgIH1cbiAgICBDdXN0b21FdmVudC5wcm90b3R5cGUgPSB3aW5kb3cuRXZlbnQucHJvdG90eXBlO1xuICAgIHJldHVybiBDdXN0b21FdmVudDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGJ1aWxkSGlkZGVuSW5wdXQobmFtZSwgdmFsdWUpIHtcbiAgICB2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgaW5wdXQudHlwZSA9IFwiaGlkZGVuXCI7XG4gICAgaW5wdXQubmFtZSA9IG5hbWU7XG4gICAgaW5wdXQudmFsdWUgPSB2YWx1ZTtcbiAgICByZXR1cm4gaW5wdXQ7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVDbGljayhlbGVtZW50LCB0YXJnZXRNb2RpZmllcktleSkge1xuICAgIHZhciB0byA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS10b1wiKSxcbiAgICAgICAgbWV0aG9kID0gYnVpbGRIaWRkZW5JbnB1dChcIl9tZXRob2RcIiwgZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLW1ldGhvZFwiKSksXG4gICAgICAgIGNzcmYgPSBidWlsZEhpZGRlbklucHV0KFwiX2NzcmZfdG9rZW5cIiwgZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWNzcmZcIikpLFxuICAgICAgICBmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZvcm1cIiksXG4gICAgICAgIHRhcmdldCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwidGFyZ2V0XCIpO1xuXG4gICAgZm9ybS5tZXRob2QgPSAoZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLW1ldGhvZFwiKSA9PT0gXCJnZXRcIikgPyBcImdldFwiIDogXCJwb3N0XCI7XG4gICAgZm9ybS5hY3Rpb24gPSB0bztcbiAgICBmb3JtLnN0eWxlLmRpc3BsYXkgPSBcImhpZGRlblwiO1xuXG4gICAgaWYgKHRhcmdldCkgZm9ybS50YXJnZXQgPSB0YXJnZXQ7XG4gICAgZWxzZSBpZiAodGFyZ2V0TW9kaWZpZXJLZXkpIGZvcm0udGFyZ2V0ID0gXCJfYmxhbmtcIjtcblxuICAgIGZvcm0uYXBwZW5kQ2hpbGQoY3NyZik7XG4gICAgZm9ybS5hcHBlbmRDaGlsZChtZXRob2QpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZm9ybSk7XG4gICAgZm9ybS5zdWJtaXQoKTtcbiAgfVxuXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oZSkge1xuICAgIHZhciBlbGVtZW50ID0gZS50YXJnZXQ7XG4gICAgaWYgKGUuZGVmYXVsdFByZXZlbnRlZCkgcmV0dXJuO1xuXG4gICAgd2hpbGUgKGVsZW1lbnQgJiYgZWxlbWVudC5nZXRBdHRyaWJ1dGUpIHtcbiAgICAgIHZhciBwaG9lbml4TGlua0V2ZW50ID0gbmV3IFBvbHlmaWxsRXZlbnQoJ3Bob2VuaXgubGluay5jbGljaycsIHtcbiAgICAgICAgXCJidWJibGVzXCI6IHRydWUsIFwiY2FuY2VsYWJsZVwiOiB0cnVlXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFlbGVtZW50LmRpc3BhdGNoRXZlbnQocGhvZW5peExpbmtFdmVudCkpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmIChlbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtbWV0aG9kXCIpKSB7XG4gICAgICAgIGhhbmRsZUNsaWNrKGVsZW1lbnQsIGUubWV0YUtleSB8fCBlLnNoaWZ0S2V5KTtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICAgICAgfVxuICAgIH1cbiAgfSwgZmFsc2UpO1xuXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwaG9lbml4LmxpbmsuY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgIHZhciBtZXNzYWdlID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1jb25maXJtXCIpO1xuICAgIGlmKG1lc3NhZ2UgJiYgIXdpbmRvdy5jb25maXJtKG1lc3NhZ2UpKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9LCBmYWxzZSk7XG59KSgpO1xuIiwgIi8vIHdyYXBzIHZhbHVlIGluIGNsb3N1cmUgb3IgcmV0dXJucyBjbG9zdXJlXG5leHBvcnQgbGV0IGNsb3N1cmUgPSAodmFsdWUpID0+IHtcbiAgaWYodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIpe1xuICAgIHJldHVybiB2YWx1ZVxuICB9IGVsc2Uge1xuICAgIGxldCBjbG9zdXJlID0gZnVuY3Rpb24gKCl7IHJldHVybiB2YWx1ZSB9XG4gICAgcmV0dXJuIGNsb3N1cmVcbiAgfVxufVxuIiwgImV4cG9ydCBjb25zdCBnbG9iYWxTZWxmID0gdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogbnVsbFxuZXhwb3J0IGNvbnN0IHBoeFdpbmRvdyA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiBudWxsXG5leHBvcnQgY29uc3QgZ2xvYmFsID0gZ2xvYmFsU2VsZiB8fCBwaHhXaW5kb3cgfHwgZ2xvYmFsXG5leHBvcnQgY29uc3QgREVGQVVMVF9WU04gPSBcIjIuMC4wXCJcbmV4cG9ydCBjb25zdCBTT0NLRVRfU1RBVEVTID0ge2Nvbm5lY3Rpbmc6IDAsIG9wZW46IDEsIGNsb3Npbmc6IDIsIGNsb3NlZDogM31cbmV4cG9ydCBjb25zdCBERUZBVUxUX1RJTUVPVVQgPSAxMDAwMFxuZXhwb3J0IGNvbnN0IFdTX0NMT1NFX05PUk1BTCA9IDEwMDBcbmV4cG9ydCBjb25zdCBDSEFOTkVMX1NUQVRFUyA9IHtcbiAgY2xvc2VkOiBcImNsb3NlZFwiLFxuICBlcnJvcmVkOiBcImVycm9yZWRcIixcbiAgam9pbmVkOiBcImpvaW5lZFwiLFxuICBqb2luaW5nOiBcImpvaW5pbmdcIixcbiAgbGVhdmluZzogXCJsZWF2aW5nXCIsXG59XG5leHBvcnQgY29uc3QgQ0hBTk5FTF9FVkVOVFMgPSB7XG4gIGNsb3NlOiBcInBoeF9jbG9zZVwiLFxuICBlcnJvcjogXCJwaHhfZXJyb3JcIixcbiAgam9pbjogXCJwaHhfam9pblwiLFxuICByZXBseTogXCJwaHhfcmVwbHlcIixcbiAgbGVhdmU6IFwicGh4X2xlYXZlXCJcbn1cblxuZXhwb3J0IGNvbnN0IFRSQU5TUE9SVFMgPSB7XG4gIGxvbmdwb2xsOiBcImxvbmdwb2xsXCIsXG4gIHdlYnNvY2tldDogXCJ3ZWJzb2NrZXRcIlxufVxuZXhwb3J0IGNvbnN0IFhIUl9TVEFURVMgPSB7XG4gIGNvbXBsZXRlOiA0XG59XG4iLCAiLyoqXG4gKiBJbml0aWFsaXplcyB0aGUgUHVzaFxuICogQHBhcmFtIHtDaGFubmVsfSBjaGFubmVsIC0gVGhlIENoYW5uZWxcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudCAtIFRoZSBldmVudCwgZm9yIGV4YW1wbGUgYFwicGh4X2pvaW5cImBcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYXlsb2FkIC0gVGhlIHBheWxvYWQsIGZvciBleGFtcGxlIGB7dXNlcl9pZDogMTIzfWBcbiAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lb3V0IC0gVGhlIHB1c2ggdGltZW91dCBpbiBtaWxsaXNlY29uZHNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHVzaCB7XG4gIGNvbnN0cnVjdG9yKGNoYW5uZWwsIGV2ZW50LCBwYXlsb2FkLCB0aW1lb3V0KXtcbiAgICB0aGlzLmNoYW5uZWwgPSBjaGFubmVsXG4gICAgdGhpcy5ldmVudCA9IGV2ZW50XG4gICAgdGhpcy5wYXlsb2FkID0gcGF5bG9hZCB8fCBmdW5jdGlvbiAoKXsgcmV0dXJuIHt9IH1cbiAgICB0aGlzLnJlY2VpdmVkUmVzcCA9IG51bGxcbiAgICB0aGlzLnRpbWVvdXQgPSB0aW1lb3V0XG4gICAgdGhpcy50aW1lb3V0VGltZXIgPSBudWxsXG4gICAgdGhpcy5yZWNIb29rcyA9IFtdXG4gICAgdGhpcy5zZW50ID0gZmFsc2VcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gdGltZW91dFxuICAgKi9cbiAgcmVzZW5kKHRpbWVvdXQpe1xuICAgIHRoaXMudGltZW91dCA9IHRpbWVvdXRcbiAgICB0aGlzLnJlc2V0KClcbiAgICB0aGlzLnNlbmQoKVxuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqL1xuICBzZW5kKCl7XG4gICAgaWYodGhpcy5oYXNSZWNlaXZlZChcInRpbWVvdXRcIikpeyByZXR1cm4gfVxuICAgIHRoaXMuc3RhcnRUaW1lb3V0KClcbiAgICB0aGlzLnNlbnQgPSB0cnVlXG4gICAgdGhpcy5jaGFubmVsLnNvY2tldC5wdXNoKHtcbiAgICAgIHRvcGljOiB0aGlzLmNoYW5uZWwudG9waWMsXG4gICAgICBldmVudDogdGhpcy5ldmVudCxcbiAgICAgIHBheWxvYWQ6IHRoaXMucGF5bG9hZCgpLFxuICAgICAgcmVmOiB0aGlzLnJlZixcbiAgICAgIGpvaW5fcmVmOiB0aGlzLmNoYW5uZWwuam9pblJlZigpXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0geyp9IHN0YXR1c1xuICAgKiBAcGFyYW0geyp9IGNhbGxiYWNrXG4gICAqL1xuICByZWNlaXZlKHN0YXR1cywgY2FsbGJhY2spe1xuICAgIGlmKHRoaXMuaGFzUmVjZWl2ZWQoc3RhdHVzKSl7XG4gICAgICBjYWxsYmFjayh0aGlzLnJlY2VpdmVkUmVzcC5yZXNwb25zZSlcbiAgICB9XG5cbiAgICB0aGlzLnJlY0hvb2tzLnB1c2goe3N0YXR1cywgY2FsbGJhY2t9KVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHJlc2V0KCl7XG4gICAgdGhpcy5jYW5jZWxSZWZFdmVudCgpXG4gICAgdGhpcy5yZWYgPSBudWxsXG4gICAgdGhpcy5yZWZFdmVudCA9IG51bGxcbiAgICB0aGlzLnJlY2VpdmVkUmVzcCA9IG51bGxcbiAgICB0aGlzLnNlbnQgPSBmYWxzZVxuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBtYXRjaFJlY2VpdmUoe3N0YXR1cywgcmVzcG9uc2UsIF9yZWZ9KXtcbiAgICB0aGlzLnJlY0hvb2tzLmZpbHRlcihoID0+IGguc3RhdHVzID09PSBzdGF0dXMpXG4gICAgICAuZm9yRWFjaChoID0+IGguY2FsbGJhY2socmVzcG9uc2UpKVxuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBjYW5jZWxSZWZFdmVudCgpe1xuICAgIGlmKCF0aGlzLnJlZkV2ZW50KXsgcmV0dXJuIH1cbiAgICB0aGlzLmNoYW5uZWwub2ZmKHRoaXMucmVmRXZlbnQpXG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNhbmNlbFRpbWVvdXQoKXtcbiAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0VGltZXIpXG4gICAgdGhpcy50aW1lb3V0VGltZXIgPSBudWxsXG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHN0YXJ0VGltZW91dCgpe1xuICAgIGlmKHRoaXMudGltZW91dFRpbWVyKXsgdGhpcy5jYW5jZWxUaW1lb3V0KCkgfVxuICAgIHRoaXMucmVmID0gdGhpcy5jaGFubmVsLnNvY2tldC5tYWtlUmVmKClcbiAgICB0aGlzLnJlZkV2ZW50ID0gdGhpcy5jaGFubmVsLnJlcGx5RXZlbnROYW1lKHRoaXMucmVmKVxuXG4gICAgdGhpcy5jaGFubmVsLm9uKHRoaXMucmVmRXZlbnQsIHBheWxvYWQgPT4ge1xuICAgICAgdGhpcy5jYW5jZWxSZWZFdmVudCgpXG4gICAgICB0aGlzLmNhbmNlbFRpbWVvdXQoKVxuICAgICAgdGhpcy5yZWNlaXZlZFJlc3AgPSBwYXlsb2FkXG4gICAgICB0aGlzLm1hdGNoUmVjZWl2ZShwYXlsb2FkKVxuICAgIH0pXG5cbiAgICB0aGlzLnRpbWVvdXRUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy50cmlnZ2VyKFwidGltZW91dFwiLCB7fSlcbiAgICB9LCB0aGlzLnRpbWVvdXQpXG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGhhc1JlY2VpdmVkKHN0YXR1cyl7XG4gICAgcmV0dXJuIHRoaXMucmVjZWl2ZWRSZXNwICYmIHRoaXMucmVjZWl2ZWRSZXNwLnN0YXR1cyA9PT0gc3RhdHVzXG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRyaWdnZXIoc3RhdHVzLCByZXNwb25zZSl7XG4gICAgdGhpcy5jaGFubmVsLnRyaWdnZXIodGhpcy5yZWZFdmVudCwge3N0YXR1cywgcmVzcG9uc2V9KVxuICB9XG59XG4iLCAiLyoqXG4gKlxuICogQ3JlYXRlcyBhIHRpbWVyIHRoYXQgYWNjZXB0cyBhIGB0aW1lckNhbGNgIGZ1bmN0aW9uIHRvIHBlcmZvcm1cbiAqIGNhbGN1bGF0ZWQgdGltZW91dCByZXRyaWVzLCBzdWNoIGFzIGV4cG9uZW50aWFsIGJhY2tvZmYuXG4gKlxuICogQGV4YW1wbGVcbiAqIGxldCByZWNvbm5lY3RUaW1lciA9IG5ldyBUaW1lcigoKSA9PiB0aGlzLmNvbm5lY3QoKSwgZnVuY3Rpb24odHJpZXMpe1xuICogICByZXR1cm4gWzEwMDAsIDUwMDAsIDEwMDAwXVt0cmllcyAtIDFdIHx8IDEwMDAwXG4gKiB9KVxuICogcmVjb25uZWN0VGltZXIuc2NoZWR1bGVUaW1lb3V0KCkgLy8gZmlyZXMgYWZ0ZXIgMTAwMFxuICogcmVjb25uZWN0VGltZXIuc2NoZWR1bGVUaW1lb3V0KCkgLy8gZmlyZXMgYWZ0ZXIgNTAwMFxuICogcmVjb25uZWN0VGltZXIucmVzZXQoKVxuICogcmVjb25uZWN0VGltZXIuc2NoZWR1bGVUaW1lb3V0KCkgLy8gZmlyZXMgYWZ0ZXIgMTAwMFxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB0aW1lckNhbGNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGltZXIge1xuICBjb25zdHJ1Y3RvcihjYWxsYmFjaywgdGltZXJDYWxjKXtcbiAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2tcbiAgICB0aGlzLnRpbWVyQ2FsYyA9IHRpbWVyQ2FsY1xuICAgIHRoaXMudGltZXIgPSBudWxsXG4gICAgdGhpcy50cmllcyA9IDBcbiAgfVxuXG4gIHJlc2V0KCl7XG4gICAgdGhpcy50cmllcyA9IDBcbiAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lcilcbiAgfVxuXG4gIC8qKlxuICAgKiBDYW5jZWxzIGFueSBwcmV2aW91cyBzY2hlZHVsZVRpbWVvdXQgYW5kIHNjaGVkdWxlcyBjYWxsYmFja1xuICAgKi9cbiAgc2NoZWR1bGVUaW1lb3V0KCl7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpXG5cbiAgICB0aGlzLnRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLnRyaWVzID0gdGhpcy50cmllcyArIDFcbiAgICAgIHRoaXMuY2FsbGJhY2soKVxuICAgIH0sIHRoaXMudGltZXJDYWxjKHRoaXMudHJpZXMgKyAxKSlcbiAgfVxufVxuIiwgImltcG9ydCB7Y2xvc3VyZX0gZnJvbSBcIi4vdXRpbHNcIlxuaW1wb3J0IHtcbiAgQ0hBTk5FTF9FVkVOVFMsXG4gIENIQU5ORUxfU1RBVEVTLFxufSBmcm9tIFwiLi9jb25zdGFudHNcIlxuXG5pbXBvcnQgUHVzaCBmcm9tIFwiLi9wdXNoXCJcbmltcG9ydCBUaW1lciBmcm9tIFwiLi90aW1lclwiXG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0b3BpY1xuICogQHBhcmFtIHsoT2JqZWN0fGZ1bmN0aW9uKX0gcGFyYW1zXG4gKiBAcGFyYW0ge1NvY2tldH0gc29ja2V0XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENoYW5uZWwge1xuICBjb25zdHJ1Y3Rvcih0b3BpYywgcGFyYW1zLCBzb2NrZXQpe1xuICAgIHRoaXMuc3RhdGUgPSBDSEFOTkVMX1NUQVRFUy5jbG9zZWRcbiAgICB0aGlzLnRvcGljID0gdG9waWNcbiAgICB0aGlzLnBhcmFtcyA9IGNsb3N1cmUocGFyYW1zIHx8IHt9KVxuICAgIHRoaXMuc29ja2V0ID0gc29ja2V0XG4gICAgdGhpcy5iaW5kaW5ncyA9IFtdXG4gICAgdGhpcy5iaW5kaW5nUmVmID0gMFxuICAgIHRoaXMudGltZW91dCA9IHRoaXMuc29ja2V0LnRpbWVvdXRcbiAgICB0aGlzLmpvaW5lZE9uY2UgPSBmYWxzZVxuICAgIHRoaXMuam9pblB1c2ggPSBuZXcgUHVzaCh0aGlzLCBDSEFOTkVMX0VWRU5UUy5qb2luLCB0aGlzLnBhcmFtcywgdGhpcy50aW1lb3V0KVxuICAgIHRoaXMucHVzaEJ1ZmZlciA9IFtdXG4gICAgdGhpcy5zdGF0ZUNoYW5nZVJlZnMgPSBbXVxuXG4gICAgdGhpcy5yZWpvaW5UaW1lciA9IG5ldyBUaW1lcigoKSA9PiB7XG4gICAgICBpZih0aGlzLnNvY2tldC5pc0Nvbm5lY3RlZCgpKXsgdGhpcy5yZWpvaW4oKSB9XG4gICAgfSwgdGhpcy5zb2NrZXQucmVqb2luQWZ0ZXJNcylcbiAgICB0aGlzLnN0YXRlQ2hhbmdlUmVmcy5wdXNoKHRoaXMuc29ja2V0Lm9uRXJyb3IoKCkgPT4gdGhpcy5yZWpvaW5UaW1lci5yZXNldCgpKSlcbiAgICB0aGlzLnN0YXRlQ2hhbmdlUmVmcy5wdXNoKHRoaXMuc29ja2V0Lm9uT3BlbigoKSA9PiB7XG4gICAgICB0aGlzLnJlam9pblRpbWVyLnJlc2V0KClcbiAgICAgIGlmKHRoaXMuaXNFcnJvcmVkKCkpeyB0aGlzLnJlam9pbigpIH1cbiAgICB9KVxuICAgIClcbiAgICB0aGlzLmpvaW5QdXNoLnJlY2VpdmUoXCJva1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLnN0YXRlID0gQ0hBTk5FTF9TVEFURVMuam9pbmVkXG4gICAgICB0aGlzLnJlam9pblRpbWVyLnJlc2V0KClcbiAgICAgIHRoaXMucHVzaEJ1ZmZlci5mb3JFYWNoKHB1c2hFdmVudCA9PiBwdXNoRXZlbnQuc2VuZCgpKVxuICAgICAgdGhpcy5wdXNoQnVmZmVyID0gW11cbiAgICB9KVxuICAgIHRoaXMuam9pblB1c2gucmVjZWl2ZShcImVycm9yXCIsICgpID0+IHtcbiAgICAgIHRoaXMuc3RhdGUgPSBDSEFOTkVMX1NUQVRFUy5lcnJvcmVkXG4gICAgICBpZih0aGlzLnNvY2tldC5pc0Nvbm5lY3RlZCgpKXsgdGhpcy5yZWpvaW5UaW1lci5zY2hlZHVsZVRpbWVvdXQoKSB9XG4gICAgfSlcbiAgICB0aGlzLm9uQ2xvc2UoKCkgPT4ge1xuICAgICAgdGhpcy5yZWpvaW5UaW1lci5yZXNldCgpXG4gICAgICBpZih0aGlzLnNvY2tldC5oYXNMb2dnZXIoKSkgdGhpcy5zb2NrZXQubG9nKFwiY2hhbm5lbFwiLCBgY2xvc2UgJHt0aGlzLnRvcGljfSAke3RoaXMuam9pblJlZigpfWApXG4gICAgICB0aGlzLnN0YXRlID0gQ0hBTk5FTF9TVEFURVMuY2xvc2VkXG4gICAgICB0aGlzLnNvY2tldC5yZW1vdmUodGhpcylcbiAgICB9KVxuICAgIHRoaXMub25FcnJvcihyZWFzb24gPT4ge1xuICAgICAgaWYodGhpcy5zb2NrZXQuaGFzTG9nZ2VyKCkpIHRoaXMuc29ja2V0LmxvZyhcImNoYW5uZWxcIiwgYGVycm9yICR7dGhpcy50b3BpY31gLCByZWFzb24pXG4gICAgICBpZih0aGlzLmlzSm9pbmluZygpKXsgdGhpcy5qb2luUHVzaC5yZXNldCgpIH1cbiAgICAgIHRoaXMuc3RhdGUgPSBDSEFOTkVMX1NUQVRFUy5lcnJvcmVkXG4gICAgICBpZih0aGlzLnNvY2tldC5pc0Nvbm5lY3RlZCgpKXsgdGhpcy5yZWpvaW5UaW1lci5zY2hlZHVsZVRpbWVvdXQoKSB9XG4gICAgfSlcbiAgICB0aGlzLmpvaW5QdXNoLnJlY2VpdmUoXCJ0aW1lb3V0XCIsICgpID0+IHtcbiAgICAgIGlmKHRoaXMuc29ja2V0Lmhhc0xvZ2dlcigpKSB0aGlzLnNvY2tldC5sb2coXCJjaGFubmVsXCIsIGB0aW1lb3V0ICR7dGhpcy50b3BpY30gKCR7dGhpcy5qb2luUmVmKCl9KWAsIHRoaXMuam9pblB1c2gudGltZW91dClcbiAgICAgIGxldCBsZWF2ZVB1c2ggPSBuZXcgUHVzaCh0aGlzLCBDSEFOTkVMX0VWRU5UUy5sZWF2ZSwgY2xvc3VyZSh7fSksIHRoaXMudGltZW91dClcbiAgICAgIGxlYXZlUHVzaC5zZW5kKClcbiAgICAgIHRoaXMuc3RhdGUgPSBDSEFOTkVMX1NUQVRFUy5lcnJvcmVkXG4gICAgICB0aGlzLmpvaW5QdXNoLnJlc2V0KClcbiAgICAgIGlmKHRoaXMuc29ja2V0LmlzQ29ubmVjdGVkKCkpeyB0aGlzLnJlam9pblRpbWVyLnNjaGVkdWxlVGltZW91dCgpIH1cbiAgICB9KVxuICAgIHRoaXMub24oQ0hBTk5FTF9FVkVOVFMucmVwbHksIChwYXlsb2FkLCByZWYpID0+IHtcbiAgICAgIHRoaXMudHJpZ2dlcih0aGlzLnJlcGx5RXZlbnROYW1lKHJlZiksIHBheWxvYWQpXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBKb2luIHRoZSBjaGFubmVsXG4gICAqIEBwYXJhbSB7aW50ZWdlcn0gdGltZW91dFxuICAgKiBAcmV0dXJucyB7UHVzaH1cbiAgICovXG4gIGpvaW4odGltZW91dCA9IHRoaXMudGltZW91dCl7XG4gICAgaWYodGhpcy5qb2luZWRPbmNlKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInRyaWVkIHRvIGpvaW4gbXVsdGlwbGUgdGltZXMuICdqb2luJyBjYW4gb25seSBiZSBjYWxsZWQgYSBzaW5nbGUgdGltZSBwZXIgY2hhbm5lbCBpbnN0YW5jZVwiKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnRpbWVvdXQgPSB0aW1lb3V0XG4gICAgICB0aGlzLmpvaW5lZE9uY2UgPSB0cnVlXG4gICAgICB0aGlzLnJlam9pbigpXG4gICAgICByZXR1cm4gdGhpcy5qb2luUHVzaFxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIb29rIGludG8gY2hhbm5lbCBjbG9zZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgKi9cbiAgb25DbG9zZShjYWxsYmFjayl7XG4gICAgdGhpcy5vbihDSEFOTkVMX0VWRU5UUy5jbG9zZSwgY2FsbGJhY2spXG4gIH1cblxuICAvKipcbiAgICogSG9vayBpbnRvIGNoYW5uZWwgZXJyb3JzXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAqL1xuICBvbkVycm9yKGNhbGxiYWNrKXtcbiAgICByZXR1cm4gdGhpcy5vbihDSEFOTkVMX0VWRU5UUy5lcnJvciwgcmVhc29uID0+IGNhbGxiYWNrKHJlYXNvbikpXG4gIH1cblxuICAvKipcbiAgICogU3Vic2NyaWJlcyBvbiBjaGFubmVsIGV2ZW50c1xuICAgKlxuICAgKiBTdWJzY3JpcHRpb24gcmV0dXJucyBhIHJlZiBjb3VudGVyLCB3aGljaCBjYW4gYmUgdXNlZCBsYXRlciB0b1xuICAgKiB1bnN1YnNjcmliZSB0aGUgZXhhY3QgZXZlbnQgbGlzdGVuZXJcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogY29uc3QgcmVmMSA9IGNoYW5uZWwub24oXCJldmVudFwiLCBkb19zdHVmZilcbiAgICogY29uc3QgcmVmMiA9IGNoYW5uZWwub24oXCJldmVudFwiLCBkb19vdGhlcl9zdHVmZilcbiAgICogY2hhbm5lbC5vZmYoXCJldmVudFwiLCByZWYxKVxuICAgKiAvLyBTaW5jZSB1bnN1YnNjcmlwdGlvbiwgZG9fc3R1ZmYgd29uJ3QgZmlyZSxcbiAgICogLy8gd2hpbGUgZG9fb3RoZXJfc3R1ZmYgd2lsbCBrZWVwIGZpcmluZyBvbiB0aGUgXCJldmVudFwiXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgKiBAcmV0dXJucyB7aW50ZWdlcn0gcmVmXG4gICAqL1xuICBvbihldmVudCwgY2FsbGJhY2spe1xuICAgIGxldCByZWYgPSB0aGlzLmJpbmRpbmdSZWYrK1xuICAgIHRoaXMuYmluZGluZ3MucHVzaCh7ZXZlbnQsIHJlZiwgY2FsbGJhY2t9KVxuICAgIHJldHVybiByZWZcbiAgfVxuXG4gIC8qKlxuICAgKiBVbnN1YnNjcmliZXMgb2ZmIG9mIGNoYW5uZWwgZXZlbnRzXG4gICAqXG4gICAqIFVzZSB0aGUgcmVmIHJldHVybmVkIGZyb20gYSBjaGFubmVsLm9uKCkgdG8gdW5zdWJzY3JpYmUgb25lXG4gICAqIGhhbmRsZXIsIG9yIHBhc3Mgbm90aGluZyBmb3IgdGhlIHJlZiB0byB1bnN1YnNjcmliZSBhbGxcbiAgICogaGFuZGxlcnMgZm9yIHRoZSBnaXZlbiBldmVudC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogLy8gVW5zdWJzY3JpYmUgdGhlIGRvX3N0dWZmIGhhbmRsZXJcbiAgICogY29uc3QgcmVmMSA9IGNoYW5uZWwub24oXCJldmVudFwiLCBkb19zdHVmZilcbiAgICogY2hhbm5lbC5vZmYoXCJldmVudFwiLCByZWYxKVxuICAgKlxuICAgKiAvLyBVbnN1YnNjcmliZSBhbGwgaGFuZGxlcnMgZnJvbSBldmVudFxuICAgKiBjaGFubmVsLm9mZihcImV2ZW50XCIpXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFxuICAgKiBAcGFyYW0ge2ludGVnZXJ9IHJlZlxuICAgKi9cbiAgb2ZmKGV2ZW50LCByZWYpe1xuICAgIHRoaXMuYmluZGluZ3MgPSB0aGlzLmJpbmRpbmdzLmZpbHRlcigoYmluZCkgPT4ge1xuICAgICAgcmV0dXJuICEoYmluZC5ldmVudCA9PT0gZXZlbnQgJiYgKHR5cGVvZiByZWYgPT09IFwidW5kZWZpbmVkXCIgfHwgcmVmID09PSBiaW5kLnJlZikpXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgY2FuUHVzaCgpeyByZXR1cm4gdGhpcy5zb2NrZXQuaXNDb25uZWN0ZWQoKSAmJiB0aGlzLmlzSm9pbmVkKCkgfVxuXG4gIC8qKlxuICAgKiBTZW5kcyBhIG1lc3NhZ2UgYGV2ZW50YCB0byBwaG9lbml4IHdpdGggdGhlIHBheWxvYWQgYHBheWxvYWRgLlxuICAgKiBQaG9lbml4IHJlY2VpdmVzIHRoaXMgaW4gdGhlIGBoYW5kbGVfaW4oZXZlbnQsIHBheWxvYWQsIHNvY2tldClgXG4gICAqIGZ1bmN0aW9uLiBpZiBwaG9lbml4IHJlcGxpZXMgb3IgaXQgdGltZXMgb3V0IChkZWZhdWx0IDEwMDAwbXMpLFxuICAgKiB0aGVuIG9wdGlvbmFsbHkgdGhlIHJlcGx5IGNhbiBiZSByZWNlaXZlZC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogY2hhbm5lbC5wdXNoKFwiZXZlbnRcIilcbiAgICogICAucmVjZWl2ZShcIm9rXCIsIHBheWxvYWQgPT4gY29uc29sZS5sb2coXCJwaG9lbml4IHJlcGxpZWQ6XCIsIHBheWxvYWQpKVxuICAgKiAgIC5yZWNlaXZlKFwiZXJyb3JcIiwgZXJyID0+IGNvbnNvbGUubG9nKFwicGhvZW5peCBlcnJvcmVkXCIsIGVycikpXG4gICAqICAgLnJlY2VpdmUoXCJ0aW1lb3V0XCIsICgpID0+IGNvbnNvbGUubG9nKFwidGltZWQgb3V0IHB1c2hpbmdcIikpXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFxuICAgKiBAcGFyYW0ge09iamVjdH0gcGF5bG9hZFxuICAgKiBAcGFyYW0ge251bWJlcn0gW3RpbWVvdXRdXG4gICAqIEByZXR1cm5zIHtQdXNofVxuICAgKi9cbiAgcHVzaChldmVudCwgcGF5bG9hZCwgdGltZW91dCA9IHRoaXMudGltZW91dCl7XG4gICAgcGF5bG9hZCA9IHBheWxvYWQgfHwge31cbiAgICBpZighdGhpcy5qb2luZWRPbmNlKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgdHJpZWQgdG8gcHVzaCAnJHtldmVudH0nIHRvICcke3RoaXMudG9waWN9JyBiZWZvcmUgam9pbmluZy4gVXNlIGNoYW5uZWwuam9pbigpIGJlZm9yZSBwdXNoaW5nIGV2ZW50c2ApXG4gICAgfVxuICAgIGxldCBwdXNoRXZlbnQgPSBuZXcgUHVzaCh0aGlzLCBldmVudCwgZnVuY3Rpb24gKCl7IHJldHVybiBwYXlsb2FkIH0sIHRpbWVvdXQpXG4gICAgaWYodGhpcy5jYW5QdXNoKCkpe1xuICAgICAgcHVzaEV2ZW50LnNlbmQoKVxuICAgIH0gZWxzZSB7XG4gICAgICBwdXNoRXZlbnQuc3RhcnRUaW1lb3V0KClcbiAgICAgIHRoaXMucHVzaEJ1ZmZlci5wdXNoKHB1c2hFdmVudClcbiAgICB9XG5cbiAgICByZXR1cm4gcHVzaEV2ZW50XG4gIH1cblxuICAvKiogTGVhdmVzIHRoZSBjaGFubmVsXG4gICAqXG4gICAqIFVuc3Vic2NyaWJlcyBmcm9tIHNlcnZlciBldmVudHMsIGFuZFxuICAgKiBpbnN0cnVjdHMgY2hhbm5lbCB0byB0ZXJtaW5hdGUgb24gc2VydmVyXG4gICAqXG4gICAqIFRyaWdnZXJzIG9uQ2xvc2UoKSBob29rc1xuICAgKlxuICAgKiBUbyByZWNlaXZlIGxlYXZlIGFja25vd2xlZGdlbWVudHMsIHVzZSB0aGUgYHJlY2VpdmVgXG4gICAqIGhvb2sgdG8gYmluZCB0byB0aGUgc2VydmVyIGFjaywgaWU6XG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGNoYW5uZWwubGVhdmUoKS5yZWNlaXZlKFwib2tcIiwgKCkgPT4gYWxlcnQoXCJsZWZ0IVwiKSApXG4gICAqXG4gICAqIEBwYXJhbSB7aW50ZWdlcn0gdGltZW91dFxuICAgKiBAcmV0dXJucyB7UHVzaH1cbiAgICovXG4gIGxlYXZlKHRpbWVvdXQgPSB0aGlzLnRpbWVvdXQpe1xuICAgIHRoaXMucmVqb2luVGltZXIucmVzZXQoKVxuICAgIHRoaXMuam9pblB1c2guY2FuY2VsVGltZW91dCgpXG5cbiAgICB0aGlzLnN0YXRlID0gQ0hBTk5FTF9TVEFURVMubGVhdmluZ1xuICAgIGxldCBvbkNsb3NlID0gKCkgPT4ge1xuICAgICAgaWYodGhpcy5zb2NrZXQuaGFzTG9nZ2VyKCkpIHRoaXMuc29ja2V0LmxvZyhcImNoYW5uZWxcIiwgYGxlYXZlICR7dGhpcy50b3BpY31gKVxuICAgICAgdGhpcy50cmlnZ2VyKENIQU5ORUxfRVZFTlRTLmNsb3NlLCBcImxlYXZlXCIpXG4gICAgfVxuICAgIGxldCBsZWF2ZVB1c2ggPSBuZXcgUHVzaCh0aGlzLCBDSEFOTkVMX0VWRU5UUy5sZWF2ZSwgY2xvc3VyZSh7fSksIHRpbWVvdXQpXG4gICAgbGVhdmVQdXNoLnJlY2VpdmUoXCJva1wiLCAoKSA9PiBvbkNsb3NlKCkpXG4gICAgICAucmVjZWl2ZShcInRpbWVvdXRcIiwgKCkgPT4gb25DbG9zZSgpKVxuICAgIGxlYXZlUHVzaC5zZW5kKClcbiAgICBpZighdGhpcy5jYW5QdXNoKCkpeyBsZWF2ZVB1c2gudHJpZ2dlcihcIm9rXCIsIHt9KSB9XG5cbiAgICByZXR1cm4gbGVhdmVQdXNoXG4gIH1cblxuICAvKipcbiAgICogT3ZlcnJpZGFibGUgbWVzc2FnZSBob29rXG4gICAqXG4gICAqIFJlY2VpdmVzIGFsbCBldmVudHMgZm9yIHNwZWNpYWxpemVkIG1lc3NhZ2UgaGFuZGxpbmdcbiAgICogYmVmb3JlIGRpc3BhdGNoaW5nIHRvIHRoZSBjaGFubmVsIGNhbGxiYWNrcy5cbiAgICpcbiAgICogTXVzdCByZXR1cm4gdGhlIHBheWxvYWQsIG1vZGlmaWVkIG9yIHVubW9kaWZpZWRcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwYXlsb2FkXG4gICAqIEBwYXJhbSB7aW50ZWdlcn0gcmVmXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuICBvbk1lc3NhZ2UoX2V2ZW50LCBwYXlsb2FkLCBfcmVmKXsgcmV0dXJuIHBheWxvYWQgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaXNNZW1iZXIodG9waWMsIGV2ZW50LCBwYXlsb2FkLCBqb2luUmVmKXtcbiAgICBpZih0aGlzLnRvcGljICE9PSB0b3BpYyl7IHJldHVybiBmYWxzZSB9XG5cbiAgICBpZihqb2luUmVmICYmIGpvaW5SZWYgIT09IHRoaXMuam9pblJlZigpKXtcbiAgICAgIGlmKHRoaXMuc29ja2V0Lmhhc0xvZ2dlcigpKSB0aGlzLnNvY2tldC5sb2coXCJjaGFubmVsXCIsIFwiZHJvcHBpbmcgb3V0ZGF0ZWQgbWVzc2FnZVwiLCB7dG9waWMsIGV2ZW50LCBwYXlsb2FkLCBqb2luUmVmfSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgam9pblJlZigpeyByZXR1cm4gdGhpcy5qb2luUHVzaC5yZWYgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcmVqb2luKHRpbWVvdXQgPSB0aGlzLnRpbWVvdXQpe1xuICAgIGlmKHRoaXMuaXNMZWF2aW5nKCkpeyByZXR1cm4gfVxuICAgIHRoaXMuc29ja2V0LmxlYXZlT3BlblRvcGljKHRoaXMudG9waWMpXG4gICAgdGhpcy5zdGF0ZSA9IENIQU5ORUxfU1RBVEVTLmpvaW5pbmdcbiAgICB0aGlzLmpvaW5QdXNoLnJlc2VuZCh0aW1lb3V0KVxuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0cmlnZ2VyKGV2ZW50LCBwYXlsb2FkLCByZWYsIGpvaW5SZWYpe1xuICAgIGxldCBoYW5kbGVkUGF5bG9hZCA9IHRoaXMub25NZXNzYWdlKGV2ZW50LCBwYXlsb2FkLCByZWYsIGpvaW5SZWYpXG4gICAgaWYocGF5bG9hZCAmJiAhaGFuZGxlZFBheWxvYWQpeyB0aHJvdyBuZXcgRXJyb3IoXCJjaGFubmVsIG9uTWVzc2FnZSBjYWxsYmFja3MgbXVzdCByZXR1cm4gdGhlIHBheWxvYWQsIG1vZGlmaWVkIG9yIHVubW9kaWZpZWRcIikgfVxuXG4gICAgbGV0IGV2ZW50QmluZGluZ3MgPSB0aGlzLmJpbmRpbmdzLmZpbHRlcihiaW5kID0+IGJpbmQuZXZlbnQgPT09IGV2ZW50KVxuXG4gICAgZm9yKGxldCBpID0gMDsgaSA8IGV2ZW50QmluZGluZ3MubGVuZ3RoOyBpKyspe1xuICAgICAgbGV0IGJpbmQgPSBldmVudEJpbmRpbmdzW2ldXG4gICAgICBiaW5kLmNhbGxiYWNrKGhhbmRsZWRQYXlsb2FkLCByZWYsIGpvaW5SZWYgfHwgdGhpcy5qb2luUmVmKCkpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICByZXBseUV2ZW50TmFtZShyZWYpeyByZXR1cm4gYGNoYW5fcmVwbHlfJHtyZWZ9YCB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBpc0Nsb3NlZCgpeyByZXR1cm4gdGhpcy5zdGF0ZSA9PT0gQ0hBTk5FTF9TVEFURVMuY2xvc2VkIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGlzRXJyb3JlZCgpeyByZXR1cm4gdGhpcy5zdGF0ZSA9PT0gQ0hBTk5FTF9TVEFURVMuZXJyb3JlZCB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBpc0pvaW5lZCgpeyByZXR1cm4gdGhpcy5zdGF0ZSA9PT0gQ0hBTk5FTF9TVEFURVMuam9pbmVkIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGlzSm9pbmluZygpeyByZXR1cm4gdGhpcy5zdGF0ZSA9PT0gQ0hBTk5FTF9TVEFURVMuam9pbmluZyB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBpc0xlYXZpbmcoKXsgcmV0dXJuIHRoaXMuc3RhdGUgPT09IENIQU5ORUxfU1RBVEVTLmxlYXZpbmcgfVxufVxuIiwgImltcG9ydCB7XG4gIGdsb2JhbCxcbiAgWEhSX1NUQVRFU1xufSBmcm9tIFwiLi9jb25zdGFudHNcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBamF4IHtcblxuICBzdGF0aWMgcmVxdWVzdChtZXRob2QsIGVuZFBvaW50LCBhY2NlcHQsIGJvZHksIHRpbWVvdXQsIG9udGltZW91dCwgY2FsbGJhY2spe1xuICAgIGlmKGdsb2JhbC5YRG9tYWluUmVxdWVzdCl7XG4gICAgICBsZXQgcmVxID0gbmV3IGdsb2JhbC5YRG9tYWluUmVxdWVzdCgpIC8vIElFOCwgSUU5XG4gICAgICByZXR1cm4gdGhpcy54ZG9tYWluUmVxdWVzdChyZXEsIG1ldGhvZCwgZW5kUG9pbnQsIGJvZHksIHRpbWVvdXQsIG9udGltZW91dCwgY2FsbGJhY2spXG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCByZXEgPSBuZXcgZ2xvYmFsLlhNTEh0dHBSZXF1ZXN0KCkgLy8gSUU3KywgRmlyZWZveCwgQ2hyb21lLCBPcGVyYSwgU2FmYXJpXG4gICAgICByZXR1cm4gdGhpcy54aHJSZXF1ZXN0KHJlcSwgbWV0aG9kLCBlbmRQb2ludCwgYWNjZXB0LCBib2R5LCB0aW1lb3V0LCBvbnRpbWVvdXQsIGNhbGxiYWNrKVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyB4ZG9tYWluUmVxdWVzdChyZXEsIG1ldGhvZCwgZW5kUG9pbnQsIGJvZHksIHRpbWVvdXQsIG9udGltZW91dCwgY2FsbGJhY2spe1xuICAgIHJlcS50aW1lb3V0ID0gdGltZW91dFxuICAgIHJlcS5vcGVuKG1ldGhvZCwgZW5kUG9pbnQpXG4gICAgcmVxLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgIGxldCByZXNwb25zZSA9IHRoaXMucGFyc2VKU09OKHJlcS5yZXNwb25zZVRleHQpXG4gICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhyZXNwb25zZSlcbiAgICB9XG4gICAgaWYob250aW1lb3V0KXsgcmVxLm9udGltZW91dCA9IG9udGltZW91dCB9XG5cbiAgICAvLyBXb3JrIGFyb3VuZCBidWcgaW4gSUU5IHRoYXQgcmVxdWlyZXMgYW4gYXR0YWNoZWQgb25wcm9ncmVzcyBoYW5kbGVyXG4gICAgcmVxLm9ucHJvZ3Jlc3MgPSAoKSA9PiB7IH1cblxuICAgIHJlcS5zZW5kKGJvZHkpXG4gICAgcmV0dXJuIHJlcVxuICB9XG5cbiAgc3RhdGljIHhoclJlcXVlc3QocmVxLCBtZXRob2QsIGVuZFBvaW50LCBhY2NlcHQsIGJvZHksIHRpbWVvdXQsIG9udGltZW91dCwgY2FsbGJhY2spe1xuICAgIHJlcS5vcGVuKG1ldGhvZCwgZW5kUG9pbnQsIHRydWUpXG4gICAgcmVxLnRpbWVvdXQgPSB0aW1lb3V0XG4gICAgcmVxLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIiwgYWNjZXB0KVxuICAgIHJlcS5vbmVycm9yID0gKCkgPT4gY2FsbGJhY2sgJiYgY2FsbGJhY2sobnVsbClcbiAgICByZXEub25yZWFkeXN0YXRlY2hhbmdlID0gKCkgPT4ge1xuICAgICAgaWYocmVxLnJlYWR5U3RhdGUgPT09IFhIUl9TVEFURVMuY29tcGxldGUgJiYgY2FsbGJhY2spe1xuICAgICAgICBsZXQgcmVzcG9uc2UgPSB0aGlzLnBhcnNlSlNPTihyZXEucmVzcG9uc2VUZXh0KVxuICAgICAgICBjYWxsYmFjayhyZXNwb25zZSlcbiAgICAgIH1cbiAgICB9XG4gICAgaWYob250aW1lb3V0KXsgcmVxLm9udGltZW91dCA9IG9udGltZW91dCB9XG5cbiAgICByZXEuc2VuZChib2R5KVxuICAgIHJldHVybiByZXFcbiAgfVxuXG4gIHN0YXRpYyBwYXJzZUpTT04ocmVzcCl7XG4gICAgaWYoIXJlc3AgfHwgcmVzcCA9PT0gXCJcIil7IHJldHVybiBudWxsIH1cblxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gSlNPTi5wYXJzZShyZXNwKVxuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgY29uc29sZSAmJiBjb25zb2xlLmxvZyhcImZhaWxlZCB0byBwYXJzZSBKU09OIHJlc3BvbnNlXCIsIHJlc3ApXG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUob2JqLCBwYXJlbnRLZXkpe1xuICAgIGxldCBxdWVyeVN0ciA9IFtdXG4gICAgZm9yKHZhciBrZXkgaW4gb2JqKXtcbiAgICAgIGlmKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKXsgY29udGludWUgfVxuICAgICAgbGV0IHBhcmFtS2V5ID0gcGFyZW50S2V5ID8gYCR7cGFyZW50S2V5fVske2tleX1dYCA6IGtleVxuICAgICAgbGV0IHBhcmFtVmFsID0gb2JqW2tleV1cbiAgICAgIGlmKHR5cGVvZiBwYXJhbVZhbCA9PT0gXCJvYmplY3RcIil7XG4gICAgICAgIHF1ZXJ5U3RyLnB1c2godGhpcy5zZXJpYWxpemUocGFyYW1WYWwsIHBhcmFtS2V5KSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXJ5U3RyLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KHBhcmFtS2V5KSArIFwiPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KHBhcmFtVmFsKSlcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHF1ZXJ5U3RyLmpvaW4oXCImXCIpXG4gIH1cblxuICBzdGF0aWMgYXBwZW5kUGFyYW1zKHVybCwgcGFyYW1zKXtcbiAgICBpZihPYmplY3Qua2V5cyhwYXJhbXMpLmxlbmd0aCA9PT0gMCl7IHJldHVybiB1cmwgfVxuXG4gICAgbGV0IHByZWZpeCA9IHVybC5tYXRjaCgvXFw/LykgPyBcIiZcIiA6IFwiP1wiXG4gICAgcmV0dXJuIGAke3VybH0ke3ByZWZpeH0ke3RoaXMuc2VyaWFsaXplKHBhcmFtcyl9YFxuICB9XG59XG4iLCAiaW1wb3J0IHtcbiAgU09DS0VUX1NUQVRFUyxcbiAgVFJBTlNQT1JUU1xufSBmcm9tIFwiLi9jb25zdGFudHNcIlxuXG5pbXBvcnQgQWpheCBmcm9tIFwiLi9hamF4XCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9uZ1BvbGwge1xuXG4gIGNvbnN0cnVjdG9yKGVuZFBvaW50KXtcbiAgICB0aGlzLmVuZFBvaW50ID0gbnVsbFxuICAgIHRoaXMudG9rZW4gPSBudWxsXG4gICAgdGhpcy5za2lwSGVhcnRiZWF0ID0gdHJ1ZVxuICAgIHRoaXMucmVxcyA9IG5ldyBTZXQoKVxuICAgIHRoaXMub25vcGVuID0gZnVuY3Rpb24gKCl7IH0gLy8gbm9vcFxuICAgIHRoaXMub25lcnJvciA9IGZ1bmN0aW9uICgpeyB9IC8vIG5vb3BcbiAgICB0aGlzLm9ubWVzc2FnZSA9IGZ1bmN0aW9uICgpeyB9IC8vIG5vb3BcbiAgICB0aGlzLm9uY2xvc2UgPSBmdW5jdGlvbiAoKXsgfSAvLyBub29wXG4gICAgdGhpcy5wb2xsRW5kcG9pbnQgPSB0aGlzLm5vcm1hbGl6ZUVuZHBvaW50KGVuZFBvaW50KVxuICAgIHRoaXMucmVhZHlTdGF0ZSA9IFNPQ0tFVF9TVEFURVMuY29ubmVjdGluZ1xuICAgIHRoaXMucG9sbCgpXG4gIH1cblxuICBub3JtYWxpemVFbmRwb2ludChlbmRQb2ludCl7XG4gICAgcmV0dXJuIChlbmRQb2ludFxuICAgICAgLnJlcGxhY2UoXCJ3czovL1wiLCBcImh0dHA6Ly9cIilcbiAgICAgIC5yZXBsYWNlKFwid3NzOi8vXCIsIFwiaHR0cHM6Ly9cIilcbiAgICAgIC5yZXBsYWNlKG5ldyBSZWdFeHAoXCIoLiopXFwvXCIgKyBUUkFOU1BPUlRTLndlYnNvY2tldCksIFwiJDEvXCIgKyBUUkFOU1BPUlRTLmxvbmdwb2xsKSlcbiAgfVxuXG4gIGVuZHBvaW50VVJMKCl7XG4gICAgcmV0dXJuIEFqYXguYXBwZW5kUGFyYW1zKHRoaXMucG9sbEVuZHBvaW50LCB7dG9rZW46IHRoaXMudG9rZW59KVxuICB9XG5cbiAgY2xvc2VBbmRSZXRyeShjb2RlLCByZWFzb24sIHdhc0NsZWFuKXtcbiAgICB0aGlzLmNsb3NlKGNvZGUsIHJlYXNvbiwgd2FzQ2xlYW4pXG4gICAgdGhpcy5yZWFkeVN0YXRlID0gU09DS0VUX1NUQVRFUy5jb25uZWN0aW5nXG4gIH1cblxuICBvbnRpbWVvdXQoKXtcbiAgICB0aGlzLm9uZXJyb3IoXCJ0aW1lb3V0XCIpXG4gICAgdGhpcy5jbG9zZUFuZFJldHJ5KDEwMDUsIFwidGltZW91dFwiLCBmYWxzZSlcbiAgfVxuXG4gIGlzQWN0aXZlKCl7IHJldHVybiB0aGlzLnJlYWR5U3RhdGUgPT09IFNPQ0tFVF9TVEFURVMub3BlbiB8fCB0aGlzLnJlYWR5U3RhdGUgPT09IFNPQ0tFVF9TVEFURVMuY29ubmVjdGluZyB9XG5cbiAgcG9sbCgpe1xuICAgIHRoaXMuYWpheChcIkdFVFwiLCBudWxsLCAoKSA9PiB0aGlzLm9udGltZW91dCgpLCByZXNwID0+IHtcbiAgICAgIGlmKHJlc3Ape1xuICAgICAgICB2YXIge3N0YXR1cywgdG9rZW4sIG1lc3NhZ2VzfSA9IHJlc3BcbiAgICAgICAgdGhpcy50b2tlbiA9IHRva2VuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGF0dXMgPSAwXG4gICAgICB9XG5cbiAgICAgIHN3aXRjaChzdGF0dXMpe1xuICAgICAgICBjYXNlIDIwMDpcbiAgICAgICAgICBtZXNzYWdlcy5mb3JFYWNoKG1zZyA9PiB7XG4gICAgICAgICAgICAvLyBUYXNrcyBhcmUgd2hhdCB0aGluZ3MgbGlrZSBldmVudCBoYW5kbGVycywgc2V0VGltZW91dCBjYWxsYmFja3MsXG4gICAgICAgICAgICAvLyBwcm9taXNlIHJlc29sdmVzIGFuZCBtb3JlIGFyZSBydW4gd2l0aGluLlxuICAgICAgICAgICAgLy8gSW4gbW9kZXJuIGJyb3dzZXJzLCB0aGVyZSBhcmUgdHdvIGRpZmZlcmVudCBraW5kcyBvZiB0YXNrcyxcbiAgICAgICAgICAgIC8vIG1pY3JvdGFza3MgYW5kIG1hY3JvdGFza3MuXG4gICAgICAgICAgICAvLyBNaWNyb3Rhc2tzIGFyZSBtYWlubHkgdXNlZCBmb3IgUHJvbWlzZXMsIHdoaWxlIG1hY3JvdGFza3MgYXJlXG4gICAgICAgICAgICAvLyB1c2VkIGZvciBldmVyeXRoaW5nIGVsc2UuXG4gICAgICAgICAgICAvLyBNaWNyb3Rhc2tzIGFsd2F5cyBoYXZlIHByaW9yaXR5IG92ZXIgbWFjcm90YXNrcy4gSWYgdGhlIEpTIGVuZ2luZVxuICAgICAgICAgICAgLy8gaXMgbG9va2luZyBmb3IgYSB0YXNrIHRvIHJ1biwgaXQgd2lsbCBhbHdheXMgdHJ5IHRvIGVtcHR5IHRoZVxuICAgICAgICAgICAgLy8gbWljcm90YXNrIHF1ZXVlIGJlZm9yZSBhdHRlbXB0aW5nIHRvIHJ1biBhbnl0aGluZyBmcm9tIHRoZVxuICAgICAgICAgICAgLy8gbWFjcm90YXNrIHF1ZXVlLlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIEZvciB0aGUgV2ViU29ja2V0IHRyYW5zcG9ydCwgbWVzc2FnZXMgYWx3YXlzIGFycml2ZSBpbiB0aGVpciBvd25cbiAgICAgICAgICAgIC8vIGV2ZW50LiBUaGlzIG1lYW5zIHRoYXQgaWYgYW55IHByb21pc2VzIGFyZSByZXNvbHZlZCBmcm9tIHdpdGhpbixcbiAgICAgICAgICAgIC8vIHRoZWlyIGNhbGxiYWNrcyB3aWxsIGFsd2F5cyBmaW5pc2ggZXhlY3V0aW9uIGJ5IHRoZSB0aW1lIHRoZVxuICAgICAgICAgICAgLy8gbmV4dCBtZXNzYWdlIGV2ZW50IGhhbmRsZXIgaXMgcnVuLlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIEluIG9yZGVyIHRvIGVtdWxhdGUgdGhpcyBiZWhhdmlvdXIsIHdlIG5lZWQgdG8gbWFrZSBzdXJlIGVhY2hcbiAgICAgICAgICAgIC8vIG9ubWVzc2FnZSBoYW5kbGVyIGlzIHJ1biB3aXRoaW4gaXQncyBvd24gbWFjcm90YXNrLlxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLm9ubWVzc2FnZSh7ZGF0YTogbXNnfSksIDApXG4gICAgICAgICAgfSlcbiAgICAgICAgICB0aGlzLnBvbGwoKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgMjA0OlxuICAgICAgICAgIHRoaXMucG9sbCgpXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSA0MTA6XG4gICAgICAgICAgdGhpcy5yZWFkeVN0YXRlID0gU09DS0VUX1NUQVRFUy5vcGVuXG4gICAgICAgICAgdGhpcy5vbm9wZW4oe30pXG4gICAgICAgICAgdGhpcy5wb2xsKClcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDQwMzpcbiAgICAgICAgICB0aGlzLm9uZXJyb3IoNDAzKVxuICAgICAgICAgIHRoaXMuY2xvc2UoMTAwOCwgXCJmb3JiaWRkZW5cIiwgZmFsc2UpXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICBjYXNlIDUwMDpcbiAgICAgICAgICB0aGlzLm9uZXJyb3IoNTAwKVxuICAgICAgICAgIHRoaXMuY2xvc2VBbmRSZXRyeSgxMDExLCBcImludGVybmFsIHNlcnZlciBlcnJvclwiLCA1MDApXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKGB1bmhhbmRsZWQgcG9sbCBzdGF0dXMgJHtzdGF0dXN9YClcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgc2VuZChib2R5KXtcbiAgICB0aGlzLmFqYXgoXCJQT1NUXCIsIGJvZHksICgpID0+IHRoaXMub25lcnJvcihcInRpbWVvdXRcIiksIHJlc3AgPT4ge1xuICAgICAgaWYoIXJlc3AgfHwgcmVzcC5zdGF0dXMgIT09IDIwMCl7XG4gICAgICAgIHRoaXMub25lcnJvcihyZXNwICYmIHJlc3Auc3RhdHVzKVxuICAgICAgICB0aGlzLmNsb3NlQW5kUmV0cnkoMTAxMSwgXCJpbnRlcm5hbCBzZXJ2ZXIgZXJyb3JcIiwgZmFsc2UpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGNsb3NlKGNvZGUsIHJlYXNvbiwgd2FzQ2xlYW4pe1xuICAgIGZvcihsZXQgcmVxIG9mIHRoaXMucmVxcyl7IHJlcS5hYm9ydCgpIH1cbiAgICB0aGlzLnJlYWR5U3RhdGUgPSBTT0NLRVRfU1RBVEVTLmNsb3NlZFxuICAgIGxldCBvcHRzID0gT2JqZWN0LmFzc2lnbih7Y29kZTogMTAwMCwgcmVhc29uOiB1bmRlZmluZWQsIHdhc0NsZWFuOiB0cnVlfSwge2NvZGUsIHJlYXNvbiwgd2FzQ2xlYW59KVxuICAgIGlmKHR5cGVvZihDbG9zZUV2ZW50KSAhPT0gXCJ1bmRlZmluZWRcIil7XG4gICAgICB0aGlzLm9uY2xvc2UobmV3IENsb3NlRXZlbnQoXCJjbG9zZVwiLCBvcHRzKSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5vbmNsb3NlKG9wdHMpXG4gICAgfVxuICB9XG5cbiAgYWpheChtZXRob2QsIGJvZHksIG9uQ2FsbGVyVGltZW91dCwgY2FsbGJhY2spe1xuICAgIGxldCByZXFcbiAgICBsZXQgb250aW1lb3V0ID0gKCkgPT4ge1xuICAgICAgdGhpcy5yZXFzLmRlbGV0ZShyZXEpXG4gICAgICBvbkNhbGxlclRpbWVvdXQoKVxuICAgIH1cbiAgICByZXEgPSBBamF4LnJlcXVlc3QobWV0aG9kLCB0aGlzLmVuZHBvaW50VVJMKCksIFwiYXBwbGljYXRpb24vanNvblwiLCBib2R5LCB0aGlzLnRpbWVvdXQsIG9udGltZW91dCwgcmVzcCA9PiB7XG4gICAgICB0aGlzLnJlcXMuZGVsZXRlKHJlcSlcbiAgICAgIGlmKHRoaXMuaXNBY3RpdmUoKSl7IGNhbGxiYWNrKHJlc3ApIH1cbiAgICB9KVxuICAgIHRoaXMucmVxcy5hZGQocmVxKVxuICB9XG59XG4iLCAiLyoqXG4gKiBJbml0aWFsaXplcyB0aGUgUHJlc2VuY2VcbiAqIEBwYXJhbSB7Q2hhbm5lbH0gY2hhbm5lbCAtIFRoZSBDaGFubmVsXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0cyAtIFRoZSBvcHRpb25zLFxuICogICAgICAgIGZvciBleGFtcGxlIGB7ZXZlbnRzOiB7c3RhdGU6IFwic3RhdGVcIiwgZGlmZjogXCJkaWZmXCJ9fWBcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJlc2VuY2Uge1xuXG4gIGNvbnN0cnVjdG9yKGNoYW5uZWwsIG9wdHMgPSB7fSl7XG4gICAgbGV0IGV2ZW50cyA9IG9wdHMuZXZlbnRzIHx8IHtzdGF0ZTogXCJwcmVzZW5jZV9zdGF0ZVwiLCBkaWZmOiBcInByZXNlbmNlX2RpZmZcIn1cbiAgICB0aGlzLnN0YXRlID0ge31cbiAgICB0aGlzLnBlbmRpbmdEaWZmcyA9IFtdXG4gICAgdGhpcy5jaGFubmVsID0gY2hhbm5lbFxuICAgIHRoaXMuam9pblJlZiA9IG51bGxcbiAgICB0aGlzLmNhbGxlciA9IHtcbiAgICAgIG9uSm9pbjogZnVuY3Rpb24gKCl7IH0sXG4gICAgICBvbkxlYXZlOiBmdW5jdGlvbiAoKXsgfSxcbiAgICAgIG9uU3luYzogZnVuY3Rpb24gKCl7IH1cbiAgICB9XG5cbiAgICB0aGlzLmNoYW5uZWwub24oZXZlbnRzLnN0YXRlLCBuZXdTdGF0ZSA9PiB7XG4gICAgICBsZXQge29uSm9pbiwgb25MZWF2ZSwgb25TeW5jfSA9IHRoaXMuY2FsbGVyXG5cbiAgICAgIHRoaXMuam9pblJlZiA9IHRoaXMuY2hhbm5lbC5qb2luUmVmKClcbiAgICAgIHRoaXMuc3RhdGUgPSBQcmVzZW5jZS5zeW5jU3RhdGUodGhpcy5zdGF0ZSwgbmV3U3RhdGUsIG9uSm9pbiwgb25MZWF2ZSlcblxuICAgICAgdGhpcy5wZW5kaW5nRGlmZnMuZm9yRWFjaChkaWZmID0+IHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFByZXNlbmNlLnN5bmNEaWZmKHRoaXMuc3RhdGUsIGRpZmYsIG9uSm9pbiwgb25MZWF2ZSlcbiAgICAgIH0pXG4gICAgICB0aGlzLnBlbmRpbmdEaWZmcyA9IFtdXG4gICAgICBvblN5bmMoKVxuICAgIH0pXG5cbiAgICB0aGlzLmNoYW5uZWwub24oZXZlbnRzLmRpZmYsIGRpZmYgPT4ge1xuICAgICAgbGV0IHtvbkpvaW4sIG9uTGVhdmUsIG9uU3luY30gPSB0aGlzLmNhbGxlclxuXG4gICAgICBpZih0aGlzLmluUGVuZGluZ1N5bmNTdGF0ZSgpKXtcbiAgICAgICAgdGhpcy5wZW5kaW5nRGlmZnMucHVzaChkaWZmKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFByZXNlbmNlLnN5bmNEaWZmKHRoaXMuc3RhdGUsIGRpZmYsIG9uSm9pbiwgb25MZWF2ZSlcbiAgICAgICAgb25TeW5jKClcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgb25Kb2luKGNhbGxiYWNrKXsgdGhpcy5jYWxsZXIub25Kb2luID0gY2FsbGJhY2sgfVxuXG4gIG9uTGVhdmUoY2FsbGJhY2speyB0aGlzLmNhbGxlci5vbkxlYXZlID0gY2FsbGJhY2sgfVxuXG4gIG9uU3luYyhjYWxsYmFjayl7IHRoaXMuY2FsbGVyLm9uU3luYyA9IGNhbGxiYWNrIH1cblxuICBsaXN0KGJ5KXsgcmV0dXJuIFByZXNlbmNlLmxpc3QodGhpcy5zdGF0ZSwgYnkpIH1cblxuICBpblBlbmRpbmdTeW5jU3RhdGUoKXtcbiAgICByZXR1cm4gIXRoaXMuam9pblJlZiB8fCAodGhpcy5qb2luUmVmICE9PSB0aGlzLmNoYW5uZWwuam9pblJlZigpKVxuICB9XG5cbiAgLy8gbG93ZXItbGV2ZWwgcHVibGljIHN0YXRpYyBBUElcblxuICAvKipcbiAgICogVXNlZCB0byBzeW5jIHRoZSBsaXN0IG9mIHByZXNlbmNlcyBvbiB0aGUgc2VydmVyXG4gICAqIHdpdGggdGhlIGNsaWVudCdzIHN0YXRlLiBBbiBvcHRpb25hbCBgb25Kb2luYCBhbmQgYG9uTGVhdmVgIGNhbGxiYWNrIGNhblxuICAgKiBiZSBwcm92aWRlZCB0byByZWFjdCB0byBjaGFuZ2VzIGluIHRoZSBjbGllbnQncyBsb2NhbCBwcmVzZW5jZXMgYWNyb3NzXG4gICAqIGRpc2Nvbm5lY3RzIGFuZCByZWNvbm5lY3RzIHdpdGggdGhlIHNlcnZlci5cbiAgICpcbiAgICogQHJldHVybnMge1ByZXNlbmNlfVxuICAgKi9cbiAgc3RhdGljIHN5bmNTdGF0ZShjdXJyZW50U3RhdGUsIG5ld1N0YXRlLCBvbkpvaW4sIG9uTGVhdmUpe1xuICAgIGxldCBzdGF0ZSA9IHRoaXMuY2xvbmUoY3VycmVudFN0YXRlKVxuICAgIGxldCBqb2lucyA9IHt9XG4gICAgbGV0IGxlYXZlcyA9IHt9XG5cbiAgICB0aGlzLm1hcChzdGF0ZSwgKGtleSwgcHJlc2VuY2UpID0+IHtcbiAgICAgIGlmKCFuZXdTdGF0ZVtrZXldKXtcbiAgICAgICAgbGVhdmVzW2tleV0gPSBwcmVzZW5jZVxuICAgICAgfVxuICAgIH0pXG4gICAgdGhpcy5tYXAobmV3U3RhdGUsIChrZXksIG5ld1ByZXNlbmNlKSA9PiB7XG4gICAgICBsZXQgY3VycmVudFByZXNlbmNlID0gc3RhdGVba2V5XVxuICAgICAgaWYoY3VycmVudFByZXNlbmNlKXtcbiAgICAgICAgbGV0IG5ld1JlZnMgPSBuZXdQcmVzZW5jZS5tZXRhcy5tYXAobSA9PiBtLnBoeF9yZWYpXG4gICAgICAgIGxldCBjdXJSZWZzID0gY3VycmVudFByZXNlbmNlLm1ldGFzLm1hcChtID0+IG0ucGh4X3JlZilcbiAgICAgICAgbGV0IGpvaW5lZE1ldGFzID0gbmV3UHJlc2VuY2UubWV0YXMuZmlsdGVyKG0gPT4gY3VyUmVmcy5pbmRleE9mKG0ucGh4X3JlZikgPCAwKVxuICAgICAgICBsZXQgbGVmdE1ldGFzID0gY3VycmVudFByZXNlbmNlLm1ldGFzLmZpbHRlcihtID0+IG5ld1JlZnMuaW5kZXhPZihtLnBoeF9yZWYpIDwgMClcbiAgICAgICAgaWYoam9pbmVkTWV0YXMubGVuZ3RoID4gMCl7XG4gICAgICAgICAgam9pbnNba2V5XSA9IG5ld1ByZXNlbmNlXG4gICAgICAgICAgam9pbnNba2V5XS5tZXRhcyA9IGpvaW5lZE1ldGFzXG4gICAgICAgIH1cbiAgICAgICAgaWYobGVmdE1ldGFzLmxlbmd0aCA+IDApe1xuICAgICAgICAgIGxlYXZlc1trZXldID0gdGhpcy5jbG9uZShjdXJyZW50UHJlc2VuY2UpXG4gICAgICAgICAgbGVhdmVzW2tleV0ubWV0YXMgPSBsZWZ0TWV0YXNcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgam9pbnNba2V5XSA9IG5ld1ByZXNlbmNlXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gdGhpcy5zeW5jRGlmZihzdGF0ZSwge2pvaW5zOiBqb2lucywgbGVhdmVzOiBsZWF2ZXN9LCBvbkpvaW4sIG9uTGVhdmUpXG4gIH1cblxuICAvKipcbiAgICpcbiAgICogVXNlZCB0byBzeW5jIGEgZGlmZiBvZiBwcmVzZW5jZSBqb2luIGFuZCBsZWF2ZVxuICAgKiBldmVudHMgZnJvbSB0aGUgc2VydmVyLCBhcyB0aGV5IGhhcHBlbi4gTGlrZSBgc3luY1N0YXRlYCwgYHN5bmNEaWZmYFxuICAgKiBhY2NlcHRzIG9wdGlvbmFsIGBvbkpvaW5gIGFuZCBgb25MZWF2ZWAgY2FsbGJhY2tzIHRvIHJlYWN0IHRvIGEgdXNlclxuICAgKiBqb2luaW5nIG9yIGxlYXZpbmcgZnJvbSBhIGRldmljZS5cbiAgICpcbiAgICogQHJldHVybnMge1ByZXNlbmNlfVxuICAgKi9cbiAgc3RhdGljIHN5bmNEaWZmKHN0YXRlLCBkaWZmLCBvbkpvaW4sIG9uTGVhdmUpe1xuICAgIGxldCB7am9pbnMsIGxlYXZlc30gPSB0aGlzLmNsb25lKGRpZmYpXG4gICAgaWYoIW9uSm9pbil7IG9uSm9pbiA9IGZ1bmN0aW9uICgpeyB9IH1cbiAgICBpZighb25MZWF2ZSl7IG9uTGVhdmUgPSBmdW5jdGlvbiAoKXsgfSB9XG5cbiAgICB0aGlzLm1hcChqb2lucywgKGtleSwgbmV3UHJlc2VuY2UpID0+IHtcbiAgICAgIGxldCBjdXJyZW50UHJlc2VuY2UgPSBzdGF0ZVtrZXldXG4gICAgICBzdGF0ZVtrZXldID0gdGhpcy5jbG9uZShuZXdQcmVzZW5jZSlcbiAgICAgIGlmKGN1cnJlbnRQcmVzZW5jZSl7XG4gICAgICAgIGxldCBqb2luZWRSZWZzID0gc3RhdGVba2V5XS5tZXRhcy5tYXAobSA9PiBtLnBoeF9yZWYpXG4gICAgICAgIGxldCBjdXJNZXRhcyA9IGN1cnJlbnRQcmVzZW5jZS5tZXRhcy5maWx0ZXIobSA9PiBqb2luZWRSZWZzLmluZGV4T2YobS5waHhfcmVmKSA8IDApXG4gICAgICAgIHN0YXRlW2tleV0ubWV0YXMudW5zaGlmdCguLi5jdXJNZXRhcylcbiAgICAgIH1cbiAgICAgIG9uSm9pbihrZXksIGN1cnJlbnRQcmVzZW5jZSwgbmV3UHJlc2VuY2UpXG4gICAgfSlcbiAgICB0aGlzLm1hcChsZWF2ZXMsIChrZXksIGxlZnRQcmVzZW5jZSkgPT4ge1xuICAgICAgbGV0IGN1cnJlbnRQcmVzZW5jZSA9IHN0YXRlW2tleV1cbiAgICAgIGlmKCFjdXJyZW50UHJlc2VuY2UpeyByZXR1cm4gfVxuICAgICAgbGV0IHJlZnNUb1JlbW92ZSA9IGxlZnRQcmVzZW5jZS5tZXRhcy5tYXAobSA9PiBtLnBoeF9yZWYpXG4gICAgICBjdXJyZW50UHJlc2VuY2UubWV0YXMgPSBjdXJyZW50UHJlc2VuY2UubWV0YXMuZmlsdGVyKHAgPT4ge1xuICAgICAgICByZXR1cm4gcmVmc1RvUmVtb3ZlLmluZGV4T2YocC5waHhfcmVmKSA8IDBcbiAgICAgIH0pXG4gICAgICBvbkxlYXZlKGtleSwgY3VycmVudFByZXNlbmNlLCBsZWZ0UHJlc2VuY2UpXG4gICAgICBpZihjdXJyZW50UHJlc2VuY2UubWV0YXMubGVuZ3RoID09PSAwKXtcbiAgICAgICAgZGVsZXRlIHN0YXRlW2tleV1cbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiBzdGF0ZVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGFycmF5IG9mIHByZXNlbmNlcywgd2l0aCBzZWxlY3RlZCBtZXRhZGF0YS5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IHByZXNlbmNlc1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjaG9vc2VyXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcmVzZW5jZX1cbiAgICovXG4gIHN0YXRpYyBsaXN0KHByZXNlbmNlcywgY2hvb3Nlcil7XG4gICAgaWYoIWNob29zZXIpeyBjaG9vc2VyID0gZnVuY3Rpb24gKGtleSwgcHJlcyl7IHJldHVybiBwcmVzIH0gfVxuXG4gICAgcmV0dXJuIHRoaXMubWFwKHByZXNlbmNlcywgKGtleSwgcHJlc2VuY2UpID0+IHtcbiAgICAgIHJldHVybiBjaG9vc2VyKGtleSwgcHJlc2VuY2UpXG4gICAgfSlcbiAgfVxuXG4gIC8vIHByaXZhdGVcblxuICBzdGF0aWMgbWFwKG9iaiwgZnVuYyl7XG4gICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG9iaikubWFwKGtleSA9PiBmdW5jKGtleSwgb2JqW2tleV0pKVxuICB9XG5cbiAgc3RhdGljIGNsb25lKG9iail7IHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9iaikpIH1cbn1cbiIsICIvKiBUaGUgZGVmYXVsdCBzZXJpYWxpemVyIGZvciBlbmNvZGluZyBhbmQgZGVjb2RpbmcgbWVzc2FnZXMgKi9cbmltcG9ydCB7XG4gIENIQU5ORUxfRVZFTlRTXG59IGZyb20gXCIuL2NvbnN0YW50c1wiXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgSEVBREVSX0xFTkdUSDogMSxcbiAgTUVUQV9MRU5HVEg6IDQsXG4gIEtJTkRTOiB7cHVzaDogMCwgcmVwbHk6IDEsIGJyb2FkY2FzdDogMn0sXG5cbiAgZW5jb2RlKG1zZywgY2FsbGJhY2spe1xuICAgIGlmKG1zZy5wYXlsb2FkLmNvbnN0cnVjdG9yID09PSBBcnJheUJ1ZmZlcil7XG4gICAgICByZXR1cm4gY2FsbGJhY2sodGhpcy5iaW5hcnlFbmNvZGUobXNnKSlcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHBheWxvYWQgPSBbbXNnLmpvaW5fcmVmLCBtc2cucmVmLCBtc2cudG9waWMsIG1zZy5ldmVudCwgbXNnLnBheWxvYWRdXG4gICAgICByZXR1cm4gY2FsbGJhY2soSlNPTi5zdHJpbmdpZnkocGF5bG9hZCkpXG4gICAgfVxuICB9LFxuXG4gIGRlY29kZShyYXdQYXlsb2FkLCBjYWxsYmFjayl7XG4gICAgaWYocmF3UGF5bG9hZC5jb25zdHJ1Y3RvciA9PT0gQXJyYXlCdWZmZXIpe1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKHRoaXMuYmluYXJ5RGVjb2RlKHJhd1BheWxvYWQpKVxuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgW2pvaW5fcmVmLCByZWYsIHRvcGljLCBldmVudCwgcGF5bG9hZF0gPSBKU09OLnBhcnNlKHJhd1BheWxvYWQpXG4gICAgICByZXR1cm4gY2FsbGJhY2soe2pvaW5fcmVmLCByZWYsIHRvcGljLCBldmVudCwgcGF5bG9hZH0pXG4gICAgfVxuICB9LFxuXG4gIC8vIHByaXZhdGVcblxuICBiaW5hcnlFbmNvZGUobWVzc2FnZSl7XG4gICAgbGV0IHtqb2luX3JlZiwgcmVmLCBldmVudCwgdG9waWMsIHBheWxvYWR9ID0gbWVzc2FnZVxuICAgIGxldCBtZXRhTGVuZ3RoID0gdGhpcy5NRVRBX0xFTkdUSCArIGpvaW5fcmVmLmxlbmd0aCArIHJlZi5sZW5ndGggKyB0b3BpYy5sZW5ndGggKyBldmVudC5sZW5ndGhcbiAgICBsZXQgaGVhZGVyID0gbmV3IEFycmF5QnVmZmVyKHRoaXMuSEVBREVSX0xFTkdUSCArIG1ldGFMZW5ndGgpXG4gICAgbGV0IHZpZXcgPSBuZXcgRGF0YVZpZXcoaGVhZGVyKVxuICAgIGxldCBvZmZzZXQgPSAwXG5cbiAgICB2aWV3LnNldFVpbnQ4KG9mZnNldCsrLCB0aGlzLktJTkRTLnB1c2gpIC8vIGtpbmRcbiAgICB2aWV3LnNldFVpbnQ4KG9mZnNldCsrLCBqb2luX3JlZi5sZW5ndGgpXG4gICAgdmlldy5zZXRVaW50OChvZmZzZXQrKywgcmVmLmxlbmd0aClcbiAgICB2aWV3LnNldFVpbnQ4KG9mZnNldCsrLCB0b3BpYy5sZW5ndGgpXG4gICAgdmlldy5zZXRVaW50OChvZmZzZXQrKywgZXZlbnQubGVuZ3RoKVxuICAgIEFycmF5LmZyb20oam9pbl9yZWYsIGNoYXIgPT4gdmlldy5zZXRVaW50OChvZmZzZXQrKywgY2hhci5jaGFyQ29kZUF0KDApKSlcbiAgICBBcnJheS5mcm9tKHJlZiwgY2hhciA9PiB2aWV3LnNldFVpbnQ4KG9mZnNldCsrLCBjaGFyLmNoYXJDb2RlQXQoMCkpKVxuICAgIEFycmF5LmZyb20odG9waWMsIGNoYXIgPT4gdmlldy5zZXRVaW50OChvZmZzZXQrKywgY2hhci5jaGFyQ29kZUF0KDApKSlcbiAgICBBcnJheS5mcm9tKGV2ZW50LCBjaGFyID0+IHZpZXcuc2V0VWludDgob2Zmc2V0KyssIGNoYXIuY2hhckNvZGVBdCgwKSkpXG5cbiAgICB2YXIgY29tYmluZWQgPSBuZXcgVWludDhBcnJheShoZWFkZXIuYnl0ZUxlbmd0aCArIHBheWxvYWQuYnl0ZUxlbmd0aClcbiAgICBjb21iaW5lZC5zZXQobmV3IFVpbnQ4QXJyYXkoaGVhZGVyKSwgMClcbiAgICBjb21iaW5lZC5zZXQobmV3IFVpbnQ4QXJyYXkocGF5bG9hZCksIGhlYWRlci5ieXRlTGVuZ3RoKVxuXG4gICAgcmV0dXJuIGNvbWJpbmVkLmJ1ZmZlclxuICB9LFxuXG4gIGJpbmFyeURlY29kZShidWZmZXIpe1xuICAgIGxldCB2aWV3ID0gbmV3IERhdGFWaWV3KGJ1ZmZlcilcbiAgICBsZXQga2luZCA9IHZpZXcuZ2V0VWludDgoMClcbiAgICBsZXQgZGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigpXG4gICAgc3dpdGNoKGtpbmQpe1xuICAgICAgY2FzZSB0aGlzLktJTkRTLnB1c2g6IHJldHVybiB0aGlzLmRlY29kZVB1c2goYnVmZmVyLCB2aWV3LCBkZWNvZGVyKVxuICAgICAgY2FzZSB0aGlzLktJTkRTLnJlcGx5OiByZXR1cm4gdGhpcy5kZWNvZGVSZXBseShidWZmZXIsIHZpZXcsIGRlY29kZXIpXG4gICAgICBjYXNlIHRoaXMuS0lORFMuYnJvYWRjYXN0OiByZXR1cm4gdGhpcy5kZWNvZGVCcm9hZGNhc3QoYnVmZmVyLCB2aWV3LCBkZWNvZGVyKVxuICAgIH1cbiAgfSxcblxuICBkZWNvZGVQdXNoKGJ1ZmZlciwgdmlldywgZGVjb2Rlcil7XG4gICAgbGV0IGpvaW5SZWZTaXplID0gdmlldy5nZXRVaW50OCgxKVxuICAgIGxldCB0b3BpY1NpemUgPSB2aWV3LmdldFVpbnQ4KDIpXG4gICAgbGV0IGV2ZW50U2l6ZSA9IHZpZXcuZ2V0VWludDgoMylcbiAgICBsZXQgb2Zmc2V0ID0gdGhpcy5IRUFERVJfTEVOR1RIICsgdGhpcy5NRVRBX0xFTkdUSCAtIDEgLy8gcHVzaGVzIGhhdmUgbm8gcmVmXG4gICAgbGV0IGpvaW5SZWYgPSBkZWNvZGVyLmRlY29kZShidWZmZXIuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyBqb2luUmVmU2l6ZSkpXG4gICAgb2Zmc2V0ID0gb2Zmc2V0ICsgam9pblJlZlNpemVcbiAgICBsZXQgdG9waWMgPSBkZWNvZGVyLmRlY29kZShidWZmZXIuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyB0b3BpY1NpemUpKVxuICAgIG9mZnNldCA9IG9mZnNldCArIHRvcGljU2l6ZVxuICAgIGxldCBldmVudCA9IGRlY29kZXIuZGVjb2RlKGJ1ZmZlci5zbGljZShvZmZzZXQsIG9mZnNldCArIGV2ZW50U2l6ZSkpXG4gICAgb2Zmc2V0ID0gb2Zmc2V0ICsgZXZlbnRTaXplXG4gICAgbGV0IGRhdGEgPSBidWZmZXIuc2xpY2Uob2Zmc2V0LCBidWZmZXIuYnl0ZUxlbmd0aClcbiAgICByZXR1cm4ge2pvaW5fcmVmOiBqb2luUmVmLCByZWY6IG51bGwsIHRvcGljOiB0b3BpYywgZXZlbnQ6IGV2ZW50LCBwYXlsb2FkOiBkYXRhfVxuICB9LFxuXG4gIGRlY29kZVJlcGx5KGJ1ZmZlciwgdmlldywgZGVjb2Rlcil7XG4gICAgbGV0IGpvaW5SZWZTaXplID0gdmlldy5nZXRVaW50OCgxKVxuICAgIGxldCByZWZTaXplID0gdmlldy5nZXRVaW50OCgyKVxuICAgIGxldCB0b3BpY1NpemUgPSB2aWV3LmdldFVpbnQ4KDMpXG4gICAgbGV0IGV2ZW50U2l6ZSA9IHZpZXcuZ2V0VWludDgoNClcbiAgICBsZXQgb2Zmc2V0ID0gdGhpcy5IRUFERVJfTEVOR1RIICsgdGhpcy5NRVRBX0xFTkdUSFxuICAgIGxldCBqb2luUmVmID0gZGVjb2Rlci5kZWNvZGUoYnVmZmVyLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgam9pblJlZlNpemUpKVxuICAgIG9mZnNldCA9IG9mZnNldCArIGpvaW5SZWZTaXplXG4gICAgbGV0IHJlZiA9IGRlY29kZXIuZGVjb2RlKGJ1ZmZlci5zbGljZShvZmZzZXQsIG9mZnNldCArIHJlZlNpemUpKVxuICAgIG9mZnNldCA9IG9mZnNldCArIHJlZlNpemVcbiAgICBsZXQgdG9waWMgPSBkZWNvZGVyLmRlY29kZShidWZmZXIuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyB0b3BpY1NpemUpKVxuICAgIG9mZnNldCA9IG9mZnNldCArIHRvcGljU2l6ZVxuICAgIGxldCBldmVudCA9IGRlY29kZXIuZGVjb2RlKGJ1ZmZlci5zbGljZShvZmZzZXQsIG9mZnNldCArIGV2ZW50U2l6ZSkpXG4gICAgb2Zmc2V0ID0gb2Zmc2V0ICsgZXZlbnRTaXplXG4gICAgbGV0IGRhdGEgPSBidWZmZXIuc2xpY2Uob2Zmc2V0LCBidWZmZXIuYnl0ZUxlbmd0aClcbiAgICBsZXQgcGF5bG9hZCA9IHtzdGF0dXM6IGV2ZW50LCByZXNwb25zZTogZGF0YX1cbiAgICByZXR1cm4ge2pvaW5fcmVmOiBqb2luUmVmLCByZWY6IHJlZiwgdG9waWM6IHRvcGljLCBldmVudDogQ0hBTk5FTF9FVkVOVFMucmVwbHksIHBheWxvYWQ6IHBheWxvYWR9XG4gIH0sXG5cbiAgZGVjb2RlQnJvYWRjYXN0KGJ1ZmZlciwgdmlldywgZGVjb2Rlcil7XG4gICAgbGV0IHRvcGljU2l6ZSA9IHZpZXcuZ2V0VWludDgoMSlcbiAgICBsZXQgZXZlbnRTaXplID0gdmlldy5nZXRVaW50OCgyKVxuICAgIGxldCBvZmZzZXQgPSB0aGlzLkhFQURFUl9MRU5HVEggKyAyXG4gICAgbGV0IHRvcGljID0gZGVjb2Rlci5kZWNvZGUoYnVmZmVyLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgdG9waWNTaXplKSlcbiAgICBvZmZzZXQgPSBvZmZzZXQgKyB0b3BpY1NpemVcbiAgICBsZXQgZXZlbnQgPSBkZWNvZGVyLmRlY29kZShidWZmZXIuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyBldmVudFNpemUpKVxuICAgIG9mZnNldCA9IG9mZnNldCArIGV2ZW50U2l6ZVxuICAgIGxldCBkYXRhID0gYnVmZmVyLnNsaWNlKG9mZnNldCwgYnVmZmVyLmJ5dGVMZW5ndGgpXG5cbiAgICByZXR1cm4ge2pvaW5fcmVmOiBudWxsLCByZWY6IG51bGwsIHRvcGljOiB0b3BpYywgZXZlbnQ6IGV2ZW50LCBwYXlsb2FkOiBkYXRhfVxuICB9XG59XG4iLCAiaW1wb3J0IHtcbiAgZ2xvYmFsLFxuICBwaHhXaW5kb3csXG4gIENIQU5ORUxfRVZFTlRTLFxuICBERUZBVUxUX1RJTUVPVVQsXG4gIERFRkFVTFRfVlNOLFxuICBTT0NLRVRfU1RBVEVTLFxuICBUUkFOU1BPUlRTLFxuICBXU19DTE9TRV9OT1JNQUxcbn0gZnJvbSBcIi4vY29uc3RhbnRzXCJcblxuaW1wb3J0IHtcbiAgY2xvc3VyZVxufSBmcm9tIFwiLi91dGlsc1wiXG5cbmltcG9ydCBBamF4IGZyb20gXCIuL2FqYXhcIlxuaW1wb3J0IENoYW5uZWwgZnJvbSBcIi4vY2hhbm5lbFwiXG5pbXBvcnQgTG9uZ1BvbGwgZnJvbSBcIi4vbG9uZ3BvbGxcIlxuaW1wb3J0IFNlcmlhbGl6ZXIgZnJvbSBcIi4vc2VyaWFsaXplclwiXG5pbXBvcnQgVGltZXIgZnJvbSBcIi4vdGltZXJcIlxuXG4vKiogSW5pdGlhbGl6ZXMgdGhlIFNvY2tldCAqXG4gKlxuICogRm9yIElFOCBzdXBwb3J0IHVzZSBhbiBFUzUtc2hpbSAoaHR0cHM6Ly9naXRodWIuY29tL2VzLXNoaW1zL2VzNS1zaGltKVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBlbmRQb2ludCAtIFRoZSBzdHJpbmcgV2ViU29ja2V0IGVuZHBvaW50LCBpZSwgYFwid3M6Ly9leGFtcGxlLmNvbS9zb2NrZXRcImAsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYFwid3NzOi8vZXhhbXBsZS5jb21cImBcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgXCIvc29ja2V0XCJgIChpbmhlcml0ZWQgaG9zdCAmIHByb3RvY29sKVxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRzXSAtIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRzLnRyYW5zcG9ydF0gLSBUaGUgV2Vic29ja2V0IFRyYW5zcG9ydCwgZm9yIGV4YW1wbGUgV2ViU29ja2V0IG9yIFBob2VuaXguTG9uZ1BvbGwuXG4gKlxuICogRGVmYXVsdHMgdG8gV2ViU29ja2V0IHdpdGggYXV0b21hdGljIExvbmdQb2xsIGZhbGxiYWNrLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdHMuZW5jb2RlXSAtIFRoZSBmdW5jdGlvbiB0byBlbmNvZGUgb3V0Z29pbmcgbWVzc2FnZXMuXG4gKlxuICogRGVmYXVsdHMgdG8gSlNPTiBlbmNvZGVyLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRzLmRlY29kZV0gLSBUaGUgZnVuY3Rpb24gdG8gZGVjb2RlIGluY29taW5nIG1lc3NhZ2VzLlxuICpcbiAqIERlZmF1bHRzIHRvIEpTT046XG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogKHBheWxvYWQsIGNhbGxiYWNrKSA9PiBjYWxsYmFjayhKU09OLnBhcnNlKHBheWxvYWQpKVxuICogYGBgXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnRpbWVvdXRdIC0gVGhlIGRlZmF1bHQgdGltZW91dCBpbiBtaWxsaXNlY29uZHMgdG8gdHJpZ2dlciBwdXNoIHRpbWVvdXRzLlxuICpcbiAqIERlZmF1bHRzIGBERUZBVUxUX1RJTUVPVVRgXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdHMuaGVhcnRiZWF0SW50ZXJ2YWxNc10gLSBUaGUgbWlsbGlzZWMgaW50ZXJ2YWwgdG8gc2VuZCBhIGhlYXJ0YmVhdCBtZXNzYWdlXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdHMucmVjb25uZWN0QWZ0ZXJNc10gLSBUaGUgb3B0aW9uYWwgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBtaWxsc2VjXG4gKiBzb2NrZXQgcmVjb25uZWN0IGludGVydmFsLlxuICpcbiAqIERlZmF1bHRzIHRvIHN0ZXBwZWQgYmFja29mZiBvZjpcbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBmdW5jdGlvbih0cmllcyl7XG4gKiAgIHJldHVybiBbMTAsIDUwLCAxMDAsIDE1MCwgMjAwLCAyNTAsIDUwMCwgMTAwMCwgMjAwMF1bdHJpZXMgLSAxXSB8fCA1MDAwXG4gKiB9XG4gKiBgYGBgXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnJlam9pbkFmdGVyTXNdIC0gVGhlIG9wdGlvbmFsIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgbWlsbHNlY1xuICogcmVqb2luIGludGVydmFsIGZvciBpbmRpdmlkdWFsIGNoYW5uZWxzLlxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIGZ1bmN0aW9uKHRyaWVzKXtcbiAqICAgcmV0dXJuIFsxMDAwLCAyMDAwLCA1MDAwXVt0cmllcyAtIDFdIHx8IDEwMDAwXG4gKiB9XG4gKiBgYGBgXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdHMubG9nZ2VyXSAtIFRoZSBvcHRpb25hbCBmdW5jdGlvbiBmb3Igc3BlY2lhbGl6ZWQgbG9nZ2luZywgaWU6XG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogZnVuY3Rpb24oa2luZCwgbXNnLCBkYXRhKSB7XG4gKiAgIGNvbnNvbGUubG9nKGAke2tpbmR9OiAke21zZ31gLCBkYXRhKVxuICogfVxuICogYGBgXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmxvbmdwb2xsZXJUaW1lb3V0XSAtIFRoZSBtYXhpbXVtIHRpbWVvdXQgb2YgYSBsb25nIHBvbGwgQUpBWCByZXF1ZXN0LlxuICpcbiAqIERlZmF1bHRzIHRvIDIwcyAoZG91YmxlIHRoZSBzZXJ2ZXIgbG9uZyBwb2xsIHRpbWVyKS5cbiAqXG4gKiBAcGFyYW0geyhPYmplY3R8ZnVuY3Rpb24pfSBbb3B0cy5wYXJhbXNdIC0gVGhlIG9wdGlvbmFsIHBhcmFtcyB0byBwYXNzIHdoZW4gY29ubmVjdGluZ1xuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLmJpbmFyeVR5cGVdIC0gVGhlIGJpbmFyeSB0eXBlIHRvIHVzZSBmb3IgYmluYXJ5IFdlYlNvY2tldCBmcmFtZXMuXG4gKlxuICogRGVmYXVsdHMgdG8gXCJhcnJheWJ1ZmZlclwiXG4gKlxuICogQHBhcmFtIHt2c259IFtvcHRzLnZzbl0gLSBUaGUgc2VyaWFsaXplcidzIHByb3RvY29sIHZlcnNpb24gdG8gc2VuZCBvbiBjb25uZWN0LlxuICpcbiAqIERlZmF1bHRzIHRvIERFRkFVTFRfVlNOLlxuKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNvY2tldCB7XG4gIGNvbnN0cnVjdG9yKGVuZFBvaW50LCBvcHRzID0ge30pe1xuICAgIHRoaXMuc3RhdGVDaGFuZ2VDYWxsYmFja3MgPSB7b3BlbjogW10sIGNsb3NlOiBbXSwgZXJyb3I6IFtdLCBtZXNzYWdlOiBbXX1cbiAgICB0aGlzLmNoYW5uZWxzID0gW11cbiAgICB0aGlzLnNlbmRCdWZmZXIgPSBbXVxuICAgIHRoaXMucmVmID0gMFxuICAgIHRoaXMudGltZW91dCA9IG9wdHMudGltZW91dCB8fCBERUZBVUxUX1RJTUVPVVRcbiAgICB0aGlzLnRyYW5zcG9ydCA9IG9wdHMudHJhbnNwb3J0IHx8IGdsb2JhbC5XZWJTb2NrZXQgfHwgTG9uZ1BvbGxcbiAgICB0aGlzLmVzdGFibGlzaGVkQ29ubmVjdGlvbnMgPSAwXG4gICAgdGhpcy5kZWZhdWx0RW5jb2RlciA9IFNlcmlhbGl6ZXIuZW5jb2RlLmJpbmQoU2VyaWFsaXplcilcbiAgICB0aGlzLmRlZmF1bHREZWNvZGVyID0gU2VyaWFsaXplci5kZWNvZGUuYmluZChTZXJpYWxpemVyKVxuICAgIHRoaXMuY2xvc2VXYXNDbGVhbiA9IGZhbHNlXG4gICAgdGhpcy5iaW5hcnlUeXBlID0gb3B0cy5iaW5hcnlUeXBlIHx8IFwiYXJyYXlidWZmZXJcIlxuICAgIHRoaXMuY29ubmVjdENsb2NrID0gMVxuICAgIGlmKHRoaXMudHJhbnNwb3J0ICE9PSBMb25nUG9sbCl7XG4gICAgICB0aGlzLmVuY29kZSA9IG9wdHMuZW5jb2RlIHx8IHRoaXMuZGVmYXVsdEVuY29kZXJcbiAgICAgIHRoaXMuZGVjb2RlID0gb3B0cy5kZWNvZGUgfHwgdGhpcy5kZWZhdWx0RGVjb2RlclxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmVuY29kZSA9IHRoaXMuZGVmYXVsdEVuY29kZXJcbiAgICAgIHRoaXMuZGVjb2RlID0gdGhpcy5kZWZhdWx0RGVjb2RlclxuICAgIH1cbiAgICBsZXQgYXdhaXRpbmdDb25uZWN0aW9uT25QYWdlU2hvdyA9IG51bGxcbiAgICBpZihwaHhXaW5kb3cgJiYgcGh4V2luZG93LmFkZEV2ZW50TGlzdGVuZXIpe1xuICAgICAgcGh4V2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwYWdlaGlkZVwiLCBfZSA9PiB7XG4gICAgICAgIGlmKHRoaXMuY29ubil7XG4gICAgICAgICAgdGhpcy5kaXNjb25uZWN0KClcbiAgICAgICAgICBhd2FpdGluZ0Nvbm5lY3Rpb25PblBhZ2VTaG93ID0gdGhpcy5jb25uZWN0Q2xvY2tcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIHBoeFdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicGFnZXNob3dcIiwgX2UgPT4ge1xuICAgICAgICBpZihhd2FpdGluZ0Nvbm5lY3Rpb25PblBhZ2VTaG93ID09PSB0aGlzLmNvbm5lY3RDbG9jayl7XG4gICAgICAgICAgYXdhaXRpbmdDb25uZWN0aW9uT25QYWdlU2hvdyA9IG51bGxcbiAgICAgICAgICB0aGlzLmNvbm5lY3QoKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgICB0aGlzLmhlYXJ0YmVhdEludGVydmFsTXMgPSBvcHRzLmhlYXJ0YmVhdEludGVydmFsTXMgfHwgMzAwMDBcbiAgICB0aGlzLnJlam9pbkFmdGVyTXMgPSAodHJpZXMpID0+IHtcbiAgICAgIGlmKG9wdHMucmVqb2luQWZ0ZXJNcyl7XG4gICAgICAgIHJldHVybiBvcHRzLnJlam9pbkFmdGVyTXModHJpZXMpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gWzEwMDAsIDIwMDAsIDUwMDBdW3RyaWVzIC0gMV0gfHwgMTAwMDBcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5yZWNvbm5lY3RBZnRlck1zID0gKHRyaWVzKSA9PiB7XG4gICAgICBpZihvcHRzLnJlY29ubmVjdEFmdGVyTXMpe1xuICAgICAgICByZXR1cm4gb3B0cy5yZWNvbm5lY3RBZnRlck1zKHRyaWVzKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFsxMCwgNTAsIDEwMCwgMTUwLCAyMDAsIDI1MCwgNTAwLCAxMDAwLCAyMDAwXVt0cmllcyAtIDFdIHx8IDUwMDBcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5sb2dnZXIgPSBvcHRzLmxvZ2dlciB8fCBudWxsXG4gICAgdGhpcy5sb25ncG9sbGVyVGltZW91dCA9IG9wdHMubG9uZ3BvbGxlclRpbWVvdXQgfHwgMjAwMDBcbiAgICB0aGlzLnBhcmFtcyA9IGNsb3N1cmUob3B0cy5wYXJhbXMgfHwge30pXG4gICAgdGhpcy5lbmRQb2ludCA9IGAke2VuZFBvaW50fS8ke1RSQU5TUE9SVFMud2Vic29ja2V0fWBcbiAgICB0aGlzLnZzbiA9IG9wdHMudnNuIHx8IERFRkFVTFRfVlNOXG4gICAgdGhpcy5oZWFydGJlYXRUaW1lciA9IG51bGxcbiAgICB0aGlzLnBlbmRpbmdIZWFydGJlYXRSZWYgPSBudWxsXG4gICAgdGhpcy5yZWNvbm5lY3RUaW1lciA9IG5ldyBUaW1lcigoKSA9PiB7XG4gICAgICB0aGlzLnRlYXJkb3duKCgpID0+IHRoaXMuY29ubmVjdCgpKVxuICAgIH0sIHRoaXMucmVjb25uZWN0QWZ0ZXJNcylcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBMb25nUG9sbCB0cmFuc3BvcnQgcmVmZXJlbmNlXG4gICAqL1xuICBnZXRMb25nUG9sbFRyYW5zcG9ydCgpeyByZXR1cm4gTG9uZ1BvbGwgfVxuXG4gIC8qKlxuICAgKiBEaXNjb25uZWN0cyBhbmQgcmVwbGFjZXMgdGhlIGFjdGl2ZSB0cmFuc3BvcnRcbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gbmV3VHJhbnNwb3J0IC0gVGhlIG5ldyB0cmFuc3BvcnQgY2xhc3MgdG8gaW5zdGFudGlhdGVcbiAgICpcbiAgICovXG4gIHJlcGxhY2VUcmFuc3BvcnQobmV3VHJhbnNwb3J0KXtcbiAgICB0aGlzLmNvbm5lY3RDbG9jaysrXG4gICAgdGhpcy5jbG9zZVdhc0NsZWFuID0gdHJ1ZVxuICAgIHRoaXMucmVjb25uZWN0VGltZXIucmVzZXQoKVxuICAgIHRoaXMuc2VuZEJ1ZmZlciA9IFtdXG4gICAgaWYodGhpcy5jb25uKXtcbiAgICAgIHRoaXMuY29ubi5jbG9zZSgpXG4gICAgICB0aGlzLmNvbm4gPSBudWxsXG4gICAgfVxuICAgIHRoaXMudHJhbnNwb3J0ID0gbmV3VHJhbnNwb3J0XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgc29ja2V0IHByb3RvY29sXG4gICAqXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqL1xuICBwcm90b2NvbCgpeyByZXR1cm4gbG9jYXRpb24ucHJvdG9jb2wubWF0Y2goL15odHRwcy8pID8gXCJ3c3NcIiA6IFwid3NcIiB9XG5cbiAgLyoqXG4gICAqIFRoZSBmdWxseSBxdWFsaWZlZCBzb2NrZXQgdXJsXG4gICAqXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqL1xuICBlbmRQb2ludFVSTCgpe1xuICAgIGxldCB1cmkgPSBBamF4LmFwcGVuZFBhcmFtcyhcbiAgICAgIEFqYXguYXBwZW5kUGFyYW1zKHRoaXMuZW5kUG9pbnQsIHRoaXMucGFyYW1zKCkpLCB7dnNuOiB0aGlzLnZzbn0pXG4gICAgaWYodXJpLmNoYXJBdCgwKSAhPT0gXCIvXCIpeyByZXR1cm4gdXJpIH1cbiAgICBpZih1cmkuY2hhckF0KDEpID09PSBcIi9cIil7IHJldHVybiBgJHt0aGlzLnByb3RvY29sKCl9OiR7dXJpfWAgfVxuXG4gICAgcmV0dXJuIGAke3RoaXMucHJvdG9jb2woKX06Ly8ke2xvY2F0aW9uLmhvc3R9JHt1cml9YFxuICB9XG5cbiAgLyoqXG4gICAqIERpc2Nvbm5lY3RzIHRoZSBzb2NrZXRcbiAgICpcbiAgICogU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DbG9zZUV2ZW50I1N0YXR1c19jb2RlcyBmb3IgdmFsaWQgc3RhdHVzIGNvZGVzLlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIE9wdGlvbmFsIGNhbGxiYWNrIHdoaWNoIGlzIGNhbGxlZCBhZnRlciBzb2NrZXQgaXMgZGlzY29ubmVjdGVkLlxuICAgKiBAcGFyYW0ge2ludGVnZXJ9IGNvZGUgLSBBIHN0YXR1cyBjb2RlIGZvciBkaXNjb25uZWN0aW9uIChPcHRpb25hbCkuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByZWFzb24gLSBBIHRleHR1YWwgZGVzY3JpcHRpb24gb2YgdGhlIHJlYXNvbiB0byBkaXNjb25uZWN0LiAoT3B0aW9uYWwpXG4gICAqL1xuICBkaXNjb25uZWN0KGNhbGxiYWNrLCBjb2RlLCByZWFzb24pe1xuICAgIHRoaXMuY29ubmVjdENsb2NrKytcbiAgICB0aGlzLmNsb3NlV2FzQ2xlYW4gPSB0cnVlXG4gICAgdGhpcy5yZWNvbm5lY3RUaW1lci5yZXNldCgpXG4gICAgdGhpcy50ZWFyZG93bihjYWxsYmFjaywgY29kZSwgcmVhc29uKVxuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMgLSBUaGUgcGFyYW1zIHRvIHNlbmQgd2hlbiBjb25uZWN0aW5nLCBmb3IgZXhhbXBsZSBge3VzZXJfaWQ6IHVzZXJUb2tlbn1gXG4gICAqXG4gICAqIFBhc3NpbmcgcGFyYW1zIHRvIGNvbm5lY3QgaXMgZGVwcmVjYXRlZDsgcGFzcyB0aGVtIGluIHRoZSBTb2NrZXQgY29uc3RydWN0b3IgaW5zdGVhZDpcbiAgICogYG5ldyBTb2NrZXQoXCIvc29ja2V0XCIsIHtwYXJhbXM6IHt1c2VyX2lkOiB1c2VyVG9rZW59fSlgLlxuICAgKi9cbiAgY29ubmVjdChwYXJhbXMpe1xuICAgIGlmKHBhcmFtcyl7XG4gICAgICBjb25zb2xlICYmIGNvbnNvbGUubG9nKFwicGFzc2luZyBwYXJhbXMgdG8gY29ubmVjdCBpcyBkZXByZWNhdGVkLiBJbnN0ZWFkIHBhc3MgOnBhcmFtcyB0byB0aGUgU29ja2V0IGNvbnN0cnVjdG9yXCIpXG4gICAgICB0aGlzLnBhcmFtcyA9IGNsb3N1cmUocGFyYW1zKVxuICAgIH1cbiAgICBpZih0aGlzLmNvbm4peyByZXR1cm4gfVxuXG4gICAgdGhpcy5jb25uZWN0Q2xvY2srK1xuICAgIHRoaXMuY2xvc2VXYXNDbGVhbiA9IGZhbHNlXG4gICAgdGhpcy5jb25uID0gbmV3IHRoaXMudHJhbnNwb3J0KHRoaXMuZW5kUG9pbnRVUkwoKSlcbiAgICB0aGlzLmNvbm4uYmluYXJ5VHlwZSA9IHRoaXMuYmluYXJ5VHlwZVxuICAgIHRoaXMuY29ubi50aW1lb3V0ID0gdGhpcy5sb25ncG9sbGVyVGltZW91dFxuICAgIHRoaXMuY29ubi5vbm9wZW4gPSAoKSA9PiB0aGlzLm9uQ29ubk9wZW4oKVxuICAgIHRoaXMuY29ubi5vbmVycm9yID0gZXJyb3IgPT4gdGhpcy5vbkNvbm5FcnJvcihlcnJvcilcbiAgICB0aGlzLmNvbm4ub25tZXNzYWdlID0gZXZlbnQgPT4gdGhpcy5vbkNvbm5NZXNzYWdlKGV2ZW50KVxuICAgIHRoaXMuY29ubi5vbmNsb3NlID0gZXZlbnQgPT4gdGhpcy5vbkNvbm5DbG9zZShldmVudClcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2dzIHRoZSBtZXNzYWdlLiBPdmVycmlkZSBgdGhpcy5sb2dnZXJgIGZvciBzcGVjaWFsaXplZCBsb2dnaW5nLiBub29wcyBieSBkZWZhdWx0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBraW5kXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtc2dcbiAgICogQHBhcmFtIHtPYmplY3R9IGRhdGFcbiAgICovXG4gIGxvZyhraW5kLCBtc2csIGRhdGEpeyB0aGlzLmxvZ2dlcihraW5kLCBtc2csIGRhdGEpIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIGEgbG9nZ2VyIGhhcyBiZWVuIHNldCBvbiB0aGlzIHNvY2tldC5cbiAgICovXG4gIGhhc0xvZ2dlcigpeyByZXR1cm4gdGhpcy5sb2dnZXIgIT09IG51bGwgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgY2FsbGJhY2tzIGZvciBjb25uZWN0aW9uIG9wZW4gZXZlbnRzXG4gICAqXG4gICAqIEBleGFtcGxlIHNvY2tldC5vbk9wZW4oZnVuY3Rpb24oKXsgY29uc29sZS5pbmZvKFwidGhlIHNvY2tldCB3YXMgb3BlbmVkXCIpIH0pXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAqL1xuICBvbk9wZW4oY2FsbGJhY2spe1xuICAgIGxldCByZWYgPSB0aGlzLm1ha2VSZWYoKVxuICAgIHRoaXMuc3RhdGVDaGFuZ2VDYWxsYmFja3Mub3Blbi5wdXNoKFtyZWYsIGNhbGxiYWNrXSlcbiAgICByZXR1cm4gcmVmXG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXJzIGNhbGxiYWNrcyBmb3IgY29ubmVjdGlvbiBjbG9zZSBldmVudHNcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICovXG4gIG9uQ2xvc2UoY2FsbGJhY2spe1xuICAgIGxldCByZWYgPSB0aGlzLm1ha2VSZWYoKVxuICAgIHRoaXMuc3RhdGVDaGFuZ2VDYWxsYmFja3MuY2xvc2UucHVzaChbcmVmLCBjYWxsYmFja10pXG4gICAgcmV0dXJuIHJlZlxuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVycyBjYWxsYmFja3MgZm9yIGNvbm5lY3Rpb24gZXJyb3IgZXZlbnRzXG4gICAqXG4gICAqIEBleGFtcGxlIHNvY2tldC5vbkVycm9yKGZ1bmN0aW9uKGVycm9yKXsgYWxlcnQoXCJBbiBlcnJvciBvY2N1cnJlZFwiKSB9KVxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgKi9cbiAgb25FcnJvcihjYWxsYmFjayl7XG4gICAgbGV0IHJlZiA9IHRoaXMubWFrZVJlZigpXG4gICAgdGhpcy5zdGF0ZUNoYW5nZUNhbGxiYWNrcy5lcnJvci5wdXNoKFtyZWYsIGNhbGxiYWNrXSlcbiAgICByZXR1cm4gcmVmXG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXJzIGNhbGxiYWNrcyBmb3IgY29ubmVjdGlvbiBtZXNzYWdlIGV2ZW50c1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgKi9cbiAgb25NZXNzYWdlKGNhbGxiYWNrKXtcbiAgICBsZXQgcmVmID0gdGhpcy5tYWtlUmVmKClcbiAgICB0aGlzLnN0YXRlQ2hhbmdlQ2FsbGJhY2tzLm1lc3NhZ2UucHVzaChbcmVmLCBjYWxsYmFja10pXG4gICAgcmV0dXJuIHJlZlxuICB9XG5cbiAgLyoqXG4gICAqIFBpbmdzIHRoZSBzZXJ2ZXIgYW5kIGludm9rZXMgdGhlIGNhbGxiYWNrIHdpdGggdGhlIFJUVCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICpcbiAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBwaW5nIHdhcyBwdXNoZWQgb3IgZmFsc2UgaWYgdW5hYmxlIHRvIGJlIHB1c2hlZC5cbiAgICovXG4gIHBpbmcoY2FsbGJhY2spe1xuICAgIGlmKCF0aGlzLmlzQ29ubmVjdGVkKCkpeyByZXR1cm4gZmFsc2UgfVxuICAgIGxldCByZWYgPSB0aGlzLm1ha2VSZWYoKVxuICAgIGxldCBzdGFydFRpbWUgPSBEYXRlLm5vdygpXG4gICAgdGhpcy5wdXNoKHt0b3BpYzogXCJwaG9lbml4XCIsIGV2ZW50OiBcImhlYXJ0YmVhdFwiLCBwYXlsb2FkOiB7fSwgcmVmOiByZWZ9KVxuICAgIGxldCBvbk1zZ1JlZiA9IHRoaXMub25NZXNzYWdlKG1zZyA9PiB7XG4gICAgICBpZihtc2cucmVmID09PSByZWYpe1xuICAgICAgICB0aGlzLm9mZihbb25Nc2dSZWZdKVxuICAgICAgICBjYWxsYmFjayhEYXRlLm5vdygpIC0gc3RhcnRUaW1lKVxuICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgb25Db25uT3Blbigpe1xuICAgIGlmKHRoaXMuaGFzTG9nZ2VyKCkpIHRoaXMubG9nKFwidHJhbnNwb3J0XCIsIGBjb25uZWN0ZWQgdG8gJHt0aGlzLmVuZFBvaW50VVJMKCl9YClcbiAgICB0aGlzLmNsb3NlV2FzQ2xlYW4gPSBmYWxzZVxuICAgIHRoaXMuZXN0YWJsaXNoZWRDb25uZWN0aW9ucysrXG4gICAgdGhpcy5mbHVzaFNlbmRCdWZmZXIoKVxuICAgIHRoaXMucmVjb25uZWN0VGltZXIucmVzZXQoKVxuICAgIHRoaXMucmVzZXRIZWFydGJlYXQoKVxuICAgIHRoaXMuc3RhdGVDaGFuZ2VDYWxsYmFja3Mub3Blbi5mb3JFYWNoKChbLCBjYWxsYmFja10pID0+IGNhbGxiYWNrKCkpXG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG5cbiAgaGVhcnRiZWF0VGltZW91dCgpe1xuICAgIGlmKHRoaXMucGVuZGluZ0hlYXJ0YmVhdFJlZil7XG4gICAgICB0aGlzLnBlbmRpbmdIZWFydGJlYXRSZWYgPSBudWxsXG4gICAgICBpZih0aGlzLmhhc0xvZ2dlcigpKXsgdGhpcy5sb2coXCJ0cmFuc3BvcnRcIiwgXCJoZWFydGJlYXQgdGltZW91dC4gQXR0ZW1wdGluZyB0byByZS1lc3RhYmxpc2ggY29ubmVjdGlvblwiKSB9XG4gICAgICB0aGlzLmFibm9ybWFsQ2xvc2UoXCJoZWFydGJlYXQgdGltZW91dFwiKVxuICAgIH1cbiAgfVxuXG4gIHJlc2V0SGVhcnRiZWF0KCl7XG4gICAgaWYodGhpcy5jb25uICYmIHRoaXMuY29ubi5za2lwSGVhcnRiZWF0KXsgcmV0dXJuIH1cbiAgICB0aGlzLnBlbmRpbmdIZWFydGJlYXRSZWYgPSBudWxsXG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuaGVhcnRiZWF0VGltZXIpXG4gICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLnNlbmRIZWFydGJlYXQoKSwgdGhpcy5oZWFydGJlYXRJbnRlcnZhbE1zKVxuICB9XG5cbiAgdGVhcmRvd24oY2FsbGJhY2ssIGNvZGUsIHJlYXNvbil7XG4gICAgaWYoIXRoaXMuY29ubil7XG4gICAgICByZXR1cm4gY2FsbGJhY2sgJiYgY2FsbGJhY2soKVxuICAgIH1cblxuICAgIHRoaXMud2FpdEZvckJ1ZmZlckRvbmUoKCkgPT4ge1xuICAgICAgaWYodGhpcy5jb25uKXtcbiAgICAgICAgaWYoY29kZSl7IHRoaXMuY29ubi5jbG9zZShjb2RlLCByZWFzb24gfHwgXCJcIikgfSBlbHNlIHsgdGhpcy5jb25uLmNsb3NlKCkgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLndhaXRGb3JTb2NrZXRDbG9zZWQoKCkgPT4ge1xuICAgICAgICBpZih0aGlzLmNvbm4pe1xuICAgICAgICAgIHRoaXMuY29ubi5vbmNsb3NlID0gZnVuY3Rpb24gKCl7IH0gLy8gbm9vcFxuICAgICAgICAgIHRoaXMuY29ubiA9IG51bGxcbiAgICAgICAgfVxuXG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKClcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIHdhaXRGb3JCdWZmZXJEb25lKGNhbGxiYWNrLCB0cmllcyA9IDEpe1xuICAgIGlmKHRyaWVzID09PSA1IHx8ICF0aGlzLmNvbm4gfHwgIXRoaXMuY29ubi5idWZmZXJlZEFtb3VudCl7XG4gICAgICBjYWxsYmFjaygpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMud2FpdEZvckJ1ZmZlckRvbmUoY2FsbGJhY2ssIHRyaWVzICsgMSlcbiAgICB9LCAxNTAgKiB0cmllcylcbiAgfVxuXG4gIHdhaXRGb3JTb2NrZXRDbG9zZWQoY2FsbGJhY2ssIHRyaWVzID0gMSl7XG4gICAgaWYodHJpZXMgPT09IDUgfHwgIXRoaXMuY29ubiB8fCB0aGlzLmNvbm4ucmVhZHlTdGF0ZSA9PT0gU09DS0VUX1NUQVRFUy5jbG9zZWQpe1xuICAgICAgY2FsbGJhY2soKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLndhaXRGb3JTb2NrZXRDbG9zZWQoY2FsbGJhY2ssIHRyaWVzICsgMSlcbiAgICB9LCAxNTAgKiB0cmllcylcbiAgfVxuXG4gIG9uQ29ubkNsb3NlKGV2ZW50KXtcbiAgICBsZXQgY2xvc2VDb2RlID0gZXZlbnQgJiYgZXZlbnQuY29kZVxuICAgIGlmKHRoaXMuaGFzTG9nZ2VyKCkpIHRoaXMubG9nKFwidHJhbnNwb3J0XCIsIFwiY2xvc2VcIiwgZXZlbnQpXG4gICAgdGhpcy50cmlnZ2VyQ2hhbkVycm9yKClcbiAgICBjbGVhclRpbWVvdXQodGhpcy5oZWFydGJlYXRUaW1lcilcbiAgICBpZighdGhpcy5jbG9zZVdhc0NsZWFuICYmIGNsb3NlQ29kZSAhPT0gMTAwMCl7XG4gICAgICB0aGlzLnJlY29ubmVjdFRpbWVyLnNjaGVkdWxlVGltZW91dCgpXG4gICAgfVxuICAgIHRoaXMuc3RhdGVDaGFuZ2VDYWxsYmFja3MuY2xvc2UuZm9yRWFjaCgoWywgY2FsbGJhY2tdKSA9PiBjYWxsYmFjayhldmVudCkpXG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIG9uQ29ubkVycm9yKGVycm9yKXtcbiAgICBpZih0aGlzLmhhc0xvZ2dlcigpKSB0aGlzLmxvZyhcInRyYW5zcG9ydFwiLCBlcnJvcilcbiAgICBsZXQgdHJhbnNwb3J0QmVmb3JlID0gdGhpcy50cmFuc3BvcnRcbiAgICBsZXQgZXN0YWJsaXNoZWRCZWZvcmUgPSB0aGlzLmVzdGFibGlzaGVkQ29ubmVjdGlvbnNcbiAgICB0aGlzLnN0YXRlQ2hhbmdlQ2FsbGJhY2tzLmVycm9yLmZvckVhY2goKFssIGNhbGxiYWNrXSkgPT4ge1xuICAgICAgY2FsbGJhY2soZXJyb3IsIHRyYW5zcG9ydEJlZm9yZSwgZXN0YWJsaXNoZWRCZWZvcmUpXG4gICAgfSlcbiAgICBpZih0cmFuc3BvcnRCZWZvcmUgPT09IHRoaXMudHJhbnNwb3J0IHx8IGVzdGFibGlzaGVkQmVmb3JlID4gMCl7XG4gICAgICB0aGlzLnRyaWdnZXJDaGFuRXJyb3IoKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdHJpZ2dlckNoYW5FcnJvcigpe1xuICAgIHRoaXMuY2hhbm5lbHMuZm9yRWFjaChjaGFubmVsID0+IHtcbiAgICAgIGlmKCEoY2hhbm5lbC5pc0Vycm9yZWQoKSB8fCBjaGFubmVsLmlzTGVhdmluZygpIHx8IGNoYW5uZWwuaXNDbG9zZWQoKSkpe1xuICAgICAgICBjaGFubmVsLnRyaWdnZXIoQ0hBTk5FTF9FVkVOVFMuZXJyb3IpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cbiAgY29ubmVjdGlvblN0YXRlKCl7XG4gICAgc3dpdGNoKHRoaXMuY29ubiAmJiB0aGlzLmNvbm4ucmVhZHlTdGF0ZSl7XG4gICAgICBjYXNlIFNPQ0tFVF9TVEFURVMuY29ubmVjdGluZzogcmV0dXJuIFwiY29ubmVjdGluZ1wiXG4gICAgICBjYXNlIFNPQ0tFVF9TVEFURVMub3BlbjogcmV0dXJuIFwib3BlblwiXG4gICAgICBjYXNlIFNPQ0tFVF9TVEFURVMuY2xvc2luZzogcmV0dXJuIFwiY2xvc2luZ1wiXG4gICAgICBkZWZhdWx0OiByZXR1cm4gXCJjbG9zZWRcIlxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGlzQ29ubmVjdGVkKCl7IHJldHVybiB0aGlzLmNvbm5lY3Rpb25TdGF0ZSgpID09PSBcIm9wZW5cIiB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqXG4gICAqIEBwYXJhbSB7Q2hhbm5lbH1cbiAgICovXG4gIHJlbW92ZShjaGFubmVsKXtcbiAgICB0aGlzLm9mZihjaGFubmVsLnN0YXRlQ2hhbmdlUmVmcylcbiAgICB0aGlzLmNoYW5uZWxzID0gdGhpcy5jaGFubmVscy5maWx0ZXIoYyA9PiBjLmpvaW5SZWYoKSAhPT0gY2hhbm5lbC5qb2luUmVmKCkpXG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBgb25PcGVuYCwgYG9uQ2xvc2VgLCBgb25FcnJvcixgIGFuZCBgb25NZXNzYWdlYCByZWdpc3RyYXRpb25zLlxuICAgKlxuICAgKiBAcGFyYW0ge3JlZnN9IC0gbGlzdCBvZiByZWZzIHJldHVybmVkIGJ5IGNhbGxzIHRvXG4gICAqICAgICAgICAgICAgICAgICBgb25PcGVuYCwgYG9uQ2xvc2VgLCBgb25FcnJvcixgIGFuZCBgb25NZXNzYWdlYFxuICAgKi9cbiAgb2ZmKHJlZnMpe1xuICAgIGZvcihsZXQga2V5IGluIHRoaXMuc3RhdGVDaGFuZ2VDYWxsYmFja3Mpe1xuICAgICAgdGhpcy5zdGF0ZUNoYW5nZUNhbGxiYWNrc1trZXldID0gdGhpcy5zdGF0ZUNoYW5nZUNhbGxiYWNrc1trZXldLmZpbHRlcigoW3JlZl0pID0+IHtcbiAgICAgICAgcmV0dXJuIHJlZnMuaW5kZXhPZihyZWYpID09PSAtMVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhdGVzIGEgbmV3IGNoYW5uZWwgZm9yIHRoZSBnaXZlbiB0b3BpY1xuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdG9waWNcbiAgICogQHBhcmFtIHtPYmplY3R9IGNoYW5QYXJhbXMgLSBQYXJhbWV0ZXJzIGZvciB0aGUgY2hhbm5lbFxuICAgKiBAcmV0dXJucyB7Q2hhbm5lbH1cbiAgICovXG4gIGNoYW5uZWwodG9waWMsIGNoYW5QYXJhbXMgPSB7fSl7XG4gICAgbGV0IGNoYW4gPSBuZXcgQ2hhbm5lbCh0b3BpYywgY2hhblBhcmFtcywgdGhpcylcbiAgICB0aGlzLmNoYW5uZWxzLnB1c2goY2hhbilcbiAgICByZXR1cm4gY2hhblxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gICAqL1xuICBwdXNoKGRhdGEpe1xuICAgIGlmKHRoaXMuaGFzTG9nZ2VyKCkpe1xuICAgICAgbGV0IHt0b3BpYywgZXZlbnQsIHBheWxvYWQsIHJlZiwgam9pbl9yZWZ9ID0gZGF0YVxuICAgICAgdGhpcy5sb2coXCJwdXNoXCIsIGAke3RvcGljfSAke2V2ZW50fSAoJHtqb2luX3JlZn0sICR7cmVmfSlgLCBwYXlsb2FkKVxuICAgIH1cblxuICAgIGlmKHRoaXMuaXNDb25uZWN0ZWQoKSl7XG4gICAgICB0aGlzLmVuY29kZShkYXRhLCByZXN1bHQgPT4gdGhpcy5jb25uLnNlbmQocmVzdWx0KSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZW5kQnVmZmVyLnB1c2goKCkgPT4gdGhpcy5lbmNvZGUoZGF0YSwgcmVzdWx0ID0+IHRoaXMuY29ubi5zZW5kKHJlc3VsdCkpKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIG5leHQgbWVzc2FnZSByZWYsIGFjY291bnRpbmcgZm9yIG92ZXJmbG93c1xuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cbiAgbWFrZVJlZigpe1xuICAgIGxldCBuZXdSZWYgPSB0aGlzLnJlZiArIDFcbiAgICBpZihuZXdSZWYgPT09IHRoaXMucmVmKXsgdGhpcy5yZWYgPSAwIH0gZWxzZSB7IHRoaXMucmVmID0gbmV3UmVmIH1cblxuICAgIHJldHVybiB0aGlzLnJlZi50b1N0cmluZygpXG4gIH1cblxuICBzZW5kSGVhcnRiZWF0KCl7XG4gICAgaWYodGhpcy5wZW5kaW5nSGVhcnRiZWF0UmVmICYmICF0aGlzLmlzQ29ubmVjdGVkKCkpeyByZXR1cm4gfVxuICAgIHRoaXMucGVuZGluZ0hlYXJ0YmVhdFJlZiA9IHRoaXMubWFrZVJlZigpXG4gICAgdGhpcy5wdXNoKHt0b3BpYzogXCJwaG9lbml4XCIsIGV2ZW50OiBcImhlYXJ0YmVhdFwiLCBwYXlsb2FkOiB7fSwgcmVmOiB0aGlzLnBlbmRpbmdIZWFydGJlYXRSZWZ9KVxuICAgIHRoaXMuaGVhcnRiZWF0VGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHRoaXMuaGVhcnRiZWF0VGltZW91dCgpLCB0aGlzLmhlYXJ0YmVhdEludGVydmFsTXMpXG4gIH1cblxuICBhYm5vcm1hbENsb3NlKHJlYXNvbil7XG4gICAgdGhpcy5jbG9zZVdhc0NsZWFuID0gZmFsc2VcbiAgICBpZih0aGlzLmlzQ29ubmVjdGVkKCkpeyB0aGlzLmNvbm4uY2xvc2UoV1NfQ0xPU0VfTk9STUFMLCByZWFzb24pIH1cbiAgfVxuXG4gIGZsdXNoU2VuZEJ1ZmZlcigpe1xuICAgIGlmKHRoaXMuaXNDb25uZWN0ZWQoKSAmJiB0aGlzLnNlbmRCdWZmZXIubGVuZ3RoID4gMCl7XG4gICAgICB0aGlzLnNlbmRCdWZmZXIuZm9yRWFjaChjYWxsYmFjayA9PiBjYWxsYmFjaygpKVxuICAgICAgdGhpcy5zZW5kQnVmZmVyID0gW11cbiAgICB9XG4gIH1cblxuICBvbkNvbm5NZXNzYWdlKHJhd01lc3NhZ2Upe1xuICAgIHRoaXMuZGVjb2RlKHJhd01lc3NhZ2UuZGF0YSwgbXNnID0+IHtcbiAgICAgIGxldCB7dG9waWMsIGV2ZW50LCBwYXlsb2FkLCByZWYsIGpvaW5fcmVmfSA9IG1zZ1xuICAgICAgaWYocmVmICYmIHJlZiA9PT0gdGhpcy5wZW5kaW5nSGVhcnRiZWF0UmVmKXtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuaGVhcnRiZWF0VGltZXIpXG4gICAgICAgIHRoaXMucGVuZGluZ0hlYXJ0YmVhdFJlZiA9IG51bGxcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLnNlbmRIZWFydGJlYXQoKSwgdGhpcy5oZWFydGJlYXRJbnRlcnZhbE1zKVxuICAgICAgfVxuXG4gICAgICBpZih0aGlzLmhhc0xvZ2dlcigpKSB0aGlzLmxvZyhcInJlY2VpdmVcIiwgYCR7cGF5bG9hZC5zdGF0dXMgfHwgXCJcIn0gJHt0b3BpY30gJHtldmVudH0gJHtyZWYgJiYgXCIoXCIgKyByZWYgKyBcIilcIiB8fCBcIlwifWAsIHBheWxvYWQpXG5cbiAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLmNoYW5uZWxzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgY29uc3QgY2hhbm5lbCA9IHRoaXMuY2hhbm5lbHNbaV1cbiAgICAgICAgaWYoIWNoYW5uZWwuaXNNZW1iZXIodG9waWMsIGV2ZW50LCBwYXlsb2FkLCBqb2luX3JlZikpeyBjb250aW51ZSB9XG4gICAgICAgIGNoYW5uZWwudHJpZ2dlcihldmVudCwgcGF5bG9hZCwgcmVmLCBqb2luX3JlZilcbiAgICAgIH1cblxuICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMuc3RhdGVDaGFuZ2VDYWxsYmFja3MubWVzc2FnZS5sZW5ndGg7IGkrKyl7XG4gICAgICAgIGxldCBbLCBjYWxsYmFja10gPSB0aGlzLnN0YXRlQ2hhbmdlQ2FsbGJhY2tzLm1lc3NhZ2VbaV1cbiAgICAgICAgY2FsbGJhY2sobXNnKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBsZWF2ZU9wZW5Ub3BpYyh0b3BpYyl7XG4gICAgbGV0IGR1cENoYW5uZWwgPSB0aGlzLmNoYW5uZWxzLmZpbmQoYyA9PiBjLnRvcGljID09PSB0b3BpYyAmJiAoYy5pc0pvaW5lZCgpIHx8IGMuaXNKb2luaW5nKCkpKVxuICAgIGlmKGR1cENoYW5uZWwpe1xuICAgICAgaWYodGhpcy5oYXNMb2dnZXIoKSkgdGhpcy5sb2coXCJ0cmFuc3BvcnRcIiwgYGxlYXZpbmcgZHVwbGljYXRlIHRvcGljIFwiJHt0b3BpY31cImApXG4gICAgICBkdXBDaGFubmVsLmxlYXZlKClcbiAgICB9XG4gIH1cbn1cbiIsICJpbXBvcnQgXCJwaG9lbml4X2h0bWxcIlxuaW1wb3J0IHsgU29ja2V0LCBMb25nUG9sbCB9IGZyb20gXCJwaG9lbml4XCJcbmltcG9ydCBOUHJvZ3Jlc3MgZnJvbSBcIm5wcm9ncmVzc1wiXG5pbXBvcnQgeyBMaXZlU29ja2V0IH0gZnJvbSBcInBob2VuaXhfbGl2ZV92aWV3XCJcbmltcG9ydCBQaHhDaGFydENvbXBvbmVudCBmcm9tIFwiLi9tZXRyaWNzX2xpdmVcIlxuaW1wb3J0IFBoeFJlcXVlc3RMb2dnZXJDb29raWUgZnJvbSBcIi4vcmVxdWVzdF9sb2dnZXJfY29va2llXCJcbmltcG9ydCBQaHhSZXF1ZXN0TG9nZ2VyUXVlcnlQYXJhbWV0ZXIgZnJvbSBcIi4vcmVxdWVzdF9sb2dnZXJfcXVlcnlfcGFyYW1ldGVyXCJcbmltcG9ydCBQaHhSZXF1ZXN0TG9nZ2VyTWVzc2FnZXMgZnJvbSBcIi4vcmVxdWVzdF9sb2dnZXJfbWVzc2FnZXNcIlxuaW1wb3J0IFBoeENvbG9yQmFySGlnaGxpZ2h0IGZyb20gXCIuL2NvbG9yX2Jhcl9oaWdobGlnaHRcIlxuaW1wb3J0IFBoeFJlbWVtYmVyUmVmcmVzaCBmcm9tIFwiLi9yZW1lbWJlcl9yZWZyZXNoXCJcbmltcG9ydCB7IGxvYWRSZWZyZXNoRGF0YSB9IGZyb20gXCIuL3JlZnJlc2hcIjtcblxubGV0IEhvb2tzID0ge1xuICBQaHhDaGFydENvbXBvbmVudDogUGh4Q2hhcnRDb21wb25lbnQsXG4gIFBoeFJlcXVlc3RMb2dnZXJDb29raWU6IFBoeFJlcXVlc3RMb2dnZXJDb29raWUsXG4gIFBoeFJlcXVlc3RMb2dnZXJRdWVyeVBhcmFtZXRlcjogUGh4UmVxdWVzdExvZ2dlclF1ZXJ5UGFyYW1ldGVyLFxuICBQaHhSZXF1ZXN0TG9nZ2VyTWVzc2FnZXM6IFBoeFJlcXVlc3RMb2dnZXJNZXNzYWdlcyxcbiAgUGh4Q29sb3JCYXJIaWdobGlnaHQ6IFBoeENvbG9yQmFySGlnaGxpZ2h0LFxuICBQaHhSZW1lbWJlclJlZnJlc2g6IFBoeFJlbWVtYmVyUmVmcmVzaFxufVxuXG5sZXQgc29ja2V0UGF0aCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJodG1sXCIpLmdldEF0dHJpYnV0ZShcInBoeC1zb2NrZXRcIikgfHwgXCIvbGl2ZVwiXG5sZXQgY3NyZlRva2VuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIm1ldGFbbmFtZT0nY3NyZi10b2tlbiddXCIpLmdldEF0dHJpYnV0ZShcImNvbnRlbnRcIilcbmxldCBsaXZlU29ja2V0ID0gbmV3IExpdmVTb2NrZXQoc29ja2V0UGF0aCwgU29ja2V0LCB7XG4gIGhvb2tzOiBIb29rcyxcbiAgcGFyYW1zOiAobGl2ZVZpZXdOYW1lKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIF9jc3JmX3Rva2VuOiBjc3JmVG9rZW4sXG4gICAgICAvLyBQYXNzIHRoZSBtb3N0IHJlY2VudCByZWZyZXNoIGRhdGEgdG8gdGhlIExpdmVWaWV3IGluIGBjb25uZWN0X3BhcmFtc2BcbiAgICAgIHJlZnJlc2hfZGF0YTogbG9hZFJlZnJlc2hEYXRhKCksXG4gICAgfTtcbiAgfSxcbn0pXG5cblxuY29uc3Qgc29ja2V0ID0gbGl2ZVNvY2tldC5zb2NrZXRcbmNvbnN0IG9yaWdpbmFsT25Db25uRXJyb3IgPSBzb2NrZXQub25Db25uRXJyb3JcbmxldCBmYWxsYmFja1RvTG9uZ1BvbGwgPSB0cnVlXG5cbnNvY2tldC5vbk9wZW4oKCkgPT4ge1xuICBmYWxsYmFja1RvTG9uZ1BvbGwgPSBmYWxzZVxufSlcblxuc29ja2V0Lm9uQ29ubkVycm9yID0gKC4uLmFyZ3MpID0+IHtcbiAgaWYgKGZhbGxiYWNrVG9Mb25nUG9sbCkge1xuICAgIC8vIE5vIGxvbmdlciBmYWxsYmFjayB0byBsb25ncG9sbFxuICAgIGZhbGxiYWNrVG9Mb25nUG9sbCA9IGZhbHNlXG4gICAgLy8gY2xvc2UgdGhlIHNvY2tldCB3aXRoIGFuIGVycm9yIGNvZGVcbiAgICBzb2NrZXQuZGlzY29ubmVjdChudWxsLCAzMDAwKVxuICAgIC8vIGZhbGwgYmFjayB0byBsb25nIHBvbGxcbiAgICBzb2NrZXQudHJhbnNwb3J0ID0gTG9uZ1BvbGxcbiAgICAvLyByZW9wZW5cbiAgICBzb2NrZXQuY29ubmVjdCgpXG4gIH0gZWxzZSB7XG4gICAgb3JpZ2luYWxPbkNvbm5FcnJvci5hcHBseShzb2NrZXQsIGFyZ3MpXG4gIH1cbn1cblxuLy8gU2hvdyBwcm9ncmVzcyBiYXIgb24gbGl2ZSBuYXZpZ2F0aW9uIGFuZCBmb3JtIHN1Ym1pdHNcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicGh4OnBhZ2UtbG9hZGluZy1zdGFydFwiLCBpbmZvID0+IE5Qcm9ncmVzcy5zdGFydCgpKVxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwaHg6cGFnZS1sb2FkaW5nLXN0b3BcIiwgaW5mbyA9PiBOUHJvZ3Jlc3MuZG9uZSgpKVxuXG4vLyBjb25uZWN0IGlmIHRoZXJlIGFyZSBhbnkgTGl2ZVZpZXdzIG9uIHRoZSBwYWdlXG5saXZlU29ja2V0LmNvbm5lY3QoKVxuXG4vLyBleHBvc2UgbGl2ZVNvY2tldCBvbiB3aW5kb3cgZm9yIHdlYiBjb25zb2xlIGRlYnVnIGxvZ3MgYW5kIGxhdGVuY3kgc2ltdWxhdGlvbjpcbi8vID4+IGxpdmVTb2NrZXQuZW5hYmxlRGVidWcoKVxuLy8gPj4gbGl2ZVNvY2tldC5lbmFibGVMYXRlbmN5U2ltKDEwMDApXG53aW5kb3cubGl2ZVNvY2tldCA9IGxpdmVTb2NrZXRcbiIsICJleHBvcnQgY29uc3QgQ09OU0VDVVRJVkVfUkVMT0FEUyA9IFwiY29uc2VjdXRpdmUtcmVsb2Fkc1wiXG5leHBvcnQgY29uc3QgTUFYX1JFTE9BRFMgPSAxMFxuZXhwb3J0IGNvbnN0IFJFTE9BRF9KSVRURVJfTUlOID0gNTAwMFxuZXhwb3J0IGNvbnN0IFJFTE9BRF9KSVRURVJfTUFYID0gMTAwMDBcbmV4cG9ydCBjb25zdCBGQUlMU0FGRV9KSVRURVIgPSAzMDAwMFxuZXhwb3J0IGNvbnN0IFBIWF9FVkVOVF9DTEFTU0VTID0gW1xuICBcInBoeC1jbGljay1sb2FkaW5nXCIsIFwicGh4LWNoYW5nZS1sb2FkaW5nXCIsIFwicGh4LXN1Ym1pdC1sb2FkaW5nXCIsXG4gIFwicGh4LWtleWRvd24tbG9hZGluZ1wiLCBcInBoeC1rZXl1cC1sb2FkaW5nXCIsIFwicGh4LWJsdXItbG9hZGluZ1wiLCBcInBoeC1mb2N1cy1sb2FkaW5nXCJcbl1cbmV4cG9ydCBjb25zdCBQSFhfQ09NUE9ORU5UID0gXCJkYXRhLXBoeC1jb21wb25lbnRcIlxuZXhwb3J0IGNvbnN0IFBIWF9MSVZFX0xJTksgPSBcImRhdGEtcGh4LWxpbmtcIlxuZXhwb3J0IGNvbnN0IFBIWF9UUkFDS19TVEFUSUMgPSBcInRyYWNrLXN0YXRpY1wiXG5leHBvcnQgY29uc3QgUEhYX0xJTktfU1RBVEUgPSBcImRhdGEtcGh4LWxpbmstc3RhdGVcIlxuZXhwb3J0IGNvbnN0IFBIWF9SRUYgPSBcImRhdGEtcGh4LXJlZlwiXG5leHBvcnQgY29uc3QgUEhYX1JFRl9TUkMgPSBcImRhdGEtcGh4LXJlZi1zcmNcIlxuZXhwb3J0IGNvbnN0IFBIWF9UUkFDS19VUExPQURTID0gXCJ0cmFjay11cGxvYWRzXCJcbmV4cG9ydCBjb25zdCBQSFhfVVBMT0FEX1JFRiA9IFwiZGF0YS1waHgtdXBsb2FkLXJlZlwiXG5leHBvcnQgY29uc3QgUEhYX1BSRUZMSUdIVEVEX1JFRlMgPSBcImRhdGEtcGh4LXByZWZsaWdodGVkLXJlZnNcIlxuZXhwb3J0IGNvbnN0IFBIWF9ET05FX1JFRlMgPSBcImRhdGEtcGh4LWRvbmUtcmVmc1wiXG5leHBvcnQgY29uc3QgUEhYX0RST1BfVEFSR0VUID0gXCJkcm9wLXRhcmdldFwiXG5leHBvcnQgY29uc3QgUEhYX0FDVElWRV9FTlRSWV9SRUZTID0gXCJkYXRhLXBoeC1hY3RpdmUtcmVmc1wiXG5leHBvcnQgY29uc3QgUEhYX0xJVkVfRklMRV9VUERBVEVEID0gXCJwaHg6bGl2ZS1maWxlOnVwZGF0ZWRcIlxuZXhwb3J0IGNvbnN0IFBIWF9TS0lQID0gXCJkYXRhLXBoeC1za2lwXCJcbmV4cG9ydCBjb25zdCBQSFhfUFJVTkUgPSBcImRhdGEtcGh4LXBydW5lXCJcbmV4cG9ydCBjb25zdCBQSFhfUEFHRV9MT0FESU5HID0gXCJwYWdlLWxvYWRpbmdcIlxuZXhwb3J0IGNvbnN0IFBIWF9DT05ORUNURURfQ0xBU1MgPSBcInBoeC1jb25uZWN0ZWRcIlxuZXhwb3J0IGNvbnN0IFBIWF9ESVNDT05ORUNURURfQ0xBU1MgPSBcInBoeC1sb2FkaW5nXCJcbmV4cG9ydCBjb25zdCBQSFhfTk9fRkVFREJBQ0tfQ0xBU1MgPSBcInBoeC1uby1mZWVkYmFja1wiXG5leHBvcnQgY29uc3QgUEhYX0VSUk9SX0NMQVNTID0gXCJwaHgtZXJyb3JcIlxuZXhwb3J0IGNvbnN0IFBIWF9QQVJFTlRfSUQgPSBcImRhdGEtcGh4LXBhcmVudC1pZFwiXG5leHBvcnQgY29uc3QgUEhYX01BSU4gPSBcImRhdGEtcGh4LW1haW5cIlxuZXhwb3J0IGNvbnN0IFBIWF9ST09UX0lEID0gXCJkYXRhLXBoeC1yb290LWlkXCJcbmV4cG9ydCBjb25zdCBQSFhfVFJJR0dFUl9BQ1RJT04gPSBcInRyaWdnZXItYWN0aW9uXCJcbmV4cG9ydCBjb25zdCBQSFhfRkVFREJBQ0tfRk9SID0gXCJmZWVkYmFjay1mb3JcIlxuZXhwb3J0IGNvbnN0IFBIWF9IQVNfRk9DVVNFRCA9IFwicGh4LWhhcy1mb2N1c2VkXCJcbmV4cG9ydCBjb25zdCBGT0NVU0FCTEVfSU5QVVRTID0gW1widGV4dFwiLCBcInRleHRhcmVhXCIsIFwibnVtYmVyXCIsIFwiZW1haWxcIiwgXCJwYXNzd29yZFwiLCBcInNlYXJjaFwiLCBcInRlbFwiLCBcInVybFwiLCBcImRhdGVcIiwgXCJ0aW1lXCIsIFwiZGF0ZXRpbWUtbG9jYWxcIiwgXCJjb2xvclwiLCBcInJhbmdlXCJdXG5leHBvcnQgY29uc3QgQ0hFQ0tBQkxFX0lOUFVUUyA9IFtcImNoZWNrYm94XCIsIFwicmFkaW9cIl1cbmV4cG9ydCBjb25zdCBQSFhfSEFTX1NVQk1JVFRFRCA9IFwicGh4LWhhcy1zdWJtaXR0ZWRcIlxuZXhwb3J0IGNvbnN0IFBIWF9TRVNTSU9OID0gXCJkYXRhLXBoeC1zZXNzaW9uXCJcbmV4cG9ydCBjb25zdCBQSFhfVklFV19TRUxFQ1RPUiA9IGBbJHtQSFhfU0VTU0lPTn1dYFxuZXhwb3J0IGNvbnN0IFBIWF9TVElDS1kgPSBcImRhdGEtcGh4LXN0aWNreVwiXG5leHBvcnQgY29uc3QgUEhYX1NUQVRJQyA9IFwiZGF0YS1waHgtc3RhdGljXCJcbmV4cG9ydCBjb25zdCBQSFhfUkVBRE9OTFkgPSBcImRhdGEtcGh4LXJlYWRvbmx5XCJcbmV4cG9ydCBjb25zdCBQSFhfRElTQUJMRUQgPSBcImRhdGEtcGh4LWRpc2FibGVkXCJcbmV4cG9ydCBjb25zdCBQSFhfRElTQUJMRV9XSVRIID0gXCJkaXNhYmxlLXdpdGhcIlxuZXhwb3J0IGNvbnN0IFBIWF9ESVNBQkxFX1dJVEhfUkVTVE9SRSA9IFwiZGF0YS1waHgtZGlzYWJsZS13aXRoLXJlc3RvcmVcIlxuZXhwb3J0IGNvbnN0IFBIWF9IT09LID0gXCJob29rXCJcbmV4cG9ydCBjb25zdCBQSFhfREVCT1VOQ0UgPSBcImRlYm91bmNlXCJcbmV4cG9ydCBjb25zdCBQSFhfVEhST1RUTEUgPSBcInRocm90dGxlXCJcbmV4cG9ydCBjb25zdCBQSFhfVVBEQVRFID0gXCJ1cGRhdGVcIlxuZXhwb3J0IGNvbnN0IFBIWF9LRVkgPSBcImtleVwiXG5leHBvcnQgY29uc3QgUEhYX1BSSVZBVEUgPSBcInBoeFByaXZhdGVcIlxuZXhwb3J0IGNvbnN0IFBIWF9BVVRPX1JFQ09WRVIgPSBcImF1dG8tcmVjb3ZlclwiXG5leHBvcnQgY29uc3QgUEhYX0xWX0RFQlVHID0gXCJwaHg6bGl2ZS1zb2NrZXQ6ZGVidWdcIlxuZXhwb3J0IGNvbnN0IFBIWF9MVl9QUk9GSUxFID0gXCJwaHg6bGl2ZS1zb2NrZXQ6cHJvZmlsaW5nXCJcbmV4cG9ydCBjb25zdCBQSFhfTFZfTEFURU5DWV9TSU0gPSBcInBoeDpsaXZlLXNvY2tldDpsYXRlbmN5LXNpbVwiXG5leHBvcnQgY29uc3QgUEhYX1BST0dSRVNTID0gXCJwcm9ncmVzc1wiXG5leHBvcnQgY29uc3QgUEhYX01PVU5URUQgPSBcIm1vdW50ZWRcIlxuZXhwb3J0IGNvbnN0IExPQURFUl9USU1FT1VUID0gMVxuZXhwb3J0IGNvbnN0IEJFRk9SRV9VTkxPQURfTE9BREVSX1RJTUVPVVQgPSAyMDBcbmV4cG9ydCBjb25zdCBCSU5ESU5HX1BSRUZJWCA9IFwicGh4LVwiXG5leHBvcnQgY29uc3QgUFVTSF9USU1FT1VUID0gMzAwMDBcbmV4cG9ydCBjb25zdCBMSU5LX0hFQURFUiA9IFwieC1yZXF1ZXN0ZWQtd2l0aFwiXG5leHBvcnQgY29uc3QgUkVTUE9OU0VfVVJMX0hFQURFUiA9IFwieC1yZXNwb25zZS11cmxcIlxuZXhwb3J0IGNvbnN0IERFQk9VTkNFX1RSSUdHRVIgPSBcImRlYm91bmNlLXRyaWdnZXJcIlxuZXhwb3J0IGNvbnN0IFRIUk9UVExFRCA9IFwidGhyb3R0bGVkXCJcbmV4cG9ydCBjb25zdCBERUJPVU5DRV9QUkVWX0tFWSA9IFwiZGVib3VuY2UtcHJldi1rZXlcIlxuZXhwb3J0IGNvbnN0IERFRkFVTFRTID0ge1xuICBkZWJvdW5jZTogMzAwLFxuICB0aHJvdHRsZTogMzAwXG59XG5cbi8vIFJlbmRlcmVkXG5leHBvcnQgY29uc3QgRFlOQU1JQ1MgPSBcImRcIlxuZXhwb3J0IGNvbnN0IFNUQVRJQyA9IFwic1wiXG5leHBvcnQgY29uc3QgQ09NUE9ORU5UUyA9IFwiY1wiXG5leHBvcnQgY29uc3QgRVZFTlRTID0gXCJlXCJcbmV4cG9ydCBjb25zdCBSRVBMWSA9IFwiclwiXG5leHBvcnQgY29uc3QgVElUTEUgPSBcInRcIlxuZXhwb3J0IGNvbnN0IFRFTVBMQVRFUyA9IFwicFwiXG4iLCAiaW1wb3J0IHtcbiAgbG9nRXJyb3Jcbn0gZnJvbSBcIi4vdXRpbHNcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFbnRyeVVwbG9hZGVyIHtcbiAgY29uc3RydWN0b3IoZW50cnksIGNodW5rU2l6ZSwgbGl2ZVNvY2tldCl7XG4gICAgdGhpcy5saXZlU29ja2V0ID0gbGl2ZVNvY2tldFxuICAgIHRoaXMuZW50cnkgPSBlbnRyeVxuICAgIHRoaXMub2Zmc2V0ID0gMFxuICAgIHRoaXMuY2h1bmtTaXplID0gY2h1bmtTaXplXG4gICAgdGhpcy5jaHVua1RpbWVyID0gbnVsbFxuICAgIHRoaXMudXBsb2FkQ2hhbm5lbCA9IGxpdmVTb2NrZXQuY2hhbm5lbChgbHZ1OiR7ZW50cnkucmVmfWAsIHt0b2tlbjogZW50cnkubWV0YWRhdGEoKX0pXG4gIH1cblxuICBlcnJvcihyZWFzb24pe1xuICAgIGNsZWFyVGltZW91dCh0aGlzLmNodW5rVGltZXIpXG4gICAgdGhpcy51cGxvYWRDaGFubmVsLmxlYXZlKClcbiAgICB0aGlzLmVudHJ5LmVycm9yKHJlYXNvbilcbiAgfVxuXG4gIHVwbG9hZCgpe1xuICAgIHRoaXMudXBsb2FkQ2hhbm5lbC5vbkVycm9yKHJlYXNvbiA9PiB0aGlzLmVycm9yKHJlYXNvbikpXG4gICAgdGhpcy51cGxvYWRDaGFubmVsLmpvaW4oKVxuICAgICAgLnJlY2VpdmUoXCJva1wiLCBfZGF0YSA9PiB0aGlzLnJlYWROZXh0Q2h1bmsoKSlcbiAgICAgIC5yZWNlaXZlKFwiZXJyb3JcIiwgcmVhc29uID0+IHRoaXMuZXJyb3IocmVhc29uKSlcbiAgfVxuXG4gIGlzRG9uZSgpeyByZXR1cm4gdGhpcy5vZmZzZXQgPj0gdGhpcy5lbnRyeS5maWxlLnNpemUgfVxuXG4gIHJlYWROZXh0Q2h1bmsoKXtcbiAgICBsZXQgcmVhZGVyID0gbmV3IHdpbmRvdy5GaWxlUmVhZGVyKClcbiAgICBsZXQgYmxvYiA9IHRoaXMuZW50cnkuZmlsZS5zbGljZSh0aGlzLm9mZnNldCwgdGhpcy5jaHVua1NpemUgKyB0aGlzLm9mZnNldClcbiAgICByZWFkZXIub25sb2FkID0gKGUpID0+IHtcbiAgICAgIGlmKGUudGFyZ2V0LmVycm9yID09PSBudWxsKXtcbiAgICAgICAgdGhpcy5vZmZzZXQgKz0gZS50YXJnZXQucmVzdWx0LmJ5dGVMZW5ndGhcbiAgICAgICAgdGhpcy5wdXNoQ2h1bmsoZS50YXJnZXQucmVzdWx0KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGxvZ0Vycm9yKFwiUmVhZCBlcnJvcjogXCIgKyBlLnRhcmdldC5lcnJvcilcbiAgICAgIH1cbiAgICB9XG4gICAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGJsb2IpXG4gIH1cblxuICBwdXNoQ2h1bmsoY2h1bmspe1xuICAgIGlmKCF0aGlzLnVwbG9hZENoYW5uZWwuaXNKb2luZWQoKSl7IHJldHVybiB9XG4gICAgdGhpcy51cGxvYWRDaGFubmVsLnB1c2goXCJjaHVua1wiLCBjaHVuaylcbiAgICAgIC5yZWNlaXZlKFwib2tcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLmVudHJ5LnByb2dyZXNzKCh0aGlzLm9mZnNldCAvIHRoaXMuZW50cnkuZmlsZS5zaXplKSAqIDEwMClcbiAgICAgICAgaWYoIXRoaXMuaXNEb25lKCkpe1xuICAgICAgICAgIHRoaXMuY2h1bmtUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4gdGhpcy5yZWFkTmV4dENodW5rKCksIHRoaXMubGl2ZVNvY2tldC5nZXRMYXRlbmN5U2ltKCkgfHwgMClcbiAgICAgICAgfVxuICAgICAgfSlcbiAgfVxufVxuIiwgImltcG9ydCB7XG4gIFBIWF9WSUVXX1NFTEVDVE9SXG59IGZyb20gXCIuL2NvbnN0YW50c1wiXG5cbmltcG9ydCBFbnRyeVVwbG9hZGVyIGZyb20gXCIuL2VudHJ5X3VwbG9hZGVyXCJcblxuZXhwb3J0IGxldCBsb2dFcnJvciA9IChtc2csIG9iaikgPT4gY29uc29sZS5lcnJvciAmJiBjb25zb2xlLmVycm9yKG1zZywgb2JqKVxuXG5leHBvcnQgbGV0IGlzQ2lkID0gKGNpZCkgPT4ge1xuICBsZXQgdHlwZSA9IHR5cGVvZihjaWQpXG4gIHJldHVybiB0eXBlID09PSBcIm51bWJlclwiIHx8ICh0eXBlID09PSBcInN0cmluZ1wiICYmIC9eKDB8WzEtOV1cXGQqKSQvLnRlc3QoY2lkKSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRldGVjdER1cGxpY2F0ZUlkcygpe1xuICBsZXQgaWRzID0gbmV3IFNldCgpXG4gIGxldCBlbGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIqW2lkXVwiKVxuICBmb3IobGV0IGkgPSAwLCBsZW4gPSBlbGVtcy5sZW5ndGg7IGkgPCBsZW47IGkrKyl7XG4gICAgaWYoaWRzLmhhcyhlbGVtc1tpXS5pZCkpe1xuICAgICAgY29uc29sZS5lcnJvcihgTXVsdGlwbGUgSURzIGRldGVjdGVkOiAke2VsZW1zW2ldLmlkfS4gRW5zdXJlIHVuaXF1ZSBlbGVtZW50IGlkcy5gKVxuICAgIH0gZWxzZSB7XG4gICAgICBpZHMuYWRkKGVsZW1zW2ldLmlkKVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgbGV0IGRlYnVnID0gKHZpZXcsIGtpbmQsIG1zZywgb2JqKSA9PiB7XG4gIGlmKHZpZXcubGl2ZVNvY2tldC5pc0RlYnVnRW5hYmxlZCgpKXtcbiAgICBjb25zb2xlLmxvZyhgJHt2aWV3LmlkfSAke2tpbmR9OiAke21zZ30gLSBgLCBvYmopXG4gIH1cbn1cblxuLy8gd3JhcHMgdmFsdWUgaW4gY2xvc3VyZSBvciByZXR1cm5zIGNsb3N1cmVcbmV4cG9ydCBsZXQgY2xvc3VyZSA9ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09IFwiZnVuY3Rpb25cIiA/IHZhbCA6IGZ1bmN0aW9uICgpeyByZXR1cm4gdmFsIH1cblxuZXhwb3J0IGxldCBjbG9uZSA9IChvYmopID0+IHsgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSkgfVxuXG5leHBvcnQgbGV0IGNsb3Nlc3RQaHhCaW5kaW5nID0gKGVsLCBiaW5kaW5nLCBib3JkZXJFbCkgPT4ge1xuICBkbyB7XG4gICAgaWYoZWwubWF0Y2hlcyhgWyR7YmluZGluZ31dYCkpeyByZXR1cm4gZWwgfVxuICAgIGVsID0gZWwucGFyZW50RWxlbWVudCB8fCBlbC5wYXJlbnROb2RlXG4gIH0gd2hpbGUoZWwgIT09IG51bGwgJiYgZWwubm9kZVR5cGUgPT09IDEgJiYgISgoYm9yZGVyRWwgJiYgYm9yZGVyRWwuaXNTYW1lTm9kZShlbCkpIHx8IGVsLm1hdGNoZXMoUEhYX1ZJRVdfU0VMRUNUT1IpKSlcbiAgcmV0dXJuIG51bGxcbn1cblxuZXhwb3J0IGxldCBpc09iamVjdCA9IChvYmopID0+IHtcbiAgcmV0dXJuIG9iaiAhPT0gbnVsbCAmJiB0eXBlb2Ygb2JqID09PSBcIm9iamVjdFwiICYmICEob2JqIGluc3RhbmNlb2YgQXJyYXkpXG59XG5cbmV4cG9ydCBsZXQgaXNFcXVhbE9iaiA9IChvYmoxLCBvYmoyKSA9PiBKU09OLnN0cmluZ2lmeShvYmoxKSA9PT0gSlNPTi5zdHJpbmdpZnkob2JqMilcblxuZXhwb3J0IGxldCBpc0VtcHR5ID0gKG9iaikgPT4ge1xuICBmb3IobGV0IHggaW4gb2JqKXsgcmV0dXJuIGZhbHNlIH1cbiAgcmV0dXJuIHRydWVcbn1cblxuZXhwb3J0IGxldCBtYXliZSA9IChlbCwgY2FsbGJhY2spID0+IGVsICYmIGNhbGxiYWNrKGVsKVxuXG5leHBvcnQgbGV0IGNoYW5uZWxVcGxvYWRlciA9IGZ1bmN0aW9uIChlbnRyaWVzLCBvbkVycm9yLCByZXNwLCBsaXZlU29ja2V0KXtcbiAgZW50cmllcy5mb3JFYWNoKGVudHJ5ID0+IHtcbiAgICBsZXQgZW50cnlVcGxvYWRlciA9IG5ldyBFbnRyeVVwbG9hZGVyKGVudHJ5LCByZXNwLmNvbmZpZy5jaHVua19zaXplLCBsaXZlU29ja2V0KVxuICAgIGVudHJ5VXBsb2FkZXIudXBsb2FkKClcbiAgfSlcbn1cbiIsICJsZXQgQnJvd3NlciA9IHtcbiAgY2FuUHVzaFN0YXRlKCl7IHJldHVybiAodHlwZW9mIChoaXN0b3J5LnB1c2hTdGF0ZSkgIT09IFwidW5kZWZpbmVkXCIpIH0sXG5cbiAgZHJvcExvY2FsKGxvY2FsU3RvcmFnZSwgbmFtZXNwYWNlLCBzdWJrZXkpe1xuICAgIHJldHVybiBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSh0aGlzLmxvY2FsS2V5KG5hbWVzcGFjZSwgc3Via2V5KSlcbiAgfSxcblxuICB1cGRhdGVMb2NhbChsb2NhbFN0b3JhZ2UsIG5hbWVzcGFjZSwgc3Via2V5LCBpbml0aWFsLCBmdW5jKXtcbiAgICBsZXQgY3VycmVudCA9IHRoaXMuZ2V0TG9jYWwobG9jYWxTdG9yYWdlLCBuYW1lc3BhY2UsIHN1YmtleSlcbiAgICBsZXQga2V5ID0gdGhpcy5sb2NhbEtleShuYW1lc3BhY2UsIHN1YmtleSlcbiAgICBsZXQgbmV3VmFsID0gY3VycmVudCA9PT0gbnVsbCA/IGluaXRpYWwgOiBmdW5jKGN1cnJlbnQpXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCBKU09OLnN0cmluZ2lmeShuZXdWYWwpKVxuICAgIHJldHVybiBuZXdWYWxcbiAgfSxcblxuICBnZXRMb2NhbChsb2NhbFN0b3JhZ2UsIG5hbWVzcGFjZSwgc3Via2V5KXtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLmxvY2FsS2V5KG5hbWVzcGFjZSwgc3Via2V5KSkpXG4gIH0sXG5cbiAgdXBkYXRlQ3VycmVudFN0YXRlKGNhbGxiYWNrKXtcbiAgICBpZighdGhpcy5jYW5QdXNoU3RhdGUoKSl7IHJldHVybiB9XG4gICAgaGlzdG9yeS5yZXBsYWNlU3RhdGUoY2FsbGJhY2soaGlzdG9yeS5zdGF0ZSB8fCB7fSksIFwiXCIsIHdpbmRvdy5sb2NhdGlvbi5ocmVmKVxuICB9LFxuXG4gIHB1c2hTdGF0ZShraW5kLCBtZXRhLCB0byl7XG4gICAgaWYodGhpcy5jYW5QdXNoU3RhdGUoKSl7XG4gICAgICBpZih0byAhPT0gd2luZG93LmxvY2F0aW9uLmhyZWYpe1xuICAgICAgICBpZihtZXRhLnR5cGUgPT0gXCJyZWRpcmVjdFwiICYmIG1ldGEuc2Nyb2xsKXtcbiAgICAgICAgICAvLyBJZiB3ZSdyZSByZWRpcmVjdGluZyBzdG9yZSB0aGUgY3VycmVudCBzY3JvbGxZIGZvciB0aGUgY3VycmVudCBoaXN0b3J5IHN0YXRlLlxuICAgICAgICAgIGxldCBjdXJyZW50U3RhdGUgPSBoaXN0b3J5LnN0YXRlIHx8IHt9XG4gICAgICAgICAgY3VycmVudFN0YXRlLnNjcm9sbCA9IG1ldGEuc2Nyb2xsXG4gICAgICAgICAgaGlzdG9yeS5yZXBsYWNlU3RhdGUoY3VycmVudFN0YXRlLCBcIlwiLCB3aW5kb3cubG9jYXRpb24uaHJlZilcbiAgICAgICAgfVxuXG4gICAgICAgIGRlbGV0ZSBtZXRhLnNjcm9sbCAvLyBPbmx5IHN0b3JlIHRoZSBzY3JvbGwgaW4gdGhlIHJlZGlyZWN0IGNhc2UuXG4gICAgICAgIGhpc3Rvcnlba2luZCArIFwiU3RhdGVcIl0obWV0YSwgXCJcIiwgdG8gfHwgbnVsbCkgLy8gSUUgd2lsbCBjb2VyY2UgdW5kZWZpbmVkIHRvIHN0cmluZ1xuICAgICAgICBsZXQgaGFzaEVsID0gdGhpcy5nZXRIYXNoVGFyZ2V0RWwod2luZG93LmxvY2F0aW9uLmhhc2gpXG5cbiAgICAgICAgaWYoaGFzaEVsKXtcbiAgICAgICAgICBoYXNoRWwuc2Nyb2xsSW50b1ZpZXcoKVxuICAgICAgICB9IGVsc2UgaWYobWV0YS50eXBlID09PSBcInJlZGlyZWN0XCIpe1xuICAgICAgICAgIHdpbmRvdy5zY3JvbGwoMCwgMClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlZGlyZWN0KHRvKVxuICAgIH1cbiAgfSxcblxuICBzZXRDb29raWUobmFtZSwgdmFsdWUpe1xuICAgIGRvY3VtZW50LmNvb2tpZSA9IGAke25hbWV9PSR7dmFsdWV9YFxuICB9LFxuXG4gIGdldENvb2tpZShuYW1lKXtcbiAgICByZXR1cm4gZG9jdW1lbnQuY29va2llLnJlcGxhY2UobmV3IFJlZ0V4cChgKD86KD86XnwuKjtcXHMqKSR7bmFtZX1cXHMqXFw9XFxzKihbXjtdKikuKiQpfF4uKiRgKSwgXCIkMVwiKVxuICB9LFxuXG4gIHJlZGlyZWN0KHRvVVJMLCBmbGFzaCl7XG4gICAgaWYoZmxhc2gpeyBCcm93c2VyLnNldENvb2tpZShcIl9fcGhvZW5peF9mbGFzaF9fXCIsIGZsYXNoICsgXCI7IG1heC1hZ2U9NjAwMDA7IHBhdGg9L1wiKSB9XG4gICAgd2luZG93LmxvY2F0aW9uID0gdG9VUkxcbiAgfSxcblxuICBsb2NhbEtleShuYW1lc3BhY2UsIHN1YmtleSl7IHJldHVybiBgJHtuYW1lc3BhY2V9LSR7c3Via2V5fWAgfSxcblxuICBnZXRIYXNoVGFyZ2V0RWwobWF5YmVIYXNoKXtcbiAgICBsZXQgaGFzaCA9IG1heWJlSGFzaC50b1N0cmluZygpLnN1YnN0cmluZygxKVxuICAgIGlmKGhhc2ggPT09IFwiXCIpeyByZXR1cm4gfVxuICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChoYXNoKSB8fCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBhW25hbWU9XCIke2hhc2h9XCJdYClcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBCcm93c2VyXG4iLCAiaW1wb3J0IHtcbiAgQ0hFQ0tBQkxFX0lOUFVUUyxcbiAgREVCT1VOQ0VfUFJFVl9LRVksXG4gIERFQk9VTkNFX1RSSUdHRVIsXG4gIEZPQ1VTQUJMRV9JTlBVVFMsXG4gIFBIWF9DT01QT05FTlQsXG4gIFBIWF9FVkVOVF9DTEFTU0VTLFxuICBQSFhfSEFTX0ZPQ1VTRUQsXG4gIFBIWF9IQVNfU1VCTUlUVEVELFxuICBQSFhfTUFJTixcbiAgUEhYX05PX0ZFRURCQUNLX0NMQVNTLFxuICBQSFhfUEFSRU5UX0lELFxuICBQSFhfUFJJVkFURSxcbiAgUEhYX1JFRixcbiAgUEhYX1JFRl9TUkMsXG4gIFBIWF9ST09UX0lELFxuICBQSFhfU0VTU0lPTixcbiAgUEhYX1NUQVRJQyxcbiAgUEhYX1VQTE9BRF9SRUYsXG4gIFBIWF9WSUVXX1NFTEVDVE9SLFxuICBQSFhfU1RJQ0tZLFxuICBUSFJPVFRMRURcbn0gZnJvbSBcIi4vY29uc3RhbnRzXCJcblxuaW1wb3J0IHtcbiAgbG9nRXJyb3Jcbn0gZnJvbSBcIi4vdXRpbHNcIlxuXG5sZXQgRE9NID0ge1xuICBieUlkKGlkKXsgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKSB8fCBsb2dFcnJvcihgbm8gaWQgZm91bmQgZm9yICR7aWR9YCkgfSxcblxuICByZW1vdmVDbGFzcyhlbCwgY2xhc3NOYW1lKXtcbiAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSlcbiAgICBpZihlbC5jbGFzc0xpc3QubGVuZ3RoID09PSAwKXsgZWwucmVtb3ZlQXR0cmlidXRlKFwiY2xhc3NcIikgfVxuICB9LFxuXG4gIGFsbChub2RlLCBxdWVyeSwgY2FsbGJhY2spe1xuICAgIGlmKCFub2RlKXsgcmV0dXJuIFtdIH1cbiAgICBsZXQgYXJyYXkgPSBBcnJheS5mcm9tKG5vZGUucXVlcnlTZWxlY3RvckFsbChxdWVyeSkpXG4gICAgcmV0dXJuIGNhbGxiYWNrID8gYXJyYXkuZm9yRWFjaChjYWxsYmFjaykgOiBhcnJheVxuICB9LFxuXG4gIGNoaWxkTm9kZUxlbmd0aChodG1sKXtcbiAgICBsZXQgdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGVtcGxhdGVcIilcbiAgICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSBodG1sXG4gICAgcmV0dXJuIHRlbXBsYXRlLmNvbnRlbnQuY2hpbGRFbGVtZW50Q291bnRcbiAgfSxcblxuICBpc1VwbG9hZElucHV0KGVsKXsgcmV0dXJuIGVsLnR5cGUgPT09IFwiZmlsZVwiICYmIGVsLmdldEF0dHJpYnV0ZShQSFhfVVBMT0FEX1JFRikgIT09IG51bGwgfSxcblxuICBmaW5kVXBsb2FkSW5wdXRzKG5vZGUpeyByZXR1cm4gdGhpcy5hbGwobm9kZSwgYGlucHV0W3R5cGU9XCJmaWxlXCJdWyR7UEhYX1VQTE9BRF9SRUZ9XWApIH0sXG5cbiAgZmluZENvbXBvbmVudE5vZGVMaXN0KG5vZGUsIGNpZCl7XG4gICAgcmV0dXJuIHRoaXMuZmlsdGVyV2l0aGluU2FtZUxpdmVWaWV3KHRoaXMuYWxsKG5vZGUsIGBbJHtQSFhfQ09NUE9ORU5UfT1cIiR7Y2lkfVwiXWApLCBub2RlKVxuICB9LFxuXG4gIGlzUGh4RGVzdHJveWVkKG5vZGUpe1xuICAgIHJldHVybiBub2RlLmlkICYmIERPTS5wcml2YXRlKG5vZGUsIFwiZGVzdHJveWVkXCIpID8gdHJ1ZSA6IGZhbHNlXG4gIH0sXG5cbiAgbWFya1BoeENoaWxkRGVzdHJveWVkKGVsKXtcbiAgICBpZih0aGlzLmlzUGh4Q2hpbGQoZWwpKXsgZWwuc2V0QXR0cmlidXRlKFBIWF9TRVNTSU9OLCBcIlwiKSB9XG4gICAgdGhpcy5wdXRQcml2YXRlKGVsLCBcImRlc3Ryb3llZFwiLCB0cnVlKVxuICB9LFxuXG4gIGZpbmRQaHhDaGlsZHJlbkluRnJhZ21lbnQoaHRtbCwgcGFyZW50SWQpe1xuICAgIGxldCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZW1wbGF0ZVwiKVxuICAgIHRlbXBsYXRlLmlubmVySFRNTCA9IGh0bWxcbiAgICByZXR1cm4gdGhpcy5maW5kUGh4Q2hpbGRyZW4odGVtcGxhdGUuY29udGVudCwgcGFyZW50SWQpXG4gIH0sXG5cbiAgaXNJZ25vcmVkKGVsLCBwaHhVcGRhdGUpe1xuICAgIHJldHVybiAoZWwuZ2V0QXR0cmlidXRlKHBoeFVwZGF0ZSkgfHwgZWwuZ2V0QXR0cmlidXRlKFwiZGF0YS1waHgtdXBkYXRlXCIpKSA9PT0gXCJpZ25vcmVcIlxuICB9LFxuXG4gIGlzUGh4VXBkYXRlKGVsLCBwaHhVcGRhdGUsIHVwZGF0ZVR5cGVzKXtcbiAgICByZXR1cm4gZWwuZ2V0QXR0cmlidXRlICYmIHVwZGF0ZVR5cGVzLmluZGV4T2YoZWwuZ2V0QXR0cmlidXRlKHBoeFVwZGF0ZSkpID49IDBcbiAgfSxcblxuICBmaW5kUGh4U3RpY2t5KGVsKXsgcmV0dXJuIHRoaXMuYWxsKGVsLCBgWyR7UEhYX1NUSUNLWX1dYCkgfSxcblxuICBmaW5kUGh4Q2hpbGRyZW4oZWwsIHBhcmVudElkKXtcbiAgICByZXR1cm4gdGhpcy5hbGwoZWwsIGAke1BIWF9WSUVXX1NFTEVDVE9SfVske1BIWF9QQVJFTlRfSUR9PVwiJHtwYXJlbnRJZH1cIl1gKVxuICB9LFxuXG4gIGZpbmRQYXJlbnRDSURzKG5vZGUsIGNpZHMpe1xuICAgIGxldCBpbml0aWFsID0gbmV3IFNldChjaWRzKVxuICAgIGxldCBwYXJlbnRDaWRzID1cbiAgICAgIGNpZHMucmVkdWNlKChhY2MsIGNpZCkgPT4ge1xuICAgICAgICBsZXQgc2VsZWN0b3IgPSBgWyR7UEhYX0NPTVBPTkVOVH09XCIke2NpZH1cIl0gWyR7UEhYX0NPTVBPTkVOVH1dYFxuXG4gICAgICAgIHRoaXMuZmlsdGVyV2l0aGluU2FtZUxpdmVWaWV3KHRoaXMuYWxsKG5vZGUsIHNlbGVjdG9yKSwgbm9kZSlcbiAgICAgICAgICAubWFwKGVsID0+IHBhcnNlSW50KGVsLmdldEF0dHJpYnV0ZShQSFhfQ09NUE9ORU5UKSkpXG4gICAgICAgICAgLmZvckVhY2goY2hpbGRDSUQgPT4gYWNjLmRlbGV0ZShjaGlsZENJRCkpXG5cbiAgICAgICAgcmV0dXJuIGFjY1xuICAgICAgfSwgaW5pdGlhbClcblxuICAgIHJldHVybiBwYXJlbnRDaWRzLnNpemUgPT09IDAgPyBuZXcgU2V0KGNpZHMpIDogcGFyZW50Q2lkc1xuICB9LFxuXG4gIGZpbHRlcldpdGhpblNhbWVMaXZlVmlldyhub2RlcywgcGFyZW50KXtcbiAgICBpZihwYXJlbnQucXVlcnlTZWxlY3RvcihQSFhfVklFV19TRUxFQ1RPUikpe1xuICAgICAgcmV0dXJuIG5vZGVzLmZpbHRlcihlbCA9PiB0aGlzLndpdGhpblNhbWVMaXZlVmlldyhlbCwgcGFyZW50KSlcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5vZGVzXG4gICAgfVxuICB9LFxuXG4gIHdpdGhpblNhbWVMaXZlVmlldyhub2RlLCBwYXJlbnQpe1xuICAgIHdoaWxlKG5vZGUgPSBub2RlLnBhcmVudE5vZGUpe1xuICAgICAgaWYobm9kZS5pc1NhbWVOb2RlKHBhcmVudCkpeyByZXR1cm4gdHJ1ZSB9XG4gICAgICBpZihub2RlLmdldEF0dHJpYnV0ZShQSFhfU0VTU0lPTikgIT09IG51bGwpeyByZXR1cm4gZmFsc2UgfVxuICAgIH1cbiAgfSxcblxuICBwcml2YXRlKGVsLCBrZXkpeyByZXR1cm4gZWxbUEhYX1BSSVZBVEVdICYmIGVsW1BIWF9QUklWQVRFXVtrZXldIH0sXG5cbiAgZGVsZXRlUHJpdmF0ZShlbCwga2V5KXsgZWxbUEhYX1BSSVZBVEVdICYmIGRlbGV0ZSAoZWxbUEhYX1BSSVZBVEVdW2tleV0pIH0sXG5cbiAgcHV0UHJpdmF0ZShlbCwga2V5LCB2YWx1ZSl7XG4gICAgaWYoIWVsW1BIWF9QUklWQVRFXSl7IGVsW1BIWF9QUklWQVRFXSA9IHt9IH1cbiAgICBlbFtQSFhfUFJJVkFURV1ba2V5XSA9IHZhbHVlXG4gIH0sXG5cbiAgdXBkYXRlUHJpdmF0ZShlbCwga2V5LCBkZWZhdWx0VmFsLCB1cGRhdGVGdW5jKXtcbiAgICBsZXQgZXhpc3RpbmcgPSB0aGlzLnByaXZhdGUoZWwsIGtleSlcbiAgICBpZihleGlzdGluZyA9PT0gdW5kZWZpbmVkKXtcbiAgICAgIHRoaXMucHV0UHJpdmF0ZShlbCwga2V5LCB1cGRhdGVGdW5jKGRlZmF1bHRWYWwpKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnB1dFByaXZhdGUoZWwsIGtleSwgdXBkYXRlRnVuYyhleGlzdGluZykpXG4gICAgfVxuICB9LFxuXG4gIGNvcHlQcml2YXRlcyh0YXJnZXQsIHNvdXJjZSl7XG4gICAgaWYoc291cmNlW1BIWF9QUklWQVRFXSl7XG4gICAgICB0YXJnZXRbUEhYX1BSSVZBVEVdID0gc291cmNlW1BIWF9QUklWQVRFXVxuICAgIH1cbiAgfSxcblxuICBwdXRUaXRsZShzdHIpe1xuICAgIGxldCB0aXRsZUVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcInRpdGxlXCIpXG4gICAgbGV0IHtwcmVmaXgsIHN1ZmZpeH0gPSB0aXRsZUVsLmRhdGFzZXRcbiAgICBkb2N1bWVudC50aXRsZSA9IGAke3ByZWZpeCB8fCBcIlwifSR7c3RyfSR7c3VmZml4IHx8IFwiXCJ9YFxuICB9LFxuXG4gIGRlYm91bmNlKGVsLCBldmVudCwgcGh4RGVib3VuY2UsIGRlZmF1bHREZWJvdW5jZSwgcGh4VGhyb3R0bGUsIGRlZmF1bHRUaHJvdHRsZSwgYXN5bmNGaWx0ZXIsIGNhbGxiYWNrKXtcbiAgICBsZXQgZGVib3VuY2UgPSBlbC5nZXRBdHRyaWJ1dGUocGh4RGVib3VuY2UpXG4gICAgbGV0IHRocm90dGxlID0gZWwuZ2V0QXR0cmlidXRlKHBoeFRocm90dGxlKVxuICAgIGlmKGRlYm91bmNlID09PSBcIlwiKXsgZGVib3VuY2UgPSBkZWZhdWx0RGVib3VuY2UgfVxuICAgIGlmKHRocm90dGxlID09PSBcIlwiKXsgdGhyb3R0bGUgPSBkZWZhdWx0VGhyb3R0bGUgfVxuICAgIGxldCB2YWx1ZSA9IGRlYm91bmNlIHx8IHRocm90dGxlXG4gICAgc3dpdGNoKHZhbHVlKXtcbiAgICAgIGNhc2UgbnVsbDogcmV0dXJuIGNhbGxiYWNrKClcblxuICAgICAgY2FzZSBcImJsdXJcIjpcbiAgICAgICAgaWYodGhpcy5vbmNlKGVsLCBcImRlYm91bmNlLWJsdXJcIikpe1xuICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJibHVyXCIsICgpID0+IGNhbGxiYWNrKCkpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGxldCB0aW1lb3V0ID0gcGFyc2VJbnQodmFsdWUpXG4gICAgICAgIGxldCB0cmlnZ2VyID0gKCkgPT4gdGhyb3R0bGUgPyB0aGlzLmRlbGV0ZVByaXZhdGUoZWwsIFRIUk9UVExFRCkgOiBjYWxsYmFjaygpXG4gICAgICAgIGxldCBjdXJyZW50Q3ljbGUgPSB0aGlzLmluY0N5Y2xlKGVsLCBERUJPVU5DRV9UUklHR0VSLCB0cmlnZ2VyKVxuICAgICAgICBpZihpc05hTih0aW1lb3V0KSl7IHJldHVybiBsb2dFcnJvcihgaW52YWxpZCB0aHJvdHRsZS9kZWJvdW5jZSB2YWx1ZTogJHt2YWx1ZX1gKSB9XG4gICAgICAgIGlmKHRocm90dGxlKXtcbiAgICAgICAgICBsZXQgbmV3S2V5RG93biA9IGZhbHNlXG4gICAgICAgICAgaWYoZXZlbnQudHlwZSA9PT0gXCJrZXlkb3duXCIpe1xuICAgICAgICAgICAgbGV0IHByZXZLZXkgPSB0aGlzLnByaXZhdGUoZWwsIERFQk9VTkNFX1BSRVZfS0VZKVxuICAgICAgICAgICAgdGhpcy5wdXRQcml2YXRlKGVsLCBERUJPVU5DRV9QUkVWX0tFWSwgZXZlbnQua2V5KVxuICAgICAgICAgICAgbmV3S2V5RG93biA9IHByZXZLZXkgIT09IGV2ZW50LmtleVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmKCFuZXdLZXlEb3duICYmIHRoaXMucHJpdmF0ZShlbCwgVEhST1RUTEVEKSl7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FsbGJhY2soKVxuICAgICAgICAgICAgdGhpcy5wdXRQcml2YXRlKGVsLCBUSFJPVFRMRUQsIHRydWUpXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgaWYoYXN5bmNGaWx0ZXIoKSl7IHRoaXMudHJpZ2dlckN5Y2xlKGVsLCBERUJPVU5DRV9UUklHR0VSKSB9XG4gICAgICAgICAgICB9LCB0aW1lb3V0KVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGlmKGFzeW5jRmlsdGVyKCkpeyB0aGlzLnRyaWdnZXJDeWNsZShlbCwgREVCT1VOQ0VfVFJJR0dFUiwgY3VycmVudEN5Y2xlKSB9XG4gICAgICAgICAgfSwgdGltZW91dClcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBmb3JtID0gZWwuZm9ybVxuICAgICAgICBpZihmb3JtICYmIHRoaXMub25jZShmb3JtLCBcImJpbmQtZGVib3VuY2VcIikpe1xuICAgICAgICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoKSA9PiB7XG4gICAgICAgICAgICBBcnJheS5mcm9tKChuZXcgRm9ybURhdGEoZm9ybSkpLmVudHJpZXMoKSwgKFtuYW1lXSkgPT4ge1xuICAgICAgICAgICAgICBsZXQgaW5wdXQgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoYFtuYW1lPVwiJHtuYW1lfVwiXWApXG4gICAgICAgICAgICAgIHRoaXMuaW5jQ3ljbGUoaW5wdXQsIERFQk9VTkNFX1RSSUdHRVIpXG4gICAgICAgICAgICAgIHRoaXMuZGVsZXRlUHJpdmF0ZShpbnB1dCwgVEhST1RUTEVEKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIGlmKHRoaXMub25jZShlbCwgXCJiaW5kLWRlYm91bmNlXCIpKXtcbiAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLCAoKSA9PiB0aGlzLnRyaWdnZXJDeWNsZShlbCwgREVCT1VOQ0VfVFJJR0dFUikpXG4gICAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgdHJpZ2dlckN5Y2xlKGVsLCBrZXksIGN1cnJlbnRDeWNsZSl7XG4gICAgbGV0IFtjeWNsZSwgdHJpZ2dlcl0gPSB0aGlzLnByaXZhdGUoZWwsIGtleSlcbiAgICBpZighY3VycmVudEN5Y2xlKXsgY3VycmVudEN5Y2xlID0gY3ljbGUgfVxuICAgIGlmKGN1cnJlbnRDeWNsZSA9PT0gY3ljbGUpe1xuICAgICAgdGhpcy5pbmNDeWNsZShlbCwga2V5KVxuICAgICAgdHJpZ2dlcigpXG4gICAgfVxuICB9LFxuXG4gIG9uY2UoZWwsIGtleSl7XG4gICAgaWYodGhpcy5wcml2YXRlKGVsLCBrZXkpID09PSB0cnVlKXsgcmV0dXJuIGZhbHNlIH1cbiAgICB0aGlzLnB1dFByaXZhdGUoZWwsIGtleSwgdHJ1ZSlcbiAgICByZXR1cm4gdHJ1ZVxuICB9LFxuXG4gIGluY0N5Y2xlKGVsLCBrZXksIHRyaWdnZXIgPSBmdW5jdGlvbiAoKXsgfSl7XG4gICAgbGV0IFtjdXJyZW50Q3ljbGVdID0gdGhpcy5wcml2YXRlKGVsLCBrZXkpIHx8IFswLCB0cmlnZ2VyXVxuICAgIGN1cnJlbnRDeWNsZSsrXG4gICAgdGhpcy5wdXRQcml2YXRlKGVsLCBrZXksIFtjdXJyZW50Q3ljbGUsIHRyaWdnZXJdKVxuICAgIHJldHVybiBjdXJyZW50Q3ljbGVcbiAgfSxcblxuICBkaXNjYXJkRXJyb3IoY29udGFpbmVyLCBlbCwgcGh4RmVlZGJhY2tGb3Ipe1xuICAgIGxldCBmaWVsZCA9IGVsLmdldEF0dHJpYnV0ZSAmJiBlbC5nZXRBdHRyaWJ1dGUocGh4RmVlZGJhY2tGb3IpXG4gICAgLy8gVE9ETzogUmVtb3ZlIGlkIGxvb2t1cCBhZnRlciB3ZSB1cGRhdGUgUGhvZW5peCB0byB1c2UgaW5wdXRfbmFtZSBpbnN0ZWFkIG9mIGlucHV0X2lkXG4gICAgbGV0IGlucHV0ID0gZmllbGQgJiYgY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoYFtpZD1cIiR7ZmllbGR9XCJdLCBbbmFtZT1cIiR7ZmllbGR9XCJdLCBbbmFtZT1cIiR7ZmllbGR9W11cIl1gKVxuICAgIGlmKCFpbnB1dCl7IHJldHVybiB9XG5cbiAgICBpZighKHRoaXMucHJpdmF0ZShpbnB1dCwgUEhYX0hBU19GT0NVU0VEKSB8fCB0aGlzLnByaXZhdGUoaW5wdXQuZm9ybSwgUEhYX0hBU19TVUJNSVRURUQpKSl7XG4gICAgICBlbC5jbGFzc0xpc3QuYWRkKFBIWF9OT19GRUVEQkFDS19DTEFTUylcbiAgICB9XG4gIH0sXG5cbiAgc2hvd0Vycm9yKGlucHV0RWwsIHBoeEZlZWRiYWNrRm9yKXtcbiAgICBpZihpbnB1dEVsLmlkIHx8IGlucHV0RWwubmFtZSl7XG4gICAgICB0aGlzLmFsbChpbnB1dEVsLmZvcm0sIGBbJHtwaHhGZWVkYmFja0Zvcn09XCIke2lucHV0RWwuaWR9XCJdLCBbJHtwaHhGZWVkYmFja0Zvcn09XCIke2lucHV0RWwubmFtZX1cIl1gLCAoZWwpID0+IHtcbiAgICAgICAgdGhpcy5yZW1vdmVDbGFzcyhlbCwgUEhYX05PX0ZFRURCQUNLX0NMQVNTKVxuICAgICAgfSlcbiAgICB9XG4gIH0sXG5cbiAgaXNQaHhDaGlsZChub2RlKXtcbiAgICByZXR1cm4gbm9kZS5nZXRBdHRyaWJ1dGUgJiYgbm9kZS5nZXRBdHRyaWJ1dGUoUEhYX1BBUkVOVF9JRClcbiAgfSxcblxuICBpc1BoeFN0aWNreShub2RlKXtcbiAgICByZXR1cm4gbm9kZS5nZXRBdHRyaWJ1dGUgJiYgbm9kZS5nZXRBdHRyaWJ1dGUoUEhYX1NUSUNLWSkgIT09IG51bGxcbiAgfSxcblxuICBmaXJzdFBoeENoaWxkKGVsKXtcbiAgICByZXR1cm4gdGhpcy5pc1BoeENoaWxkKGVsKSA/IGVsIDogdGhpcy5hbGwoZWwsIGBbJHtQSFhfUEFSRU5UX0lEfV1gKVswXVxuICB9LFxuXG4gIGRpc3BhdGNoRXZlbnQodGFyZ2V0LCBuYW1lLCBvcHRzID0ge30pe1xuICAgIGxldCBidWJibGVzID0gb3B0cy5idWJibGVzID09PSB1bmRlZmluZWQgPyB0cnVlIDogISFvcHRzLmJ1YmJsZXNcbiAgICBsZXQgZXZlbnRPcHRzID0ge2J1YmJsZXM6IGJ1YmJsZXMsIGNhbmNlbGFibGU6IHRydWUsIGRldGFpbDogb3B0cy5kZXRhaWwgfHwge319XG4gICAgbGV0IGV2ZW50ID0gbmFtZSA9PT0gXCJjbGlja1wiID8gbmV3IE1vdXNlRXZlbnQoXCJjbGlja1wiLCBldmVudE9wdHMpIDogbmV3IEN1c3RvbUV2ZW50KG5hbWUsIGV2ZW50T3B0cylcbiAgICB0YXJnZXQuZGlzcGF0Y2hFdmVudChldmVudClcbiAgfSxcblxuICBjbG9uZU5vZGUobm9kZSwgaHRtbCl7XG4gICAgaWYodHlwZW9mIChodG1sKSA9PT0gXCJ1bmRlZmluZWRcIil7XG4gICAgICByZXR1cm4gbm9kZS5jbG9uZU5vZGUodHJ1ZSlcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGNsb25lZCA9IG5vZGUuY2xvbmVOb2RlKGZhbHNlKVxuICAgICAgY2xvbmVkLmlubmVySFRNTCA9IGh0bWxcbiAgICAgIHJldHVybiBjbG9uZWRcbiAgICB9XG4gIH0sXG5cbiAgbWVyZ2VBdHRycyh0YXJnZXQsIHNvdXJjZSwgb3B0cyA9IHt9KXtcbiAgICBsZXQgZXhjbHVkZSA9IG9wdHMuZXhjbHVkZSB8fCBbXVxuICAgIGxldCBpc0lnbm9yZWQgPSBvcHRzLmlzSWdub3JlZFxuICAgIGxldCBzb3VyY2VBdHRycyA9IHNvdXJjZS5hdHRyaWJ1dGVzXG4gICAgZm9yKGxldCBpID0gc291cmNlQXR0cnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pe1xuICAgICAgbGV0IG5hbWUgPSBzb3VyY2VBdHRyc1tpXS5uYW1lXG4gICAgICBpZihleGNsdWRlLmluZGV4T2YobmFtZSkgPCAwKXsgdGFyZ2V0LnNldEF0dHJpYnV0ZShuYW1lLCBzb3VyY2UuZ2V0QXR0cmlidXRlKG5hbWUpKSB9XG4gICAgfVxuXG4gICAgbGV0IHRhcmdldEF0dHJzID0gdGFyZ2V0LmF0dHJpYnV0ZXNcbiAgICBmb3IobGV0IGkgPSB0YXJnZXRBdHRycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSl7XG4gICAgICBsZXQgbmFtZSA9IHRhcmdldEF0dHJzW2ldLm5hbWVcbiAgICAgIGlmKGlzSWdub3JlZCl7XG4gICAgICAgIGlmKG5hbWUuc3RhcnRzV2l0aChcImRhdGEtXCIpICYmICFzb3VyY2UuaGFzQXR0cmlidXRlKG5hbWUpKXsgdGFyZ2V0LnJlbW92ZUF0dHJpYnV0ZShuYW1lKSB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZighc291cmNlLmhhc0F0dHJpYnV0ZShuYW1lKSl7IHRhcmdldC5yZW1vdmVBdHRyaWJ1dGUobmFtZSkgfVxuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBtZXJnZUZvY3VzZWRJbnB1dCh0YXJnZXQsIHNvdXJjZSl7XG4gICAgLy8gc2tpcCBzZWxlY3RzIGJlY2F1c2UgRkYgd2lsbCByZXNldCBoaWdobGlnaHRlZCBpbmRleCBmb3IgYW55IHNldEF0dHJpYnV0ZVxuICAgIGlmKCEodGFyZ2V0IGluc3RhbmNlb2YgSFRNTFNlbGVjdEVsZW1lbnQpKXsgRE9NLm1lcmdlQXR0cnModGFyZ2V0LCBzb3VyY2UsIHtleGNsdWRlOiBbXCJ2YWx1ZVwiXX0pIH1cbiAgICBpZihzb3VyY2UucmVhZE9ubHkpe1xuICAgICAgdGFyZ2V0LnNldEF0dHJpYnV0ZShcInJlYWRvbmx5XCIsIHRydWUpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRhcmdldC5yZW1vdmVBdHRyaWJ1dGUoXCJyZWFkb25seVwiKVxuICAgIH1cbiAgfSxcblxuICBoYXNTZWxlY3Rpb25SYW5nZShlbCl7XG4gICAgcmV0dXJuIGVsLnNldFNlbGVjdGlvblJhbmdlICYmIChlbC50eXBlID09PSBcInRleHRcIiB8fCBlbC50eXBlID09PSBcInRleHRhcmVhXCIpXG4gIH0sXG5cbiAgcmVzdG9yZUZvY3VzKGZvY3VzZWQsIHNlbGVjdGlvblN0YXJ0LCBzZWxlY3Rpb25FbmQpe1xuICAgIGlmKCFET00uaXNUZXh0dWFsSW5wdXQoZm9jdXNlZCkpeyByZXR1cm4gfVxuICAgIGxldCB3YXNGb2N1c2VkID0gZm9jdXNlZC5tYXRjaGVzKFwiOmZvY3VzXCIpXG4gICAgaWYoZm9jdXNlZC5yZWFkT25seSl7IGZvY3VzZWQuYmx1cigpIH1cbiAgICBpZighd2FzRm9jdXNlZCl7IGZvY3VzZWQuZm9jdXMoKSB9XG4gICAgaWYodGhpcy5oYXNTZWxlY3Rpb25SYW5nZShmb2N1c2VkKSl7XG4gICAgICBmb2N1c2VkLnNldFNlbGVjdGlvblJhbmdlKHNlbGVjdGlvblN0YXJ0LCBzZWxlY3Rpb25FbmQpXG4gICAgfVxuICB9LFxuXG4gIGlzRm9ybUlucHV0KGVsKXsgcmV0dXJuIC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhKSQvaS50ZXN0KGVsLnRhZ05hbWUpICYmIGVsLnR5cGUgIT09IFwiYnV0dG9uXCIgfSxcblxuICBzeW5jQXR0cnNUb1Byb3BzKGVsKXtcbiAgICBpZihlbCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQgJiYgQ0hFQ0tBQkxFX0lOUFVUUy5pbmRleE9mKGVsLnR5cGUudG9Mb2NhbGVMb3dlckNhc2UoKSkgPj0gMCl7XG4gICAgICBlbC5jaGVja2VkID0gZWwuZ2V0QXR0cmlidXRlKFwiY2hlY2tlZFwiKSAhPT0gbnVsbFxuICAgIH1cbiAgfSxcblxuICBpc1RleHR1YWxJbnB1dChlbCl7IHJldHVybiBGT0NVU0FCTEVfSU5QVVRTLmluZGV4T2YoZWwudHlwZSkgPj0gMCB9LFxuXG4gIGlzTm93VHJpZ2dlckZvcm1FeHRlcm5hbChlbCwgcGh4VHJpZ2dlckV4dGVybmFsKXtcbiAgICByZXR1cm4gZWwuZ2V0QXR0cmlidXRlICYmIGVsLmdldEF0dHJpYnV0ZShwaHhUcmlnZ2VyRXh0ZXJuYWwpICE9PSBudWxsXG4gIH0sXG5cbiAgc3luY1BlbmRpbmdSZWYoZnJvbUVsLCB0b0VsLCBkaXNhYmxlV2l0aCl7XG4gICAgbGV0IHJlZiA9IGZyb21FbC5nZXRBdHRyaWJ1dGUoUEhYX1JFRilcbiAgICBpZihyZWYgPT09IG51bGwpeyByZXR1cm4gdHJ1ZSB9XG4gICAgbGV0IHJlZlNyYyA9IGZyb21FbC5nZXRBdHRyaWJ1dGUoUEhYX1JFRl9TUkMpXG5cbiAgICBpZihET00uaXNGb3JtSW5wdXQoZnJvbUVsKSB8fCBmcm9tRWwuZ2V0QXR0cmlidXRlKGRpc2FibGVXaXRoKSAhPT0gbnVsbCl7XG4gICAgICBpZihET00uaXNVcGxvYWRJbnB1dChmcm9tRWwpKXsgRE9NLm1lcmdlQXR0cnMoZnJvbUVsLCB0b0VsLCB7aXNJZ25vcmVkOiB0cnVlfSkgfVxuICAgICAgRE9NLnB1dFByaXZhdGUoZnJvbUVsLCBQSFhfUkVGLCB0b0VsKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfSBlbHNlIHtcbiAgICAgIFBIWF9FVkVOVF9DTEFTU0VTLmZvckVhY2goY2xhc3NOYW1lID0+IHtcbiAgICAgICAgZnJvbUVsLmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpICYmIHRvRWwuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpXG4gICAgICB9KVxuICAgICAgdG9FbC5zZXRBdHRyaWJ1dGUoUEhYX1JFRiwgcmVmKVxuICAgICAgdG9FbC5zZXRBdHRyaWJ1dGUoUEhYX1JFRl9TUkMsIHJlZlNyYylcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICB9LFxuXG4gIGNsZWFuQ2hpbGROb2Rlcyhjb250YWluZXIsIHBoeFVwZGF0ZSl7XG4gICAgaWYoRE9NLmlzUGh4VXBkYXRlKGNvbnRhaW5lciwgcGh4VXBkYXRlLCBbXCJhcHBlbmRcIiwgXCJwcmVwZW5kXCJdKSl7XG4gICAgICBsZXQgdG9SZW1vdmUgPSBbXVxuICAgICAgY29udGFpbmVyLmNoaWxkTm9kZXMuZm9yRWFjaChjaGlsZE5vZGUgPT4ge1xuICAgICAgICBpZighY2hpbGROb2RlLmlkKXtcbiAgICAgICAgICAvLyBTa2lwIHdhcm5pbmcgaWYgaXQncyBhbiBlbXB0eSB0ZXh0IG5vZGUgKGUuZy4gYSBuZXctbGluZSlcbiAgICAgICAgICBsZXQgaXNFbXB0eVRleHROb2RlID0gY2hpbGROb2RlLm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSAmJiBjaGlsZE5vZGUubm9kZVZhbHVlLnRyaW0oKSA9PT0gXCJcIlxuICAgICAgICAgIGlmKCFpc0VtcHR5VGV4dE5vZGUpe1xuICAgICAgICAgICAgbG9nRXJyb3IoXCJvbmx5IEhUTUwgZWxlbWVudCB0YWdzIHdpdGggYW4gaWQgYXJlIGFsbG93ZWQgaW5zaWRlIGNvbnRhaW5lcnMgd2l0aCBwaHgtdXBkYXRlLlxcblxcblwiICtcbiAgICAgICAgICAgICAgYHJlbW92aW5nIGlsbGVnYWwgbm9kZTogXCIkeyhjaGlsZE5vZGUub3V0ZXJIVE1MIHx8IGNoaWxkTm9kZS5ub2RlVmFsdWUpLnRyaW0oKX1cIlxcblxcbmApXG4gICAgICAgICAgfVxuICAgICAgICAgIHRvUmVtb3ZlLnB1c2goY2hpbGROb2RlKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgdG9SZW1vdmUuZm9yRWFjaChjaGlsZE5vZGUgPT4gY2hpbGROb2RlLnJlbW92ZSgpKVxuICAgIH1cbiAgfSxcblxuICByZXBsYWNlUm9vdENvbnRhaW5lcihjb250YWluZXIsIHRhZ05hbWUsIGF0dHJzKXtcbiAgICBsZXQgcmV0YWluZWRBdHRycyA9IG5ldyBTZXQoW1wiaWRcIiwgUEhYX1NFU1NJT04sIFBIWF9TVEFUSUMsIFBIWF9NQUlOLCBQSFhfUk9PVF9JRF0pXG4gICAgaWYoY29udGFpbmVyLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gdGFnTmFtZS50b0xvd2VyQ2FzZSgpKXtcbiAgICAgIEFycmF5LmZyb20oY29udGFpbmVyLmF0dHJpYnV0ZXMpXG4gICAgICAgIC5maWx0ZXIoYXR0ciA9PiAhcmV0YWluZWRBdHRycy5oYXMoYXR0ci5uYW1lLnRvTG93ZXJDYXNlKCkpKVxuICAgICAgICAuZm9yRWFjaChhdHRyID0+IGNvbnRhaW5lci5yZW1vdmVBdHRyaWJ1dGUoYXR0ci5uYW1lKSlcblxuICAgICAgT2JqZWN0LmtleXMoYXR0cnMpXG4gICAgICAgIC5maWx0ZXIobmFtZSA9PiAhcmV0YWluZWRBdHRycy5oYXMobmFtZS50b0xvd2VyQ2FzZSgpKSlcbiAgICAgICAgLmZvckVhY2goYXR0ciA9PiBjb250YWluZXIuc2V0QXR0cmlidXRlKGF0dHIsIGF0dHJzW2F0dHJdKSlcblxuICAgICAgcmV0dXJuIGNvbnRhaW5lclxuXG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBuZXdDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpXG4gICAgICBPYmplY3Qua2V5cyhhdHRycykuZm9yRWFjaChhdHRyID0+IG5ld0NvbnRhaW5lci5zZXRBdHRyaWJ1dGUoYXR0ciwgYXR0cnNbYXR0cl0pKVxuICAgICAgcmV0YWluZWRBdHRycy5mb3JFYWNoKGF0dHIgPT4gbmV3Q29udGFpbmVyLnNldEF0dHJpYnV0ZShhdHRyLCBjb250YWluZXIuZ2V0QXR0cmlidXRlKGF0dHIpKSlcbiAgICAgIG5ld0NvbnRhaW5lci5pbm5lckhUTUwgPSBjb250YWluZXIuaW5uZXJIVE1MXG4gICAgICBjb250YWluZXIucmVwbGFjZVdpdGgobmV3Q29udGFpbmVyKVxuICAgICAgcmV0dXJuIG5ld0NvbnRhaW5lclxuICAgIH1cbiAgfSxcblxuICBnZXRTdGlja3koZWwsIG5hbWUsIGRlZmF1bHRWYWwpe1xuICAgIGxldCBvcCA9IChET00ucHJpdmF0ZShlbCwgXCJzdGlja3lcIikgfHwgW10pLmZpbmQoKFtleGlzdGluZ05hbWUsIF0pID0+IG5hbWUgPT09IGV4aXN0aW5nTmFtZSlcbiAgICBpZihvcCl7XG4gICAgICBsZXQgW19uYW1lLCBfb3AsIHN0YXNoZWRSZXN1bHRdID0gb3BcbiAgICAgIHJldHVybiBzdGFzaGVkUmVzdWx0XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0eXBlb2YoZGVmYXVsdFZhbCkgPT09IFwiZnVuY3Rpb25cIiA/IGRlZmF1bHRWYWwoKSA6IGRlZmF1bHRWYWxcbiAgICB9XG4gIH0sXG5cbiAgZGVsZXRlU3RpY2t5KGVsLCBuYW1lKXtcbiAgICB0aGlzLnVwZGF0ZVByaXZhdGUoZWwsIFwic3RpY2t5XCIsIFtdLCBvcHMgPT4ge1xuICAgICAgcmV0dXJuIG9wcy5maWx0ZXIoKFtleGlzdGluZ05hbWUsIF9dKSA9PiBleGlzdGluZ05hbWUgIT09IG5hbWUpXG4gICAgfSlcbiAgfSxcblxuICBwdXRTdGlja3koZWwsIG5hbWUsIG9wKXtcbiAgICBsZXQgc3Rhc2hlZFJlc3VsdCA9IG9wKGVsKVxuICAgIHRoaXMudXBkYXRlUHJpdmF0ZShlbCwgXCJzdGlja3lcIiwgW10sIG9wcyA9PiB7XG4gICAgICBsZXQgZXhpc3RpbmdJbmRleCA9IG9wcy5maW5kSW5kZXgoKFtleGlzdGluZ05hbWUsIF0pID0+IG5hbWUgPT09IGV4aXN0aW5nTmFtZSlcbiAgICAgIGlmKGV4aXN0aW5nSW5kZXggPj0gMCl7XG4gICAgICAgIG9wc1tleGlzdGluZ0luZGV4XSA9IFtuYW1lLCBvcCwgc3Rhc2hlZFJlc3VsdF1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9wcy5wdXNoKFtuYW1lLCBvcCwgc3Rhc2hlZFJlc3VsdF0pXG4gICAgICB9XG4gICAgICByZXR1cm4gb3BzXG4gICAgfSlcbiAgfSxcblxuICBhcHBseVN0aWNreU9wZXJhdGlvbnMoZWwpe1xuICAgIGxldCBvcHMgPSBET00ucHJpdmF0ZShlbCwgXCJzdGlja3lcIilcbiAgICBpZighb3BzKXsgcmV0dXJuIH1cblxuICAgIG9wcy5mb3JFYWNoKChbbmFtZSwgb3AsIF9zdGFzaGVkXSkgPT4gdGhpcy5wdXRTdGlja3koZWwsIG5hbWUsIG9wKSlcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBET01cbiIsICJpbXBvcnQge1xuICBQSFhfQUNUSVZFX0VOVFJZX1JFRlMsXG4gIFBIWF9MSVZFX0ZJTEVfVVBEQVRFRCxcbiAgUEhYX1BSRUZMSUdIVEVEX1JFRlNcbn0gZnJvbSBcIi4vY29uc3RhbnRzXCJcblxuaW1wb3J0IHtcbiAgY2hhbm5lbFVwbG9hZGVyLFxuICBsb2dFcnJvclxufSBmcm9tIFwiLi91dGlsc1wiXG5cbmltcG9ydCBMaXZlVXBsb2FkZXIgZnJvbSBcIi4vbGl2ZV91cGxvYWRlclwiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVwbG9hZEVudHJ5IHtcbiAgc3RhdGljIGlzQWN0aXZlKGZpbGVFbCwgZmlsZSl7XG4gICAgbGV0IGlzTmV3ID0gZmlsZS5fcGh4UmVmID09PSB1bmRlZmluZWRcbiAgICBsZXQgYWN0aXZlUmVmcyA9IGZpbGVFbC5nZXRBdHRyaWJ1dGUoUEhYX0FDVElWRV9FTlRSWV9SRUZTKS5zcGxpdChcIixcIilcbiAgICBsZXQgaXNBY3RpdmUgPSBhY3RpdmVSZWZzLmluZGV4T2YoTGl2ZVVwbG9hZGVyLmdlbkZpbGVSZWYoZmlsZSkpID49IDBcbiAgICByZXR1cm4gZmlsZS5zaXplID4gMCAmJiAoaXNOZXcgfHwgaXNBY3RpdmUpXG4gIH1cblxuICBzdGF0aWMgaXNQcmVmbGlnaHRlZChmaWxlRWwsIGZpbGUpe1xuICAgIGxldCBwcmVmbGlnaHRlZFJlZnMgPSBmaWxlRWwuZ2V0QXR0cmlidXRlKFBIWF9QUkVGTElHSFRFRF9SRUZTKS5zcGxpdChcIixcIilcbiAgICBsZXQgaXNQcmVmbGlnaHRlZCA9IHByZWZsaWdodGVkUmVmcy5pbmRleE9mKExpdmVVcGxvYWRlci5nZW5GaWxlUmVmKGZpbGUpKSA+PSAwXG4gICAgcmV0dXJuIGlzUHJlZmxpZ2h0ZWQgJiYgdGhpcy5pc0FjdGl2ZShmaWxlRWwsIGZpbGUpXG4gIH1cblxuICBjb25zdHJ1Y3RvcihmaWxlRWwsIGZpbGUsIHZpZXcpe1xuICAgIHRoaXMucmVmID0gTGl2ZVVwbG9hZGVyLmdlbkZpbGVSZWYoZmlsZSlcbiAgICB0aGlzLmZpbGVFbCA9IGZpbGVFbFxuICAgIHRoaXMuZmlsZSA9IGZpbGVcbiAgICB0aGlzLnZpZXcgPSB2aWV3XG4gICAgdGhpcy5tZXRhID0gbnVsbFxuICAgIHRoaXMuX2lzQ2FuY2VsbGVkID0gZmFsc2VcbiAgICB0aGlzLl9pc0RvbmUgPSBmYWxzZVxuICAgIHRoaXMuX3Byb2dyZXNzID0gMFxuICAgIHRoaXMuX2xhc3RQcm9ncmVzc1NlbnQgPSAtMVxuICAgIHRoaXMuX29uRG9uZSA9IGZ1bmN0aW9uICgpeyB9XG4gICAgdGhpcy5fb25FbFVwZGF0ZWQgPSB0aGlzLm9uRWxVcGRhdGVkLmJpbmQodGhpcylcbiAgICB0aGlzLmZpbGVFbC5hZGRFdmVudExpc3RlbmVyKFBIWF9MSVZFX0ZJTEVfVVBEQVRFRCwgdGhpcy5fb25FbFVwZGF0ZWQpXG4gIH1cblxuICBtZXRhZGF0YSgpeyByZXR1cm4gdGhpcy5tZXRhIH1cblxuICBwcm9ncmVzcyhwcm9ncmVzcyl7XG4gICAgdGhpcy5fcHJvZ3Jlc3MgPSBNYXRoLmZsb29yKHByb2dyZXNzKVxuICAgIGlmKHRoaXMuX3Byb2dyZXNzID4gdGhpcy5fbGFzdFByb2dyZXNzU2VudCl7XG4gICAgICBpZih0aGlzLl9wcm9ncmVzcyA+PSAxMDApe1xuICAgICAgICB0aGlzLl9wcm9ncmVzcyA9IDEwMFxuICAgICAgICB0aGlzLl9sYXN0UHJvZ3Jlc3NTZW50ID0gMTAwXG4gICAgICAgIHRoaXMuX2lzRG9uZSA9IHRydWVcbiAgICAgICAgdGhpcy52aWV3LnB1c2hGaWxlUHJvZ3Jlc3ModGhpcy5maWxlRWwsIHRoaXMucmVmLCAxMDAsICgpID0+IHtcbiAgICAgICAgICBMaXZlVXBsb2FkZXIudW50cmFja0ZpbGUodGhpcy5maWxlRWwsIHRoaXMuZmlsZSlcbiAgICAgICAgICB0aGlzLl9vbkRvbmUoKVxuICAgICAgICB9KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fbGFzdFByb2dyZXNzU2VudCA9IHRoaXMuX3Byb2dyZXNzXG4gICAgICAgIHRoaXMudmlldy5wdXNoRmlsZVByb2dyZXNzKHRoaXMuZmlsZUVsLCB0aGlzLnJlZiwgdGhpcy5fcHJvZ3Jlc3MpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY2FuY2VsKCl7XG4gICAgdGhpcy5faXNDYW5jZWxsZWQgPSB0cnVlXG4gICAgdGhpcy5faXNEb25lID0gdHJ1ZVxuICAgIHRoaXMuX29uRG9uZSgpXG4gIH1cblxuICBpc0RvbmUoKXsgcmV0dXJuIHRoaXMuX2lzRG9uZSB9XG5cbiAgZXJyb3IocmVhc29uID0gXCJmYWlsZWRcIil7XG4gICAgdGhpcy5maWxlRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihQSFhfTElWRV9GSUxFX1VQREFURUQsIHRoaXMuX29uRWxVcGRhdGVkKVxuICAgIHRoaXMudmlldy5wdXNoRmlsZVByb2dyZXNzKHRoaXMuZmlsZUVsLCB0aGlzLnJlZiwge2Vycm9yOiByZWFzb259KVxuICAgIExpdmVVcGxvYWRlci5jbGVhckZpbGVzKHRoaXMuZmlsZUVsKVxuICB9XG5cbiAgLy9wcml2YXRlXG5cbiAgb25Eb25lKGNhbGxiYWNrKXtcbiAgICB0aGlzLl9vbkRvbmUgPSAoKSA9PiB7XG4gICAgICB0aGlzLmZpbGVFbC5yZW1vdmVFdmVudExpc3RlbmVyKFBIWF9MSVZFX0ZJTEVfVVBEQVRFRCwgdGhpcy5fb25FbFVwZGF0ZWQpXG4gICAgICBjYWxsYmFjaygpXG4gICAgfVxuICB9XG5cbiAgb25FbFVwZGF0ZWQoKXtcbiAgICBsZXQgYWN0aXZlUmVmcyA9IHRoaXMuZmlsZUVsLmdldEF0dHJpYnV0ZShQSFhfQUNUSVZFX0VOVFJZX1JFRlMpLnNwbGl0KFwiLFwiKVxuICAgIGlmKGFjdGl2ZVJlZnMuaW5kZXhPZih0aGlzLnJlZikgPT09IC0xKXsgdGhpcy5jYW5jZWwoKSB9XG4gIH1cblxuICB0b1ByZWZsaWdodFBheWxvYWQoKXtcbiAgICByZXR1cm4ge1xuICAgICAgbGFzdF9tb2RpZmllZDogdGhpcy5maWxlLmxhc3RNb2RpZmllZCxcbiAgICAgIG5hbWU6IHRoaXMuZmlsZS5uYW1lLFxuICAgICAgcmVsYXRpdmVfcGF0aDogdGhpcy5maWxlLndlYmtpdFJlbGF0aXZlUGF0aCxcbiAgICAgIHNpemU6IHRoaXMuZmlsZS5zaXplLFxuICAgICAgdHlwZTogdGhpcy5maWxlLnR5cGUsXG4gICAgICByZWY6IHRoaXMucmVmXG4gICAgfVxuICB9XG5cbiAgdXBsb2FkZXIodXBsb2FkZXJzKXtcbiAgICBpZih0aGlzLm1ldGEudXBsb2FkZXIpe1xuICAgICAgbGV0IGNhbGxiYWNrID0gdXBsb2FkZXJzW3RoaXMubWV0YS51cGxvYWRlcl0gfHwgbG9nRXJyb3IoYG5vIHVwbG9hZGVyIGNvbmZpZ3VyZWQgZm9yICR7dGhpcy5tZXRhLnVwbG9hZGVyfWApXG4gICAgICByZXR1cm4ge25hbWU6IHRoaXMubWV0YS51cGxvYWRlciwgY2FsbGJhY2s6IGNhbGxiYWNrfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4ge25hbWU6IFwiY2hhbm5lbFwiLCBjYWxsYmFjazogY2hhbm5lbFVwbG9hZGVyfVxuICAgIH1cbiAgfVxuXG4gIHppcFBvc3RGbGlnaHQocmVzcCl7XG4gICAgdGhpcy5tZXRhID0gcmVzcC5lbnRyaWVzW3RoaXMucmVmXVxuICAgIGlmKCF0aGlzLm1ldGEpeyBsb2dFcnJvcihgbm8gcHJlZmxpZ2h0IHVwbG9hZCByZXNwb25zZSByZXR1cm5lZCB3aXRoIHJlZiAke3RoaXMucmVmfWAsIHtpbnB1dDogdGhpcy5maWxlRWwsIHJlc3BvbnNlOiByZXNwfSkgfVxuICB9XG59XG4iLCAiaW1wb3J0IHtcbiAgUEhYX0RPTkVfUkVGUyxcbiAgUEhYX1BSRUZMSUdIVEVEX1JFRlMsXG4gIFBIWF9VUExPQURfUkVGXG59IGZyb20gXCIuL2NvbnN0YW50c1wiXG5cbmltcG9ydCB7XG59IGZyb20gXCIuL3V0aWxzXCJcblxuaW1wb3J0IERPTSBmcm9tIFwiLi9kb21cIlxuaW1wb3J0IFVwbG9hZEVudHJ5IGZyb20gXCIuL3VwbG9hZF9lbnRyeVwiXG5cbmxldCBsaXZlVXBsb2FkZXJGaWxlUmVmID0gMFxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMaXZlVXBsb2FkZXIge1xuICBzdGF0aWMgZ2VuRmlsZVJlZihmaWxlKXtcbiAgICBsZXQgcmVmID0gZmlsZS5fcGh4UmVmXG4gICAgaWYocmVmICE9PSB1bmRlZmluZWQpe1xuICAgICAgcmV0dXJuIHJlZlxuICAgIH0gZWxzZSB7XG4gICAgICBmaWxlLl9waHhSZWYgPSAobGl2ZVVwbG9hZGVyRmlsZVJlZisrKS50b1N0cmluZygpXG4gICAgICByZXR1cm4gZmlsZS5fcGh4UmVmXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGdldEVudHJ5RGF0YVVSTChpbnB1dEVsLCByZWYsIGNhbGxiYWNrKXtcbiAgICBsZXQgZmlsZSA9IHRoaXMuYWN0aXZlRmlsZXMoaW5wdXRFbCkuZmluZChmaWxlID0+IHRoaXMuZ2VuRmlsZVJlZihmaWxlKSA9PT0gcmVmKVxuICAgIGNhbGxiYWNrKFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSkpXG4gIH1cblxuICBzdGF0aWMgaGFzVXBsb2Fkc0luUHJvZ3Jlc3MoZm9ybUVsKXtcbiAgICBsZXQgYWN0aXZlID0gMFxuICAgIERPTS5maW5kVXBsb2FkSW5wdXRzKGZvcm1FbCkuZm9yRWFjaChpbnB1dCA9PiB7XG4gICAgICBpZihpbnB1dC5nZXRBdHRyaWJ1dGUoUEhYX1BSRUZMSUdIVEVEX1JFRlMpICE9PSBpbnB1dC5nZXRBdHRyaWJ1dGUoUEhYX0RPTkVfUkVGUykpe1xuICAgICAgICBhY3RpdmUrK1xuICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIGFjdGl2ZSA+IDBcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemVVcGxvYWRzKGlucHV0RWwpe1xuICAgIGxldCBmaWxlcyA9IHRoaXMuYWN0aXZlRmlsZXMoaW5wdXRFbClcbiAgICBsZXQgZmlsZURhdGEgPSB7fVxuICAgIGZpbGVzLmZvckVhY2goZmlsZSA9PiB7XG4gICAgICBsZXQgZW50cnkgPSB7cGF0aDogaW5wdXRFbC5uYW1lfVxuICAgICAgbGV0IHVwbG9hZFJlZiA9IGlucHV0RWwuZ2V0QXR0cmlidXRlKFBIWF9VUExPQURfUkVGKVxuICAgICAgZmlsZURhdGFbdXBsb2FkUmVmXSA9IGZpbGVEYXRhW3VwbG9hZFJlZl0gfHwgW11cbiAgICAgIGVudHJ5LnJlZiA9IHRoaXMuZ2VuRmlsZVJlZihmaWxlKVxuICAgICAgZW50cnkubGFzdF9tb2RpZmllZCA9IGZpbGUubGFzdE1vZGlmaWVkXG4gICAgICBlbnRyeS5uYW1lID0gZmlsZS5uYW1lIHx8IGVudHJ5LnJlZlxuICAgICAgZW50cnkucmVsYXRpdmVfcGF0aCA9IGZpbGUud2Via2l0UmVsYXRpdmVQYXRoXG4gICAgICBlbnRyeS50eXBlID0gZmlsZS50eXBlXG4gICAgICBlbnRyeS5zaXplID0gZmlsZS5zaXplXG4gICAgICBmaWxlRGF0YVt1cGxvYWRSZWZdLnB1c2goZW50cnkpXG4gICAgfSlcbiAgICByZXR1cm4gZmlsZURhdGFcbiAgfVxuXG4gIHN0YXRpYyBjbGVhckZpbGVzKGlucHV0RWwpe1xuICAgIGlucHV0RWwudmFsdWUgPSBudWxsXG4gICAgaW5wdXRFbC5yZW1vdmVBdHRyaWJ1dGUoUEhYX1VQTE9BRF9SRUYpXG4gICAgRE9NLnB1dFByaXZhdGUoaW5wdXRFbCwgXCJmaWxlc1wiLCBbXSlcbiAgfVxuXG4gIHN0YXRpYyB1bnRyYWNrRmlsZShpbnB1dEVsLCBmaWxlKXtcbiAgICBET00ucHV0UHJpdmF0ZShpbnB1dEVsLCBcImZpbGVzXCIsIERPTS5wcml2YXRlKGlucHV0RWwsIFwiZmlsZXNcIikuZmlsdGVyKGYgPT4gIU9iamVjdC5pcyhmLCBmaWxlKSkpXG4gIH1cblxuICBzdGF0aWMgdHJhY2tGaWxlcyhpbnB1dEVsLCBmaWxlcyl7XG4gICAgaWYoaW5wdXRFbC5nZXRBdHRyaWJ1dGUoXCJtdWx0aXBsZVwiKSAhPT0gbnVsbCl7XG4gICAgICBsZXQgbmV3RmlsZXMgPSBmaWxlcy5maWx0ZXIoZmlsZSA9PiAhdGhpcy5hY3RpdmVGaWxlcyhpbnB1dEVsKS5maW5kKGYgPT4gT2JqZWN0LmlzKGYsIGZpbGUpKSlcbiAgICAgIERPTS5wdXRQcml2YXRlKGlucHV0RWwsIFwiZmlsZXNcIiwgdGhpcy5hY3RpdmVGaWxlcyhpbnB1dEVsKS5jb25jYXQobmV3RmlsZXMpKVxuICAgICAgaW5wdXRFbC52YWx1ZSA9IG51bGxcbiAgICB9IGVsc2Uge1xuICAgICAgRE9NLnB1dFByaXZhdGUoaW5wdXRFbCwgXCJmaWxlc1wiLCBmaWxlcylcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYWN0aXZlRmlsZUlucHV0cyhmb3JtRWwpe1xuICAgIGxldCBmaWxlSW5wdXRzID0gRE9NLmZpbmRVcGxvYWRJbnB1dHMoZm9ybUVsKVxuICAgIHJldHVybiBBcnJheS5mcm9tKGZpbGVJbnB1dHMpLmZpbHRlcihlbCA9PiBlbC5maWxlcyAmJiB0aGlzLmFjdGl2ZUZpbGVzKGVsKS5sZW5ndGggPiAwKVxuICB9XG5cbiAgc3RhdGljIGFjdGl2ZUZpbGVzKGlucHV0KXtcbiAgICByZXR1cm4gKERPTS5wcml2YXRlKGlucHV0LCBcImZpbGVzXCIpIHx8IFtdKS5maWx0ZXIoZiA9PiBVcGxvYWRFbnRyeS5pc0FjdGl2ZShpbnB1dCwgZikpXG4gIH1cblxuICBzdGF0aWMgaW5wdXRzQXdhaXRpbmdQcmVmbGlnaHQoZm9ybUVsKXtcbiAgICBsZXQgZmlsZUlucHV0cyA9IERPTS5maW5kVXBsb2FkSW5wdXRzKGZvcm1FbClcbiAgICByZXR1cm4gQXJyYXkuZnJvbShmaWxlSW5wdXRzKS5maWx0ZXIoaW5wdXQgPT4gdGhpcy5maWxlc0F3YWl0aW5nUHJlZmxpZ2h0KGlucHV0KS5sZW5ndGggPiAwKVxuICB9XG5cbiAgc3RhdGljIGZpbGVzQXdhaXRpbmdQcmVmbGlnaHQoaW5wdXQpe1xuICAgIHJldHVybiB0aGlzLmFjdGl2ZUZpbGVzKGlucHV0KS5maWx0ZXIoZiA9PiAhVXBsb2FkRW50cnkuaXNQcmVmbGlnaHRlZChpbnB1dCwgZikpXG4gIH1cblxuICBjb25zdHJ1Y3RvcihpbnB1dEVsLCB2aWV3LCBvbkNvbXBsZXRlKXtcbiAgICB0aGlzLnZpZXcgPSB2aWV3XG4gICAgdGhpcy5vbkNvbXBsZXRlID0gb25Db21wbGV0ZVxuICAgIHRoaXMuX2VudHJpZXMgPVxuICAgICAgQXJyYXkuZnJvbShMaXZlVXBsb2FkZXIuZmlsZXNBd2FpdGluZ1ByZWZsaWdodChpbnB1dEVsKSB8fCBbXSlcbiAgICAgICAgLm1hcChmaWxlID0+IG5ldyBVcGxvYWRFbnRyeShpbnB1dEVsLCBmaWxlLCB2aWV3KSlcblxuICAgIHRoaXMubnVtRW50cmllc0luUHJvZ3Jlc3MgPSB0aGlzLl9lbnRyaWVzLmxlbmd0aFxuICB9XG5cbiAgZW50cmllcygpeyByZXR1cm4gdGhpcy5fZW50cmllcyB9XG5cbiAgaW5pdEFkYXB0ZXJVcGxvYWQocmVzcCwgb25FcnJvciwgbGl2ZVNvY2tldCl7XG4gICAgdGhpcy5fZW50cmllcyA9XG4gICAgICB0aGlzLl9lbnRyaWVzLm1hcChlbnRyeSA9PiB7XG4gICAgICAgIGVudHJ5LnppcFBvc3RGbGlnaHQocmVzcClcbiAgICAgICAgZW50cnkub25Eb25lKCgpID0+IHtcbiAgICAgICAgICB0aGlzLm51bUVudHJpZXNJblByb2dyZXNzLS1cbiAgICAgICAgICBpZih0aGlzLm51bUVudHJpZXNJblByb2dyZXNzID09PSAwKXsgdGhpcy5vbkNvbXBsZXRlKCkgfVxuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gZW50cnlcbiAgICAgIH0pXG5cbiAgICBsZXQgZ3JvdXBlZEVudHJpZXMgPSB0aGlzLl9lbnRyaWVzLnJlZHVjZSgoYWNjLCBlbnRyeSkgPT4ge1xuICAgICAgbGV0IHtuYW1lLCBjYWxsYmFja30gPSBlbnRyeS51cGxvYWRlcihsaXZlU29ja2V0LnVwbG9hZGVycylcbiAgICAgIGFjY1tuYW1lXSA9IGFjY1tuYW1lXSB8fCB7Y2FsbGJhY2s6IGNhbGxiYWNrLCBlbnRyaWVzOiBbXX1cbiAgICAgIGFjY1tuYW1lXS5lbnRyaWVzLnB1c2goZW50cnkpXG4gICAgICByZXR1cm4gYWNjXG4gICAgfSwge30pXG5cbiAgICBmb3IobGV0IG5hbWUgaW4gZ3JvdXBlZEVudHJpZXMpe1xuICAgICAgbGV0IHtjYWxsYmFjaywgZW50cmllc30gPSBncm91cGVkRW50cmllc1tuYW1lXVxuICAgICAgY2FsbGJhY2soZW50cmllcywgb25FcnJvciwgcmVzcCwgbGl2ZVNvY2tldClcbiAgICB9XG4gIH1cbn1cbiIsICJsZXQgQVJJQSA9IHtcbiAgZm9jdXNNYWluKCl7XG4gICAgbGV0IHRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJtYWluIGgxLCBtYWluLCBoMVwiKVxuICAgIGlmKHRhcmdldCl7XG4gICAgICBsZXQgb3JpZ1RhYkluZGV4ID0gdGFyZ2V0LnRhYkluZGV4XG4gICAgICB0YXJnZXQudGFiSW5kZXggPSAtMVxuICAgICAgdGFyZ2V0LmZvY3VzKClcbiAgICAgIHRhcmdldC50YWJJbmRleCA9IG9yaWdUYWJJbmRleFxuICAgIH1cbiAgfSxcblxuICBhbnlPZihpbnN0YW5jZSwgY2xhc3Nlcyl7IHJldHVybiBjbGFzc2VzLmZpbmQobmFtZSA9PiBpbnN0YW5jZSBpbnN0YW5jZW9mIG5hbWUpIH0sXG5cbiAgaXNGb2N1c2FibGUoZWwsIGludGVyYWN0aXZlT25seSl7XG4gICAgcmV0dXJuKFxuICAgICAgKGVsIGluc3RhbmNlb2YgSFRNTEFuY2hvckVsZW1lbnQgJiYgZWwucmVsICE9PSBcImlnbm9yZVwiKSB8fFxuICAgICAgKGVsIGluc3RhbmNlb2YgSFRNTEFyZWFFbGVtZW50ICYmIGVsLmhyZWYgIT09IHVuZGVmaW5lZCkgfHxcbiAgICAgICghZWwuZGlzYWJsZWQgJiYgKHRoaXMuYW55T2YoZWwsIFtIVE1MSW5wdXRFbGVtZW50LCBIVE1MU2VsZWN0RWxlbWVudCwgSFRNTFRleHRBcmVhRWxlbWVudCwgSFRNTEJ1dHRvbkVsZW1lbnRdKSkpIHx8XG4gICAgICAoZWwgaW5zdGFuY2VvZiBIVE1MSUZyYW1lRWxlbWVudCkgfHxcbiAgICAgIChlbC50YWJJbmRleCA+IDAgfHwgKCFpbnRlcmFjdGl2ZU9ubHkgJiYgZWwudGFiSW5kZXggPT09IDAgJiYgZWwuZ2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIikgIT09IG51bGwgJiYgZWwuZ2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIikgIT09IFwidHJ1ZVwiKSlcbiAgICApXG4gIH0sXG5cbiAgYXR0ZW1wdEZvY3VzKGVsLCBpbnRlcmFjdGl2ZU9ubHkpe1xuICAgIGlmKHRoaXMuaXNGb2N1c2FibGUoZWwsIGludGVyYWN0aXZlT25seSkpeyB0cnl7IGVsLmZvY3VzKCkgfSBjYXRjaChlKXt9IH1cbiAgICByZXR1cm4gISFkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuaXNTYW1lTm9kZShlbClcbiAgfSxcblxuICBmb2N1c0ZpcnN0SW50ZXJhY3RpdmUoZWwpe1xuICAgIGxldCBjaGlsZCA9IGVsLmZpcnN0RWxlbWVudENoaWxkXG4gICAgd2hpbGUoY2hpbGQpe1xuICAgICAgaWYodGhpcy5hdHRlbXB0Rm9jdXMoY2hpbGQsIHRydWUpIHx8IHRoaXMuZm9jdXNGaXJzdEludGVyYWN0aXZlKGNoaWxkLCB0cnVlKSl7XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9XG4gICAgICBjaGlsZCA9IGNoaWxkLm5leHRFbGVtZW50U2libGluZ1xuICAgIH1cbiAgfSxcblxuICBmb2N1c0ZpcnN0KGVsKXtcbiAgICBsZXQgY2hpbGQgPSBlbC5maXJzdEVsZW1lbnRDaGlsZFxuICAgIHdoaWxlKGNoaWxkKXtcbiAgICAgIGlmKHRoaXMuYXR0ZW1wdEZvY3VzKGNoaWxkKSB8fCB0aGlzLmZvY3VzRmlyc3QoY2hpbGQpKXtcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH1cbiAgICAgIGNoaWxkID0gY2hpbGQubmV4dEVsZW1lbnRTaWJsaW5nXG4gICAgfVxuICB9LFxuXG4gIGZvY3VzTGFzdChlbCl7XG4gICAgbGV0IGNoaWxkID0gZWwubGFzdEVsZW1lbnRDaGlsZFxuICAgIHdoaWxlKGNoaWxkKXtcbiAgICAgIGlmKHRoaXMuYXR0ZW1wdEZvY3VzKGNoaWxkKSB8fCB0aGlzLmZvY3VzTGFzdChjaGlsZCkpe1xuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfVxuICAgICAgY2hpbGQgPSBjaGlsZC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nXG4gICAgfVxuICB9XG59XG5leHBvcnQgZGVmYXVsdCBBUklBIiwgImltcG9ydCB7XG4gIFBIWF9BQ1RJVkVfRU5UUllfUkVGUyxcbiAgUEhYX0xJVkVfRklMRV9VUERBVEVELFxuICBQSFhfUFJFRkxJR0hURURfUkVGUyxcbiAgUEhYX1VQTE9BRF9SRUZcbn0gZnJvbSBcIi4vY29uc3RhbnRzXCJcblxuaW1wb3J0IExpdmVVcGxvYWRlciBmcm9tIFwiLi9saXZlX3VwbG9hZGVyXCJcbmltcG9ydCBBUklBIGZyb20gXCIuL2FyaWFcIlxuXG5sZXQgSG9va3MgPSB7XG4gIExpdmVGaWxlVXBsb2FkOiB7XG4gICAgYWN0aXZlUmVmcygpeyByZXR1cm4gdGhpcy5lbC5nZXRBdHRyaWJ1dGUoUEhYX0FDVElWRV9FTlRSWV9SRUZTKSB9LFxuXG4gICAgcHJlZmxpZ2h0ZWRSZWZzKCl7IHJldHVybiB0aGlzLmVsLmdldEF0dHJpYnV0ZShQSFhfUFJFRkxJR0hURURfUkVGUykgfSxcblxuICAgIG1vdW50ZWQoKXsgdGhpcy5wcmVmbGlnaHRlZFdhcyA9IHRoaXMucHJlZmxpZ2h0ZWRSZWZzKCkgfSxcblxuICAgIHVwZGF0ZWQoKXtcbiAgICAgIGxldCBuZXdQcmVmbGlnaHRzID0gdGhpcy5wcmVmbGlnaHRlZFJlZnMoKVxuICAgICAgaWYodGhpcy5wcmVmbGlnaHRlZFdhcyAhPT0gbmV3UHJlZmxpZ2h0cyl7XG4gICAgICAgIHRoaXMucHJlZmxpZ2h0ZWRXYXMgPSBuZXdQcmVmbGlnaHRzXG4gICAgICAgIGlmKG5ld1ByZWZsaWdodHMgPT09IFwiXCIpe1xuICAgICAgICAgIHRoaXMuX192aWV3LmNhbmNlbFN1Ym1pdCh0aGlzLmVsLmZvcm0pXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYodGhpcy5hY3RpdmVSZWZzKCkgPT09IFwiXCIpeyB0aGlzLmVsLnZhbHVlID0gbnVsbCB9XG4gICAgICB0aGlzLmVsLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFBIWF9MSVZFX0ZJTEVfVVBEQVRFRCkpXG4gICAgfVxuICB9LFxuXG4gIExpdmVJbWdQcmV2aWV3OiB7XG4gICAgbW91bnRlZCgpe1xuICAgICAgdGhpcy5yZWYgPSB0aGlzLmVsLmdldEF0dHJpYnV0ZShcImRhdGEtcGh4LWVudHJ5LXJlZlwiKVxuICAgICAgdGhpcy5pbnB1dEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5lbC5nZXRBdHRyaWJ1dGUoUEhYX1VQTE9BRF9SRUYpKVxuICAgICAgTGl2ZVVwbG9hZGVyLmdldEVudHJ5RGF0YVVSTCh0aGlzLmlucHV0RWwsIHRoaXMucmVmLCB1cmwgPT4ge1xuICAgICAgICB0aGlzLnVybCA9IHVybFxuICAgICAgICB0aGlzLmVsLnNyYyA9IHVybFxuICAgICAgfSlcbiAgICB9LFxuICAgIGRlc3Ryb3llZCgpe1xuICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh0aGlzLnVybClcbiAgICB9XG4gIH0sXG4gIEZvY3VzV3JhcDoge1xuICAgIG1vdW50ZWQoKXtcbiAgICAgIHRoaXMuZm9jdXNTdGFydCA9IHRoaXMuZWwuZmlyc3RFbGVtZW50Q2hpbGRcbiAgICAgIHRoaXMuZm9jdXNFbmQgPSB0aGlzLmVsLmxhc3RFbGVtZW50Q2hpbGRcbiAgICAgIHRoaXMuZm9jdXNTdGFydC5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNcIiwgKCkgPT4gQVJJQS5mb2N1c0xhc3QodGhpcy5lbCkpXG4gICAgICB0aGlzLmZvY3VzRW5kLmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLCAoKSA9PiBBUklBLmZvY3VzRmlyc3QodGhpcy5lbCkpXG4gICAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJwaHg6c2hvdy1lbmRcIiwgKCkgPT4gdGhpcy5lbC5mb2N1cygpKVxuICAgICAgaWYod2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcy5lbCkuZGlzcGxheSAhPT0gXCJub25lXCIpe1xuICAgICAgICBBUklBLmZvY3VzRmlyc3QodGhpcy5lbClcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSG9va3NcbiIsICJpbXBvcnQge1xuICBtYXliZVxufSBmcm9tIFwiLi91dGlsc1wiXG5cbmltcG9ydCBET00gZnJvbSBcIi4vZG9tXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRE9NUG9zdE1vcnBoUmVzdG9yZXIge1xuICBjb25zdHJ1Y3Rvcihjb250YWluZXJCZWZvcmUsIGNvbnRhaW5lckFmdGVyLCB1cGRhdGVUeXBlKXtcbiAgICBsZXQgaWRzQmVmb3JlID0gbmV3IFNldCgpXG4gICAgbGV0IGlkc0FmdGVyID0gbmV3IFNldChbLi4uY29udGFpbmVyQWZ0ZXIuY2hpbGRyZW5dLm1hcChjaGlsZCA9PiBjaGlsZC5pZCkpXG5cbiAgICBsZXQgZWxlbWVudHNUb01vZGlmeSA9IFtdXG5cbiAgICBBcnJheS5mcm9tKGNvbnRhaW5lckJlZm9yZS5jaGlsZHJlbikuZm9yRWFjaChjaGlsZCA9PiB7XG4gICAgICBpZihjaGlsZC5pZCl7IC8vIGFsbCBvZiBvdXIgY2hpbGRyZW4gc2hvdWxkIGJlIGVsZW1lbnRzIHdpdGggaWRzXG4gICAgICAgIGlkc0JlZm9yZS5hZGQoY2hpbGQuaWQpXG4gICAgICAgIGlmKGlkc0FmdGVyLmhhcyhjaGlsZC5pZCkpe1xuICAgICAgICAgIGxldCBwcmV2aW91c0VsZW1lbnRJZCA9IGNoaWxkLnByZXZpb3VzRWxlbWVudFNpYmxpbmcgJiYgY2hpbGQucHJldmlvdXNFbGVtZW50U2libGluZy5pZFxuICAgICAgICAgIGVsZW1lbnRzVG9Nb2RpZnkucHVzaCh7ZWxlbWVudElkOiBjaGlsZC5pZCwgcHJldmlvdXNFbGVtZW50SWQ6IHByZXZpb3VzRWxlbWVudElkfSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG5cbiAgICB0aGlzLmNvbnRhaW5lcklkID0gY29udGFpbmVyQWZ0ZXIuaWRcbiAgICB0aGlzLnVwZGF0ZVR5cGUgPSB1cGRhdGVUeXBlXG4gICAgdGhpcy5lbGVtZW50c1RvTW9kaWZ5ID0gZWxlbWVudHNUb01vZGlmeVxuICAgIHRoaXMuZWxlbWVudElkc1RvQWRkID0gWy4uLmlkc0FmdGVyXS5maWx0ZXIoaWQgPT4gIWlkc0JlZm9yZS5oYXMoaWQpKVxuICB9XG5cbiAgLy8gV2UgZG8gdGhlIGZvbGxvd2luZyB0byBvcHRpbWl6ZSBhcHBlbmQvcHJlcGVuZCBvcGVyYXRpb25zOlxuICAvLyAgIDEpIFRyYWNrIGlkcyBvZiBtb2RpZmllZCBlbGVtZW50cyAmIG9mIG5ldyBlbGVtZW50c1xuICAvLyAgIDIpIEFsbCB0aGUgbW9kaWZpZWQgZWxlbWVudHMgYXJlIHB1dCBiYWNrIGluIHRoZSBjb3JyZWN0IHBvc2l0aW9uIGluIHRoZSBET00gdHJlZVxuICAvLyAgICAgIGJ5IHN0b3JpbmcgdGhlIGlkIG9mIHRoZWlyIHByZXZpb3VzIHNpYmxpbmdcbiAgLy8gICAzKSBOZXcgZWxlbWVudHMgYXJlIGdvaW5nIHRvIGJlIHB1dCBpbiB0aGUgcmlnaHQgcGxhY2UgYnkgbW9ycGhkb20gZHVyaW5nIGFwcGVuZC5cbiAgLy8gICAgICBGb3IgcHJlcGVuZCwgd2UgbW92ZSB0aGVtIHRvIHRoZSBmaXJzdCBwb3NpdGlvbiBpbiB0aGUgY29udGFpbmVyXG4gIHBlcmZvcm0oKXtcbiAgICBsZXQgY29udGFpbmVyID0gRE9NLmJ5SWQodGhpcy5jb250YWluZXJJZClcbiAgICB0aGlzLmVsZW1lbnRzVG9Nb2RpZnkuZm9yRWFjaChlbGVtZW50VG9Nb2RpZnkgPT4ge1xuICAgICAgaWYoZWxlbWVudFRvTW9kaWZ5LnByZXZpb3VzRWxlbWVudElkKXtcbiAgICAgICAgbWF5YmUoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudFRvTW9kaWZ5LnByZXZpb3VzRWxlbWVudElkKSwgcHJldmlvdXNFbGVtID0+IHtcbiAgICAgICAgICBtYXliZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50VG9Nb2RpZnkuZWxlbWVudElkKSwgZWxlbSA9PiB7XG4gICAgICAgICAgICBsZXQgaXNJblJpZ2h0UGxhY2UgPSBlbGVtLnByZXZpb3VzRWxlbWVudFNpYmxpbmcgJiYgZWxlbS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmlkID09IHByZXZpb3VzRWxlbS5pZFxuICAgICAgICAgICAgaWYoIWlzSW5SaWdodFBsYWNlKXtcbiAgICAgICAgICAgICAgcHJldmlvdXNFbGVtLmluc2VydEFkamFjZW50RWxlbWVudChcImFmdGVyZW5kXCIsIGVsZW0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFRoaXMgaXMgdGhlIGZpcnN0IGVsZW1lbnQgaW4gdGhlIGNvbnRhaW5lclxuICAgICAgICBtYXliZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50VG9Nb2RpZnkuZWxlbWVudElkKSwgZWxlbSA9PiB7XG4gICAgICAgICAgbGV0IGlzSW5SaWdodFBsYWNlID0gZWxlbS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nID09IG51bGxcbiAgICAgICAgICBpZighaXNJblJpZ2h0UGxhY2Upe1xuICAgICAgICAgICAgY29udGFpbmVyLmluc2VydEFkamFjZW50RWxlbWVudChcImFmdGVyYmVnaW5cIiwgZWxlbSlcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSlcblxuICAgIGlmKHRoaXMudXBkYXRlVHlwZSA9PSBcInByZXBlbmRcIil7XG4gICAgICB0aGlzLmVsZW1lbnRJZHNUb0FkZC5yZXZlcnNlKCkuZm9yRWFjaChlbGVtSWQgPT4ge1xuICAgICAgICBtYXliZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtSWQpLCBlbGVtID0+IGNvbnRhaW5lci5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJhZnRlcmJlZ2luXCIsIGVsZW0pKVxuICAgICAgfSlcbiAgICB9XG4gIH1cbn1cbiIsICJ2YXIgRE9DVU1FTlRfRlJBR01FTlRfTk9ERSA9IDExO1xuXG5mdW5jdGlvbiBtb3JwaEF0dHJzKGZyb21Ob2RlLCB0b05vZGUpIHtcbiAgICB2YXIgdG9Ob2RlQXR0cnMgPSB0b05vZGUuYXR0cmlidXRlcztcbiAgICB2YXIgYXR0cjtcbiAgICB2YXIgYXR0ck5hbWU7XG4gICAgdmFyIGF0dHJOYW1lc3BhY2VVUkk7XG4gICAgdmFyIGF0dHJWYWx1ZTtcbiAgICB2YXIgZnJvbVZhbHVlO1xuXG4gICAgLy8gZG9jdW1lbnQtZnJhZ21lbnRzIGRvbnQgaGF2ZSBhdHRyaWJ1dGVzIHNvIGxldHMgbm90IGRvIGFueXRoaW5nXG4gICAgaWYgKHRvTm9kZS5ub2RlVHlwZSA9PT0gRE9DVU1FTlRfRlJBR01FTlRfTk9ERSB8fCBmcm9tTm9kZS5ub2RlVHlwZSA9PT0gRE9DVU1FTlRfRlJBR01FTlRfTk9ERSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIHVwZGF0ZSBhdHRyaWJ1dGVzIG9uIG9yaWdpbmFsIERPTSBlbGVtZW50XG4gICAgZm9yICh2YXIgaSA9IHRvTm9kZUF0dHJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGF0dHIgPSB0b05vZGVBdHRyc1tpXTtcbiAgICAgICAgYXR0ck5hbWUgPSBhdHRyLm5hbWU7XG4gICAgICAgIGF0dHJOYW1lc3BhY2VVUkkgPSBhdHRyLm5hbWVzcGFjZVVSSTtcbiAgICAgICAgYXR0clZhbHVlID0gYXR0ci52YWx1ZTtcblxuICAgICAgICBpZiAoYXR0ck5hbWVzcGFjZVVSSSkge1xuICAgICAgICAgICAgYXR0ck5hbWUgPSBhdHRyLmxvY2FsTmFtZSB8fCBhdHRyTmFtZTtcbiAgICAgICAgICAgIGZyb21WYWx1ZSA9IGZyb21Ob2RlLmdldEF0dHJpYnV0ZU5TKGF0dHJOYW1lc3BhY2VVUkksIGF0dHJOYW1lKTtcblxuICAgICAgICAgICAgaWYgKGZyb21WYWx1ZSAhPT0gYXR0clZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGF0dHIucHJlZml4ID09PSAneG1sbnMnKXtcbiAgICAgICAgICAgICAgICAgICAgYXR0ck5hbWUgPSBhdHRyLm5hbWU7IC8vIEl0J3Mgbm90IGFsbG93ZWQgdG8gc2V0IGFuIGF0dHJpYnV0ZSB3aXRoIHRoZSBYTUxOUyBuYW1lc3BhY2Ugd2l0aG91dCBzcGVjaWZ5aW5nIHRoZSBgeG1sbnNgIHByZWZpeFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmcm9tTm9kZS5zZXRBdHRyaWJ1dGVOUyhhdHRyTmFtZXNwYWNlVVJJLCBhdHRyTmFtZSwgYXR0clZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZyb21WYWx1ZSA9IGZyb21Ob2RlLmdldEF0dHJpYnV0ZShhdHRyTmFtZSk7XG5cbiAgICAgICAgICAgIGlmIChmcm9tVmFsdWUgIT09IGF0dHJWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGZyb21Ob2RlLnNldEF0dHJpYnV0ZShhdHRyTmFtZSwgYXR0clZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJlbW92ZSBhbnkgZXh0cmEgYXR0cmlidXRlcyBmb3VuZCBvbiB0aGUgb3JpZ2luYWwgRE9NIGVsZW1lbnQgdGhhdFxuICAgIC8vIHdlcmVuJ3QgZm91bmQgb24gdGhlIHRhcmdldCBlbGVtZW50LlxuICAgIHZhciBmcm9tTm9kZUF0dHJzID0gZnJvbU5vZGUuYXR0cmlidXRlcztcblxuICAgIGZvciAodmFyIGQgPSBmcm9tTm9kZUF0dHJzLmxlbmd0aCAtIDE7IGQgPj0gMDsgZC0tKSB7XG4gICAgICAgIGF0dHIgPSBmcm9tTm9kZUF0dHJzW2RdO1xuICAgICAgICBhdHRyTmFtZSA9IGF0dHIubmFtZTtcbiAgICAgICAgYXR0ck5hbWVzcGFjZVVSSSA9IGF0dHIubmFtZXNwYWNlVVJJO1xuXG4gICAgICAgIGlmIChhdHRyTmFtZXNwYWNlVVJJKSB7XG4gICAgICAgICAgICBhdHRyTmFtZSA9IGF0dHIubG9jYWxOYW1lIHx8IGF0dHJOYW1lO1xuXG4gICAgICAgICAgICBpZiAoIXRvTm9kZS5oYXNBdHRyaWJ1dGVOUyhhdHRyTmFtZXNwYWNlVVJJLCBhdHRyTmFtZSkpIHtcbiAgICAgICAgICAgICAgICBmcm9tTm9kZS5yZW1vdmVBdHRyaWJ1dGVOUyhhdHRyTmFtZXNwYWNlVVJJLCBhdHRyTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoIXRvTm9kZS5oYXNBdHRyaWJ1dGUoYXR0ck5hbWUpKSB7XG4gICAgICAgICAgICAgICAgZnJvbU5vZGUucmVtb3ZlQXR0cmlidXRlKGF0dHJOYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxudmFyIHJhbmdlOyAvLyBDcmVhdGUgYSByYW5nZSBvYmplY3QgZm9yIGVmZmljZW50bHkgcmVuZGVyaW5nIHN0cmluZ3MgdG8gZWxlbWVudHMuXG52YXIgTlNfWEhUTUwgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCc7XG5cbnZhciBkb2MgPSB0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogZG9jdW1lbnQ7XG52YXIgSEFTX1RFTVBMQVRFX1NVUFBPUlQgPSAhIWRvYyAmJiAnY29udGVudCcgaW4gZG9jLmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG52YXIgSEFTX1JBTkdFX1NVUFBPUlQgPSAhIWRvYyAmJiBkb2MuY3JlYXRlUmFuZ2UgJiYgJ2NyZWF0ZUNvbnRleHR1YWxGcmFnbWVudCcgaW4gZG9jLmNyZWF0ZVJhbmdlKCk7XG5cbmZ1bmN0aW9uIGNyZWF0ZUZyYWdtZW50RnJvbVRlbXBsYXRlKHN0cikge1xuICAgIHZhciB0ZW1wbGF0ZSA9IGRvYy5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuICAgIHRlbXBsYXRlLmlubmVySFRNTCA9IHN0cjtcbiAgICByZXR1cm4gdGVtcGxhdGUuY29udGVudC5jaGlsZE5vZGVzWzBdO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVGcmFnbWVudEZyb21SYW5nZShzdHIpIHtcbiAgICBpZiAoIXJhbmdlKSB7XG4gICAgICAgIHJhbmdlID0gZG9jLmNyZWF0ZVJhbmdlKCk7XG4gICAgICAgIHJhbmdlLnNlbGVjdE5vZGUoZG9jLmJvZHkpO1xuICAgIH1cblxuICAgIHZhciBmcmFnbWVudCA9IHJhbmdlLmNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudChzdHIpO1xuICAgIHJldHVybiBmcmFnbWVudC5jaGlsZE5vZGVzWzBdO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVGcmFnbWVudEZyb21XcmFwKHN0cikge1xuICAgIHZhciBmcmFnbWVudCA9IGRvYy5jcmVhdGVFbGVtZW50KCdib2R5Jyk7XG4gICAgZnJhZ21lbnQuaW5uZXJIVE1MID0gc3RyO1xuICAgIHJldHVybiBmcmFnbWVudC5jaGlsZE5vZGVzWzBdO1xufVxuXG4vKipcbiAqIFRoaXMgaXMgYWJvdXQgdGhlIHNhbWVcbiAqIHZhciBodG1sID0gbmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyhzdHIsICd0ZXh0L2h0bWwnKTtcbiAqIHJldHVybiBodG1sLmJvZHkuZmlyc3RDaGlsZDtcbiAqXG4gKiBAbWV0aG9kIHRvRWxlbWVudFxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICovXG5mdW5jdGlvbiB0b0VsZW1lbnQoc3RyKSB7XG4gICAgc3RyID0gc3RyLnRyaW0oKTtcbiAgICBpZiAoSEFTX1RFTVBMQVRFX1NVUFBPUlQpIHtcbiAgICAgIC8vIGF2b2lkIHJlc3RyaWN0aW9ucyBvbiBjb250ZW50IGZvciB0aGluZ3MgbGlrZSBgPHRyPjx0aD5IaTwvdGg+PC90cj5gIHdoaWNoXG4gICAgICAvLyBjcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQgZG9lc24ndCBzdXBwb3J0XG4gICAgICAvLyA8dGVtcGxhdGU+IHN1cHBvcnQgbm90IGF2YWlsYWJsZSBpbiBJRVxuICAgICAgcmV0dXJuIGNyZWF0ZUZyYWdtZW50RnJvbVRlbXBsYXRlKHN0cik7XG4gICAgfSBlbHNlIGlmIChIQVNfUkFOR0VfU1VQUE9SVCkge1xuICAgICAgcmV0dXJuIGNyZWF0ZUZyYWdtZW50RnJvbVJhbmdlKHN0cik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNyZWF0ZUZyYWdtZW50RnJvbVdyYXAoc3RyKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdHdvIG5vZGUncyBuYW1lcyBhcmUgdGhlIHNhbWUuXG4gKlxuICogTk9URTogV2UgZG9uJ3QgYm90aGVyIGNoZWNraW5nIGBuYW1lc3BhY2VVUklgIGJlY2F1c2UgeW91IHdpbGwgbmV2ZXIgZmluZCB0d28gSFRNTCBlbGVtZW50cyB3aXRoIHRoZSBzYW1lXG4gKiAgICAgICBub2RlTmFtZSBhbmQgZGlmZmVyZW50IG5hbWVzcGFjZSBVUklzLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gYVxuICogQHBhcmFtIHtFbGVtZW50fSBiIFRoZSB0YXJnZXQgZWxlbWVudFxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gY29tcGFyZU5vZGVOYW1lcyhmcm9tRWwsIHRvRWwpIHtcbiAgICB2YXIgZnJvbU5vZGVOYW1lID0gZnJvbUVsLm5vZGVOYW1lO1xuICAgIHZhciB0b05vZGVOYW1lID0gdG9FbC5ub2RlTmFtZTtcbiAgICB2YXIgZnJvbUNvZGVTdGFydCwgdG9Db2RlU3RhcnQ7XG5cbiAgICBpZiAoZnJvbU5vZGVOYW1lID09PSB0b05vZGVOYW1lKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGZyb21Db2RlU3RhcnQgPSBmcm9tTm9kZU5hbWUuY2hhckNvZGVBdCgwKTtcbiAgICB0b0NvZGVTdGFydCA9IHRvTm9kZU5hbWUuY2hhckNvZGVBdCgwKTtcblxuICAgIC8vIElmIHRoZSB0YXJnZXQgZWxlbWVudCBpcyBhIHZpcnR1YWwgRE9NIG5vZGUgb3IgU1ZHIG5vZGUgdGhlbiB3ZSBtYXlcbiAgICAvLyBuZWVkIHRvIG5vcm1hbGl6ZSB0aGUgdGFnIG5hbWUgYmVmb3JlIGNvbXBhcmluZy4gTm9ybWFsIEhUTUwgZWxlbWVudHMgdGhhdCBhcmVcbiAgICAvLyBpbiB0aGUgXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCJcbiAgICAvLyBhcmUgY29udmVydGVkIHRvIHVwcGVyIGNhc2VcbiAgICBpZiAoZnJvbUNvZGVTdGFydCA8PSA5MCAmJiB0b0NvZGVTdGFydCA+PSA5NykgeyAvLyBmcm9tIGlzIHVwcGVyIGFuZCB0byBpcyBsb3dlclxuICAgICAgICByZXR1cm4gZnJvbU5vZGVOYW1lID09PSB0b05vZGVOYW1lLnRvVXBwZXJDYXNlKCk7XG4gICAgfSBlbHNlIGlmICh0b0NvZGVTdGFydCA8PSA5MCAmJiBmcm9tQ29kZVN0YXJ0ID49IDk3KSB7IC8vIHRvIGlzIHVwcGVyIGFuZCBmcm9tIGlzIGxvd2VyXG4gICAgICAgIHJldHVybiB0b05vZGVOYW1lID09PSBmcm9tTm9kZU5hbWUudG9VcHBlckNhc2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG4vKipcbiAqIENyZWF0ZSBhbiBlbGVtZW50LCBvcHRpb25hbGx5IHdpdGggYSBrbm93biBuYW1lc3BhY2UgVVJJLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIHRoZSBlbGVtZW50IG5hbWUsIGUuZy4gJ2Rpdicgb3IgJ3N2ZydcbiAqIEBwYXJhbSB7c3RyaW5nfSBbbmFtZXNwYWNlVVJJXSB0aGUgZWxlbWVudCdzIG5hbWVzcGFjZSBVUkksIGkuZS4gdGhlIHZhbHVlIG9mXG4gKiBpdHMgYHhtbG5zYCBhdHRyaWJ1dGUgb3IgaXRzIGluZmVycmVkIG5hbWVzcGFjZS5cbiAqXG4gKiBAcmV0dXJuIHtFbGVtZW50fVxuICovXG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50TlMobmFtZSwgbmFtZXNwYWNlVVJJKSB7XG4gICAgcmV0dXJuICFuYW1lc3BhY2VVUkkgfHwgbmFtZXNwYWNlVVJJID09PSBOU19YSFRNTCA/XG4gICAgICAgIGRvYy5jcmVhdGVFbGVtZW50KG5hbWUpIDpcbiAgICAgICAgZG9jLmNyZWF0ZUVsZW1lbnROUyhuYW1lc3BhY2VVUkksIG5hbWUpO1xufVxuXG4vKipcbiAqIENvcGllcyB0aGUgY2hpbGRyZW4gb2Ygb25lIERPTSBlbGVtZW50IHRvIGFub3RoZXIgRE9NIGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gbW92ZUNoaWxkcmVuKGZyb21FbCwgdG9FbCkge1xuICAgIHZhciBjdXJDaGlsZCA9IGZyb21FbC5maXJzdENoaWxkO1xuICAgIHdoaWxlIChjdXJDaGlsZCkge1xuICAgICAgICB2YXIgbmV4dENoaWxkID0gY3VyQ2hpbGQubmV4dFNpYmxpbmc7XG4gICAgICAgIHRvRWwuYXBwZW5kQ2hpbGQoY3VyQ2hpbGQpO1xuICAgICAgICBjdXJDaGlsZCA9IG5leHRDaGlsZDtcbiAgICB9XG4gICAgcmV0dXJuIHRvRWw7XG59XG5cbmZ1bmN0aW9uIHN5bmNCb29sZWFuQXR0clByb3AoZnJvbUVsLCB0b0VsLCBuYW1lKSB7XG4gICAgaWYgKGZyb21FbFtuYW1lXSAhPT0gdG9FbFtuYW1lXSkge1xuICAgICAgICBmcm9tRWxbbmFtZV0gPSB0b0VsW25hbWVdO1xuICAgICAgICBpZiAoZnJvbUVsW25hbWVdKSB7XG4gICAgICAgICAgICBmcm9tRWwuc2V0QXR0cmlidXRlKG5hbWUsICcnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZyb21FbC5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbnZhciBzcGVjaWFsRWxIYW5kbGVycyA9IHtcbiAgICBPUFRJT046IGZ1bmN0aW9uKGZyb21FbCwgdG9FbCkge1xuICAgICAgICB2YXIgcGFyZW50Tm9kZSA9IGZyb21FbC5wYXJlbnROb2RlO1xuICAgICAgICBpZiAocGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgdmFyIHBhcmVudE5hbWUgPSBwYXJlbnROb2RlLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICBpZiAocGFyZW50TmFtZSA9PT0gJ09QVEdST1VQJykge1xuICAgICAgICAgICAgICAgIHBhcmVudE5vZGUgPSBwYXJlbnROb2RlLnBhcmVudE5vZGU7XG4gICAgICAgICAgICAgICAgcGFyZW50TmFtZSA9IHBhcmVudE5vZGUgJiYgcGFyZW50Tm9kZS5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBhcmVudE5hbWUgPT09ICdTRUxFQ1QnICYmICFwYXJlbnROb2RlLmhhc0F0dHJpYnV0ZSgnbXVsdGlwbGUnKSkge1xuICAgICAgICAgICAgICAgIGlmIChmcm9tRWwuaGFzQXR0cmlidXRlKCdzZWxlY3RlZCcpICYmICF0b0VsLnNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdvcmthcm91bmQgZm9yIE1TIEVkZ2UgYnVnIHdoZXJlIHRoZSAnc2VsZWN0ZWQnIGF0dHJpYnV0ZSBjYW4gb25seSBiZVxuICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmVkIGlmIHNldCB0byBhIG5vbi1lbXB0eSB2YWx1ZTpcbiAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubWljcm9zb2Z0LmNvbS9lbi11cy9taWNyb3NvZnQtZWRnZS9wbGF0Zm9ybS9pc3N1ZXMvMTIwODc2NzkvXG4gICAgICAgICAgICAgICAgICAgIGZyb21FbC5zZXRBdHRyaWJ1dGUoJ3NlbGVjdGVkJywgJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgICAgIGZyb21FbC5yZW1vdmVBdHRyaWJ1dGUoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFdlIGhhdmUgdG8gcmVzZXQgc2VsZWN0IGVsZW1lbnQncyBzZWxlY3RlZEluZGV4IHRvIC0xLCBvdGhlcndpc2Ugc2V0dGluZ1xuICAgICAgICAgICAgICAgIC8vIGZyb21FbC5zZWxlY3RlZCB1c2luZyB0aGUgc3luY0Jvb2xlYW5BdHRyUHJvcCBiZWxvdyBoYXMgbm8gZWZmZWN0LlxuICAgICAgICAgICAgICAgIC8vIFRoZSBjb3JyZWN0IHNlbGVjdGVkSW5kZXggd2lsbCBiZSBzZXQgaW4gdGhlIFNFTEVDVCBzcGVjaWFsIGhhbmRsZXIgYmVsb3cuXG4gICAgICAgICAgICAgICAgcGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4ID0gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3luY0Jvb2xlYW5BdHRyUHJvcChmcm9tRWwsIHRvRWwsICdzZWxlY3RlZCcpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogVGhlIFwidmFsdWVcIiBhdHRyaWJ1dGUgaXMgc3BlY2lhbCBmb3IgdGhlIDxpbnB1dD4gZWxlbWVudCBzaW5jZSBpdCBzZXRzXG4gICAgICogdGhlIGluaXRpYWwgdmFsdWUuIENoYW5naW5nIHRoZSBcInZhbHVlXCIgYXR0cmlidXRlIHdpdGhvdXQgY2hhbmdpbmcgdGhlXG4gICAgICogXCJ2YWx1ZVwiIHByb3BlcnR5IHdpbGwgaGF2ZSBubyBlZmZlY3Qgc2luY2UgaXQgaXMgb25seSB1c2VkIHRvIHRoZSBzZXQgdGhlXG4gICAgICogaW5pdGlhbCB2YWx1ZS4gIFNpbWlsYXIgZm9yIHRoZSBcImNoZWNrZWRcIiBhdHRyaWJ1dGUsIGFuZCBcImRpc2FibGVkXCIuXG4gICAgICovXG4gICAgSU5QVVQ6IGZ1bmN0aW9uKGZyb21FbCwgdG9FbCkge1xuICAgICAgICBzeW5jQm9vbGVhbkF0dHJQcm9wKGZyb21FbCwgdG9FbCwgJ2NoZWNrZWQnKTtcbiAgICAgICAgc3luY0Jvb2xlYW5BdHRyUHJvcChmcm9tRWwsIHRvRWwsICdkaXNhYmxlZCcpO1xuXG4gICAgICAgIGlmIChmcm9tRWwudmFsdWUgIT09IHRvRWwudmFsdWUpIHtcbiAgICAgICAgICAgIGZyb21FbC52YWx1ZSA9IHRvRWwudmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRvRWwuaGFzQXR0cmlidXRlKCd2YWx1ZScpKSB7XG4gICAgICAgICAgICBmcm9tRWwucmVtb3ZlQXR0cmlidXRlKCd2YWx1ZScpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIFRFWFRBUkVBOiBmdW5jdGlvbihmcm9tRWwsIHRvRWwpIHtcbiAgICAgICAgdmFyIG5ld1ZhbHVlID0gdG9FbC52YWx1ZTtcbiAgICAgICAgaWYgKGZyb21FbC52YWx1ZSAhPT0gbmV3VmFsdWUpIHtcbiAgICAgICAgICAgIGZyb21FbC52YWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGZpcnN0Q2hpbGQgPSBmcm9tRWwuZmlyc3RDaGlsZDtcbiAgICAgICAgaWYgKGZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgIC8vIE5lZWRlZCBmb3IgSUUuIEFwcGFyZW50bHkgSUUgc2V0cyB0aGUgcGxhY2Vob2xkZXIgYXMgdGhlXG4gICAgICAgICAgICAvLyBub2RlIHZhbHVlIGFuZCB2aXNlIHZlcnNhLiBUaGlzIGlnbm9yZXMgYW4gZW1wdHkgdXBkYXRlLlxuICAgICAgICAgICAgdmFyIG9sZFZhbHVlID0gZmlyc3RDaGlsZC5ub2RlVmFsdWU7XG5cbiAgICAgICAgICAgIGlmIChvbGRWYWx1ZSA9PSBuZXdWYWx1ZSB8fCAoIW5ld1ZhbHVlICYmIG9sZFZhbHVlID09IGZyb21FbC5wbGFjZWhvbGRlcikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZpcnN0Q2hpbGQubm9kZVZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIFNFTEVDVDogZnVuY3Rpb24oZnJvbUVsLCB0b0VsKSB7XG4gICAgICAgIGlmICghdG9FbC5oYXNBdHRyaWJ1dGUoJ211bHRpcGxlJykpIHtcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZEluZGV4ID0gLTE7XG4gICAgICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgICAgICAvLyBXZSBoYXZlIHRvIGxvb3AgdGhyb3VnaCBjaGlsZHJlbiBvZiBmcm9tRWwsIG5vdCB0b0VsIHNpbmNlIG5vZGVzIGNhbiBiZSBtb3ZlZFxuICAgICAgICAgICAgLy8gZnJvbSB0b0VsIHRvIGZyb21FbCBkaXJlY3RseSB3aGVuIG1vcnBoaW5nLlxuICAgICAgICAgICAgLy8gQXQgdGhlIHRpbWUgdGhpcyBzcGVjaWFsIGhhbmRsZXIgaXMgaW52b2tlZCwgYWxsIGNoaWxkcmVuIGhhdmUgYWxyZWFkeSBiZWVuIG1vcnBoZWRcbiAgICAgICAgICAgIC8vIGFuZCBhcHBlbmRlZCB0byAvIHJlbW92ZWQgZnJvbSBmcm9tRWwsIHNvIHVzaW5nIGZyb21FbCBoZXJlIGlzIHNhZmUgYW5kIGNvcnJlY3QuXG4gICAgICAgICAgICB2YXIgY3VyQ2hpbGQgPSBmcm9tRWwuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgIHZhciBvcHRncm91cDtcbiAgICAgICAgICAgIHZhciBub2RlTmFtZTtcbiAgICAgICAgICAgIHdoaWxlKGN1ckNoaWxkKSB7XG4gICAgICAgICAgICAgICAgbm9kZU5hbWUgPSBjdXJDaGlsZC5ub2RlTmFtZSAmJiBjdXJDaGlsZC5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIGlmIChub2RlTmFtZSA9PT0gJ09QVEdST1VQJykge1xuICAgICAgICAgICAgICAgICAgICBvcHRncm91cCA9IGN1ckNoaWxkO1xuICAgICAgICAgICAgICAgICAgICBjdXJDaGlsZCA9IG9wdGdyb3VwLmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGVOYW1lID09PSAnT1BUSU9OJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1ckNoaWxkLmhhc0F0dHJpYnV0ZSgnc2VsZWN0ZWQnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkSW5kZXggPSBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGN1ckNoaWxkID0gY3VyQ2hpbGQubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY3VyQ2hpbGQgJiYgb3B0Z3JvdXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ckNoaWxkID0gb3B0Z3JvdXAubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRncm91cCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZyb21FbC5zZWxlY3RlZEluZGV4ID0gc2VsZWN0ZWRJbmRleDtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbnZhciBFTEVNRU5UX05PREUgPSAxO1xudmFyIERPQ1VNRU5UX0ZSQUdNRU5UX05PREUkMSA9IDExO1xudmFyIFRFWFRfTk9ERSA9IDM7XG52YXIgQ09NTUVOVF9OT0RFID0gODtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbmZ1bmN0aW9uIGRlZmF1bHRHZXROb2RlS2V5KG5vZGUpIHtcbiAgaWYgKG5vZGUpIHtcbiAgICAgIHJldHVybiAobm9kZS5nZXRBdHRyaWJ1dGUgJiYgbm9kZS5nZXRBdHRyaWJ1dGUoJ2lkJykpIHx8IG5vZGUuaWQ7XG4gIH1cbn1cblxuZnVuY3Rpb24gbW9ycGhkb21GYWN0b3J5KG1vcnBoQXR0cnMpIHtcblxuICAgIHJldHVybiBmdW5jdGlvbiBtb3JwaGRvbShmcm9tTm9kZSwgdG9Ob2RlLCBvcHRpb25zKSB7XG4gICAgICAgIGlmICghb3B0aW9ucykge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiB0b05vZGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpZiAoZnJvbU5vZGUubm9kZU5hbWUgPT09ICcjZG9jdW1lbnQnIHx8IGZyb21Ob2RlLm5vZGVOYW1lID09PSAnSFRNTCcgfHwgZnJvbU5vZGUubm9kZU5hbWUgPT09ICdCT0RZJykge1xuICAgICAgICAgICAgICAgIHZhciB0b05vZGVIdG1sID0gdG9Ob2RlO1xuICAgICAgICAgICAgICAgIHRvTm9kZSA9IGRvYy5jcmVhdGVFbGVtZW50KCdodG1sJyk7XG4gICAgICAgICAgICAgICAgdG9Ob2RlLmlubmVySFRNTCA9IHRvTm9kZUh0bWw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRvTm9kZSA9IHRvRWxlbWVudCh0b05vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGdldE5vZGVLZXkgPSBvcHRpb25zLmdldE5vZGVLZXkgfHwgZGVmYXVsdEdldE5vZGVLZXk7XG4gICAgICAgIHZhciBvbkJlZm9yZU5vZGVBZGRlZCA9IG9wdGlvbnMub25CZWZvcmVOb2RlQWRkZWQgfHwgbm9vcDtcbiAgICAgICAgdmFyIG9uTm9kZUFkZGVkID0gb3B0aW9ucy5vbk5vZGVBZGRlZCB8fCBub29wO1xuICAgICAgICB2YXIgb25CZWZvcmVFbFVwZGF0ZWQgPSBvcHRpb25zLm9uQmVmb3JlRWxVcGRhdGVkIHx8IG5vb3A7XG4gICAgICAgIHZhciBvbkVsVXBkYXRlZCA9IG9wdGlvbnMub25FbFVwZGF0ZWQgfHwgbm9vcDtcbiAgICAgICAgdmFyIG9uQmVmb3JlTm9kZURpc2NhcmRlZCA9IG9wdGlvbnMub25CZWZvcmVOb2RlRGlzY2FyZGVkIHx8IG5vb3A7XG4gICAgICAgIHZhciBvbk5vZGVEaXNjYXJkZWQgPSBvcHRpb25zLm9uTm9kZURpc2NhcmRlZCB8fCBub29wO1xuICAgICAgICB2YXIgb25CZWZvcmVFbENoaWxkcmVuVXBkYXRlZCA9IG9wdGlvbnMub25CZWZvcmVFbENoaWxkcmVuVXBkYXRlZCB8fCBub29wO1xuICAgICAgICB2YXIgY2hpbGRyZW5Pbmx5ID0gb3B0aW9ucy5jaGlsZHJlbk9ubHkgPT09IHRydWU7XG5cbiAgICAgICAgLy8gVGhpcyBvYmplY3QgaXMgdXNlZCBhcyBhIGxvb2t1cCB0byBxdWlja2x5IGZpbmQgYWxsIGtleWVkIGVsZW1lbnRzIGluIHRoZSBvcmlnaW5hbCBET00gdHJlZS5cbiAgICAgICAgdmFyIGZyb21Ob2Rlc0xvb2t1cCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIHZhciBrZXllZFJlbW92YWxMaXN0ID0gW107XG5cbiAgICAgICAgZnVuY3Rpb24gYWRkS2V5ZWRSZW1vdmFsKGtleSkge1xuICAgICAgICAgICAga2V5ZWRSZW1vdmFsTGlzdC5wdXNoKGtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiB3YWxrRGlzY2FyZGVkQ2hpbGROb2Rlcyhub2RlLCBza2lwS2V5ZWROb2Rlcykge1xuICAgICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IEVMRU1FTlRfTk9ERSkge1xuICAgICAgICAgICAgICAgIHZhciBjdXJDaGlsZCA9IG5vZGUuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgICAgICB3aGlsZSAoY3VyQ2hpbGQpIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChza2lwS2V5ZWROb2RlcyAmJiAoa2V5ID0gZ2V0Tm9kZUtleShjdXJDaGlsZCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSBhcmUgc2tpcHBpbmcga2V5ZWQgbm9kZXMgdGhlbiB3ZSBhZGQgdGhlIGtleVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdG8gYSBsaXN0IHNvIHRoYXQgaXQgY2FuIGJlIGhhbmRsZWQgYXQgdGhlIHZlcnkgZW5kLlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkS2V5ZWRSZW1vdmFsKGtleSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IHJlcG9ydCB0aGUgbm9kZSBhcyBkaXNjYXJkZWQgaWYgaXQgaXMgbm90IGtleWVkLiBXZSBkbyB0aGlzIGJlY2F1c2VcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGF0IHRoZSBlbmQgd2UgbG9vcCB0aHJvdWdoIGFsbCBrZXllZCBlbGVtZW50cyB0aGF0IHdlcmUgdW5tYXRjaGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhbmQgdGhlbiBkaXNjYXJkIHRoZW0gaW4gb25lIGZpbmFsIHBhc3MuXG4gICAgICAgICAgICAgICAgICAgICAgICBvbk5vZGVEaXNjYXJkZWQoY3VyQ2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1ckNoaWxkLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YWxrRGlzY2FyZGVkQ2hpbGROb2RlcyhjdXJDaGlsZCwgc2tpcEtleWVkTm9kZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY3VyQ2hpbGQgPSBjdXJDaGlsZC5uZXh0U2libGluZztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVtb3ZlcyBhIERPTSBub2RlIG91dCBvZiB0aGUgb3JpZ2luYWwgRE9NXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSAge05vZGV9IG5vZGUgVGhlIG5vZGUgdG8gcmVtb3ZlXG4gICAgICAgICAqIEBwYXJhbSAge05vZGV9IHBhcmVudE5vZGUgVGhlIG5vZGVzIHBhcmVudFxuICAgICAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBza2lwS2V5ZWROb2RlcyBJZiB0cnVlIHRoZW4gZWxlbWVudHMgd2l0aCBrZXlzIHdpbGwgYmUgc2tpcHBlZCBhbmQgbm90IGRpc2NhcmRlZC5cbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlTm9kZShub2RlLCBwYXJlbnROb2RlLCBza2lwS2V5ZWROb2Rlcykge1xuICAgICAgICAgICAgaWYgKG9uQmVmb3JlTm9kZURpc2NhcmRlZChub2RlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb25Ob2RlRGlzY2FyZGVkKG5vZGUpO1xuICAgICAgICAgICAgd2Fsa0Rpc2NhcmRlZENoaWxkTm9kZXMobm9kZSwgc2tpcEtleWVkTm9kZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gLy8gVHJlZVdhbGtlciBpbXBsZW1lbnRhdGlvbiBpcyBubyBmYXN0ZXIsIGJ1dCBrZWVwaW5nIHRoaXMgYXJvdW5kIGluIGNhc2UgdGhpcyBjaGFuZ2VzIGluIHRoZSBmdXR1cmVcbiAgICAgICAgLy8gZnVuY3Rpb24gaW5kZXhUcmVlKHJvb3QpIHtcbiAgICAgICAgLy8gICAgIHZhciB0cmVlV2Fsa2VyID0gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihcbiAgICAgICAgLy8gICAgICAgICByb290LFxuICAgICAgICAvLyAgICAgICAgIE5vZGVGaWx0ZXIuU0hPV19FTEVNRU5UKTtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gICAgIHZhciBlbDtcbiAgICAgICAgLy8gICAgIHdoaWxlKChlbCA9IHRyZWVXYWxrZXIubmV4dE5vZGUoKSkpIHtcbiAgICAgICAgLy8gICAgICAgICB2YXIga2V5ID0gZ2V0Tm9kZUtleShlbCk7XG4gICAgICAgIC8vICAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAvLyAgICAgICAgICAgICBmcm9tTm9kZXNMb29rdXBba2V5XSA9IGVsO1xuICAgICAgICAvLyAgICAgICAgIH1cbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy8gfVxuXG4gICAgICAgIC8vIC8vIE5vZGVJdGVyYXRvciBpbXBsZW1lbnRhdGlvbiBpcyBubyBmYXN0ZXIsIGJ1dCBrZWVwaW5nIHRoaXMgYXJvdW5kIGluIGNhc2UgdGhpcyBjaGFuZ2VzIGluIHRoZSBmdXR1cmVcbiAgICAgICAgLy9cbiAgICAgICAgLy8gZnVuY3Rpb24gaW5kZXhUcmVlKG5vZGUpIHtcbiAgICAgICAgLy8gICAgIHZhciBub2RlSXRlcmF0b3IgPSBkb2N1bWVudC5jcmVhdGVOb2RlSXRlcmF0b3Iobm9kZSwgTm9kZUZpbHRlci5TSE9XX0VMRU1FTlQpO1xuICAgICAgICAvLyAgICAgdmFyIGVsO1xuICAgICAgICAvLyAgICAgd2hpbGUoKGVsID0gbm9kZUl0ZXJhdG9yLm5leHROb2RlKCkpKSB7XG4gICAgICAgIC8vICAgICAgICAgdmFyIGtleSA9IGdldE5vZGVLZXkoZWwpO1xuICAgICAgICAvLyAgICAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgLy8gICAgICAgICAgICAgZnJvbU5vZGVzTG9va3VwW2tleV0gPSBlbDtcbiAgICAgICAgLy8gICAgICAgICB9XG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vIH1cblxuICAgICAgICBmdW5jdGlvbiBpbmRleFRyZWUobm9kZSkge1xuICAgICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IEVMRU1FTlRfTk9ERSB8fCBub2RlLm5vZGVUeXBlID09PSBET0NVTUVOVF9GUkFHTUVOVF9OT0RFJDEpIHtcbiAgICAgICAgICAgICAgICB2YXIgY3VyQ2hpbGQgPSBub2RlLmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGN1ckNoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSBnZXROb2RlS2V5KGN1ckNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZnJvbU5vZGVzTG9va3VwW2tleV0gPSBjdXJDaGlsZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIFdhbGsgcmVjdXJzaXZlbHlcbiAgICAgICAgICAgICAgICAgICAgaW5kZXhUcmVlKGN1ckNoaWxkKTtcblxuICAgICAgICAgICAgICAgICAgICBjdXJDaGlsZCA9IGN1ckNoaWxkLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGluZGV4VHJlZShmcm9tTm9kZSk7XG5cbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlTm9kZUFkZGVkKGVsKSB7XG4gICAgICAgICAgICBvbk5vZGVBZGRlZChlbCk7XG5cbiAgICAgICAgICAgIHZhciBjdXJDaGlsZCA9IGVsLmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICB3aGlsZSAoY3VyQ2hpbGQpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmV4dFNpYmxpbmcgPSBjdXJDaGlsZC5uZXh0U2libGluZztcblxuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBnZXROb2RlS2V5KGN1ckNoaWxkKTtcbiAgICAgICAgICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB1bm1hdGNoZWRGcm9tRWwgPSBmcm9tTm9kZXNMb29rdXBba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgd2UgZmluZCBhIGR1cGxpY2F0ZSAjaWQgbm9kZSBpbiBjYWNoZSwgcmVwbGFjZSBgZWxgIHdpdGggY2FjaGUgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5kIG1vcnBoIGl0IHRvIHRoZSBjaGlsZCBub2RlLlxuICAgICAgICAgICAgICAgICAgICBpZiAodW5tYXRjaGVkRnJvbUVsICYmIGNvbXBhcmVOb2RlTmFtZXMoY3VyQ2hpbGQsIHVubWF0Y2hlZEZyb21FbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ckNoaWxkLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHVubWF0Y2hlZEZyb21FbCwgY3VyQ2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9ycGhFbCh1bm1hdGNoZWRGcm9tRWwsIGN1ckNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVOb2RlQWRkZWQoY3VyQ2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIC8vIHJlY3Vyc2l2ZWx5IGNhbGwgZm9yIGN1ckNoaWxkIGFuZCBpdCdzIGNoaWxkcmVuIHRvIHNlZSBpZiB3ZSBmaW5kIHNvbWV0aGluZyBpblxuICAgICAgICAgICAgICAgICAgLy8gZnJvbU5vZGVzTG9va3VwXG4gICAgICAgICAgICAgICAgICBoYW5kbGVOb2RlQWRkZWQoY3VyQ2hpbGQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGN1ckNoaWxkID0gbmV4dFNpYmxpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjbGVhbnVwRnJvbUVsKGZyb21FbCwgY3VyRnJvbU5vZGVDaGlsZCwgY3VyRnJvbU5vZGVLZXkpIHtcbiAgICAgICAgICAgIC8vIFdlIGhhdmUgcHJvY2Vzc2VkIGFsbCBvZiB0aGUgXCJ0byBub2Rlc1wiLiBJZiBjdXJGcm9tTm9kZUNoaWxkIGlzXG4gICAgICAgICAgICAvLyBub24tbnVsbCB0aGVuIHdlIHN0aWxsIGhhdmUgc29tZSBmcm9tIG5vZGVzIGxlZnQgb3ZlciB0aGF0IG5lZWRcbiAgICAgICAgICAgIC8vIHRvIGJlIHJlbW92ZWRcbiAgICAgICAgICAgIHdoaWxlIChjdXJGcm9tTm9kZUNoaWxkKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZyb21OZXh0U2libGluZyA9IGN1ckZyb21Ob2RlQ2hpbGQubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgaWYgKChjdXJGcm9tTm9kZUtleSA9IGdldE5vZGVLZXkoY3VyRnJvbU5vZGVDaGlsZCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNpbmNlIHRoZSBub2RlIGlzIGtleWVkIGl0IG1pZ2h0IGJlIG1hdGNoZWQgdXAgbGF0ZXIgc28gd2UgZGVmZXJcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGFjdHVhbCByZW1vdmFsIHRvIGxhdGVyXG4gICAgICAgICAgICAgICAgICAgIGFkZEtleWVkUmVtb3ZhbChjdXJGcm9tTm9kZUtleSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTk9URTogd2Ugc2tpcCBuZXN0ZWQga2V5ZWQgbm9kZXMgZnJvbSBiZWluZyByZW1vdmVkIHNpbmNlIHRoZXJlIGlzXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgIHN0aWxsIGEgY2hhbmNlIHRoZXkgd2lsbCBiZSBtYXRjaGVkIHVwIGxhdGVyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZU5vZGUoY3VyRnJvbU5vZGVDaGlsZCwgZnJvbUVsLCB0cnVlIC8qIHNraXAga2V5ZWQgbm9kZXMgKi8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdXJGcm9tTm9kZUNoaWxkID0gZnJvbU5leHRTaWJsaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gbW9ycGhFbChmcm9tRWwsIHRvRWwsIGNoaWxkcmVuT25seSkge1xuICAgICAgICAgICAgdmFyIHRvRWxLZXkgPSBnZXROb2RlS2V5KHRvRWwpO1xuXG4gICAgICAgICAgICBpZiAodG9FbEtleSkge1xuICAgICAgICAgICAgICAgIC8vIElmIGFuIGVsZW1lbnQgd2l0aCBhbiBJRCBpcyBiZWluZyBtb3JwaGVkIHRoZW4gaXQgd2lsbCBiZSBpbiB0aGUgZmluYWxcbiAgICAgICAgICAgICAgICAvLyBET00gc28gY2xlYXIgaXQgb3V0IG9mIHRoZSBzYXZlZCBlbGVtZW50cyBjb2xsZWN0aW9uXG4gICAgICAgICAgICAgICAgZGVsZXRlIGZyb21Ob2Rlc0xvb2t1cFt0b0VsS2V5XTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFjaGlsZHJlbk9ubHkpIHtcbiAgICAgICAgICAgICAgICAvLyBvcHRpb25hbFxuICAgICAgICAgICAgICAgIGlmIChvbkJlZm9yZUVsVXBkYXRlZChmcm9tRWwsIHRvRWwpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIGF0dHJpYnV0ZXMgb24gb3JpZ2luYWwgRE9NIGVsZW1lbnQgZmlyc3RcbiAgICAgICAgICAgICAgICBtb3JwaEF0dHJzKGZyb21FbCwgdG9FbCk7XG4gICAgICAgICAgICAgICAgLy8gb3B0aW9uYWxcbiAgICAgICAgICAgICAgICBvbkVsVXBkYXRlZChmcm9tRWwpO1xuXG4gICAgICAgICAgICAgICAgaWYgKG9uQmVmb3JlRWxDaGlsZHJlblVwZGF0ZWQoZnJvbUVsLCB0b0VsKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZyb21FbC5ub2RlTmFtZSAhPT0gJ1RFWFRBUkVBJykge1xuICAgICAgICAgICAgICBtb3JwaENoaWxkcmVuKGZyb21FbCwgdG9FbCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzcGVjaWFsRWxIYW5kbGVycy5URVhUQVJFQShmcm9tRWwsIHRvRWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gbW9ycGhDaGlsZHJlbihmcm9tRWwsIHRvRWwpIHtcbiAgICAgICAgICAgIHZhciBjdXJUb05vZGVDaGlsZCA9IHRvRWwuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgIHZhciBjdXJGcm9tTm9kZUNoaWxkID0gZnJvbUVsLmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICB2YXIgY3VyVG9Ob2RlS2V5O1xuICAgICAgICAgICAgdmFyIGN1ckZyb21Ob2RlS2V5O1xuXG4gICAgICAgICAgICB2YXIgZnJvbU5leHRTaWJsaW5nO1xuICAgICAgICAgICAgdmFyIHRvTmV4dFNpYmxpbmc7XG4gICAgICAgICAgICB2YXIgbWF0Y2hpbmdGcm9tRWw7XG5cbiAgICAgICAgICAgIC8vIHdhbGsgdGhlIGNoaWxkcmVuXG4gICAgICAgICAgICBvdXRlcjogd2hpbGUgKGN1clRvTm9kZUNoaWxkKSB7XG4gICAgICAgICAgICAgICAgdG9OZXh0U2libGluZyA9IGN1clRvTm9kZUNoaWxkLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgICAgIGN1clRvTm9kZUtleSA9IGdldE5vZGVLZXkoY3VyVG9Ob2RlQ2hpbGQpO1xuXG4gICAgICAgICAgICAgICAgLy8gd2FsayB0aGUgZnJvbU5vZGUgY2hpbGRyZW4gYWxsIHRoZSB3YXkgdGhyb3VnaFxuICAgICAgICAgICAgICAgIHdoaWxlIChjdXJGcm9tTm9kZUNoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIGZyb21OZXh0U2libGluZyA9IGN1ckZyb21Ob2RlQ2hpbGQubmV4dFNpYmxpbmc7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1clRvTm9kZUNoaWxkLmlzU2FtZU5vZGUgJiYgY3VyVG9Ob2RlQ2hpbGQuaXNTYW1lTm9kZShjdXJGcm9tTm9kZUNoaWxkKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VyVG9Ob2RlQ2hpbGQgPSB0b05leHRTaWJsaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VyRnJvbU5vZGVDaGlsZCA9IGZyb21OZXh0U2libGluZztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY3VyRnJvbU5vZGVLZXkgPSBnZXROb2RlS2V5KGN1ckZyb21Ob2RlQ2hpbGQpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJGcm9tTm9kZVR5cGUgPSBjdXJGcm9tTm9kZUNoaWxkLm5vZGVUeXBlO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgbWVhbnMgaWYgdGhlIGN1ckZyb21Ob2RlQ2hpbGQgZG9lc250IGhhdmUgYSBtYXRjaCB3aXRoIHRoZSBjdXJUb05vZGVDaGlsZFxuICAgICAgICAgICAgICAgICAgICB2YXIgaXNDb21wYXRpYmxlID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJGcm9tTm9kZVR5cGUgPT09IGN1clRvTm9kZUNoaWxkLm5vZGVUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyRnJvbU5vZGVUeXBlID09PSBFTEVNRU5UX05PREUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBCb3RoIG5vZGVzIGJlaW5nIGNvbXBhcmVkIGFyZSBFbGVtZW50IG5vZGVzXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyVG9Ob2RlS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSB0YXJnZXQgbm9kZSBoYXMgYSBrZXkgc28gd2Ugd2FudCB0byBtYXRjaCBpdCB1cCB3aXRoIHRoZSBjb3JyZWN0IGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW4gdGhlIG9yaWdpbmFsIERPTSB0cmVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJUb05vZGVLZXkgIT09IGN1ckZyb21Ob2RlS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgY3VycmVudCBlbGVtZW50IGluIHRoZSBvcmlnaW5hbCBET00gdHJlZSBkb2VzIG5vdCBoYXZlIGEgbWF0Y2hpbmcga2V5IHNvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBsZXQncyBjaGVjayBvdXIgbG9va3VwIHRvIHNlZSBpZiB0aGVyZSBpcyBhIG1hdGNoaW5nIGVsZW1lbnQgaW4gdGhlIG9yaWdpbmFsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBET00gdHJlZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChtYXRjaGluZ0Zyb21FbCA9IGZyb21Ob2Rlc0xvb2t1cFtjdXJUb05vZGVLZXldKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmcm9tTmV4dFNpYmxpbmcgPT09IG1hdGNoaW5nRnJvbUVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNwZWNpYWwgY2FzZSBmb3Igc2luZ2xlIGVsZW1lbnQgcmVtb3ZhbHMuIFRvIGF2b2lkIHJlbW92aW5nIHRoZSBvcmlnaW5hbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBET00gbm9kZSBvdXQgb2YgdGhlIHRyZWUgKHNpbmNlIHRoYXQgY2FuIGJyZWFrIENTUyB0cmFuc2l0aW9ucywgZXRjLiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIHdpbGwgaW5zdGVhZCBkaXNjYXJkIHRoZSBjdXJyZW50IG5vZGUgYW5kIHdhaXQgdW50aWwgdGhlIG5leHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXRlcmF0aW9uIHRvIHByb3Blcmx5IG1hdGNoIHVwIHRoZSBrZXllZCB0YXJnZXQgZWxlbWVudCB3aXRoIGl0cyBtYXRjaGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlbGVtZW50IGluIHRoZSBvcmlnaW5hbCB0cmVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQ29tcGF0aWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGZvdW5kIGEgbWF0Y2hpbmcga2V5ZWQgZWxlbWVudCBzb21ld2hlcmUgaW4gdGhlIG9yaWdpbmFsIERPTSB0cmVlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBMZXQncyBtb3ZlIHRoZSBvcmlnaW5hbCBET00gbm9kZSBpbnRvIHRoZSBjdXJyZW50IHBvc2l0aW9uIGFuZCBtb3JwaFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpdC5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBOT1RFOiBXZSB1c2UgaW5zZXJ0QmVmb3JlIGluc3RlYWQgb2YgcmVwbGFjZUNoaWxkIGJlY2F1c2Ugd2Ugd2FudCB0byBnbyB0aHJvdWdoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBgcmVtb3ZlTm9kZSgpYCBmdW5jdGlvbiBmb3IgdGhlIG5vZGUgdGhhdCBpcyBiZWluZyBkaXNjYXJkZWQgc28gdGhhdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhbGwgbGlmZWN5Y2xlIGhvb2tzIGFyZSBjb3JyZWN0bHkgaW52b2tlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tRWwuaW5zZXJ0QmVmb3JlKG1hdGNoaW5nRnJvbUVsLCBjdXJGcm9tTm9kZUNoaWxkKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmcm9tTmV4dFNpYmxpbmcgPSBjdXJGcm9tTm9kZUNoaWxkLm5leHRTaWJsaW5nO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJGcm9tTm9kZUtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2luY2UgdGhlIG5vZGUgaXMga2V5ZWQgaXQgbWlnaHQgYmUgbWF0Y2hlZCB1cCBsYXRlciBzbyB3ZSBkZWZlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGFjdHVhbCByZW1vdmFsIHRvIGxhdGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRLZXllZFJlbW92YWwoY3VyRnJvbU5vZGVLZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTk9URTogd2Ugc2tpcCBuZXN0ZWQga2V5ZWQgbm9kZXMgZnJvbSBiZWluZyByZW1vdmVkIHNpbmNlIHRoZXJlIGlzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICBzdGlsbCBhIGNoYW5jZSB0aGV5IHdpbGwgYmUgbWF0Y2hlZCB1cCBsYXRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlTm9kZShjdXJGcm9tTm9kZUNoaWxkLCBmcm9tRWwsIHRydWUgLyogc2tpcCBrZXllZCBub2RlcyAqLyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJGcm9tTm9kZUNoaWxkID0gbWF0Y2hpbmdGcm9tRWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgbm9kZXMgYXJlIG5vdCBjb21wYXRpYmxlIHNpbmNlIHRoZSBcInRvXCIgbm9kZSBoYXMgYSBrZXkgYW5kIHRoZXJlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXMgbm8gbWF0Y2hpbmcga2V5ZWQgbm9kZSBpbiB0aGUgc291cmNlIHRyZWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0NvbXBhdGlibGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VyRnJvbU5vZGVLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIG9yaWdpbmFsIGhhcyBhIGtleVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0NvbXBhdGlibGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0NvbXBhdGlibGUgPSBpc0NvbXBhdGlibGUgIT09IGZhbHNlICYmIGNvbXBhcmVOb2RlTmFtZXMoY3VyRnJvbU5vZGVDaGlsZCwgY3VyVG9Ob2RlQ2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0NvbXBhdGlibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgZm91bmQgY29tcGF0aWJsZSBET00gZWxlbWVudHMgc28gdHJhbnNmb3JtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBjdXJyZW50IFwiZnJvbVwiIG5vZGUgdG8gbWF0Y2ggdGhlIGN1cnJlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGFyZ2V0IERPTSBub2RlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNT1JQSFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3JwaEVsKGN1ckZyb21Ob2RlQ2hpbGQsIGN1clRvTm9kZUNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VyRnJvbU5vZGVUeXBlID09PSBURVhUX05PREUgfHwgY3VyRnJvbU5vZGVUeXBlID09IENPTU1FTlRfTk9ERSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJvdGggbm9kZXMgYmVpbmcgY29tcGFyZWQgYXJlIFRleHQgb3IgQ29tbWVudCBub2Rlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQ29tcGF0aWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2ltcGx5IHVwZGF0ZSBub2RlVmFsdWUgb24gdGhlIG9yaWdpbmFsIG5vZGUgdG9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjaGFuZ2UgdGhlIHRleHQgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyRnJvbU5vZGVDaGlsZC5ub2RlVmFsdWUgIT09IGN1clRvTm9kZUNoaWxkLm5vZGVWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJGcm9tTm9kZUNoaWxkLm5vZGVWYWx1ZSA9IGN1clRvTm9kZUNoaWxkLm5vZGVWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0NvbXBhdGlibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkdmFuY2UgYm90aCB0aGUgXCJ0b1wiIGNoaWxkIGFuZCB0aGUgXCJmcm9tXCIgY2hpbGQgc2luY2Ugd2UgZm91bmQgYSBtYXRjaFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm90aGluZyBlbHNlIHRvIGRvIGFzIHdlIGFscmVhZHkgcmVjdXJzaXZlbHkgY2FsbGVkIG1vcnBoQ2hpbGRyZW4gYWJvdmVcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1clRvTm9kZUNoaWxkID0gdG9OZXh0U2libGluZztcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ckZyb21Ob2RlQ2hpbGQgPSBmcm9tTmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIE5vIGNvbXBhdGlibGUgbWF0Y2ggc28gcmVtb3ZlIHRoZSBvbGQgbm9kZSBmcm9tIHRoZSBET00gYW5kIGNvbnRpbnVlIHRyeWluZyB0byBmaW5kIGFcbiAgICAgICAgICAgICAgICAgICAgLy8gbWF0Y2ggaW4gdGhlIG9yaWdpbmFsIERPTS4gSG93ZXZlciwgd2Ugb25seSBkbyB0aGlzIGlmIHRoZSBmcm9tIG5vZGUgaXMgbm90IGtleWVkXG4gICAgICAgICAgICAgICAgICAgIC8vIHNpbmNlIGl0IGlzIHBvc3NpYmxlIHRoYXQgYSBrZXllZCBub2RlIG1pZ2h0IG1hdGNoIHVwIHdpdGggYSBub2RlIHNvbWV3aGVyZSBlbHNlIGluIHRoZVxuICAgICAgICAgICAgICAgICAgICAvLyB0YXJnZXQgdHJlZSBhbmQgd2UgZG9uJ3Qgd2FudCB0byBkaXNjYXJkIGl0IGp1c3QgeWV0IHNpbmNlIGl0IHN0aWxsIG1pZ2h0IGZpbmQgYVxuICAgICAgICAgICAgICAgICAgICAvLyBob21lIGluIHRoZSBmaW5hbCBET00gdHJlZS4gQWZ0ZXIgZXZlcnl0aGluZyBpcyBkb25lIHdlIHdpbGwgcmVtb3ZlIGFueSBrZXllZCBub2Rlc1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGF0IGRpZG4ndCBmaW5kIGEgaG9tZVxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VyRnJvbU5vZGVLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNpbmNlIHRoZSBub2RlIGlzIGtleWVkIGl0IG1pZ2h0IGJlIG1hdGNoZWQgdXAgbGF0ZXIgc28gd2UgZGVmZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBhY3R1YWwgcmVtb3ZhbCB0byBsYXRlclxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkS2V5ZWRSZW1vdmFsKGN1ckZyb21Ob2RlS2V5KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5PVEU6IHdlIHNraXAgbmVzdGVkIGtleWVkIG5vZGVzIGZyb20gYmVpbmcgcmVtb3ZlZCBzaW5jZSB0aGVyZSBpc1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgc3RpbGwgYSBjaGFuY2UgdGhleSB3aWxsIGJlIG1hdGNoZWQgdXAgbGF0ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZU5vZGUoY3VyRnJvbU5vZGVDaGlsZCwgZnJvbUVsLCB0cnVlIC8qIHNraXAga2V5ZWQgbm9kZXMgKi8pO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY3VyRnJvbU5vZGVDaGlsZCA9IGZyb21OZXh0U2libGluZztcbiAgICAgICAgICAgICAgICB9IC8vIEVORDogd2hpbGUoY3VyRnJvbU5vZGVDaGlsZCkge31cblxuICAgICAgICAgICAgICAgIC8vIElmIHdlIGdvdCB0aGlzIGZhciB0aGVuIHdlIGRpZCBub3QgZmluZCBhIGNhbmRpZGF0ZSBtYXRjaCBmb3JcbiAgICAgICAgICAgICAgICAvLyBvdXIgXCJ0byBub2RlXCIgYW5kIHdlIGV4aGF1c3RlZCBhbGwgb2YgdGhlIGNoaWxkcmVuIFwiZnJvbVwiXG4gICAgICAgICAgICAgICAgLy8gbm9kZXMuIFRoZXJlZm9yZSwgd2Ugd2lsbCBqdXN0IGFwcGVuZCB0aGUgY3VycmVudCBcInRvXCIgbm9kZVxuICAgICAgICAgICAgICAgIC8vIHRvIHRoZSBlbmRcbiAgICAgICAgICAgICAgICBpZiAoY3VyVG9Ob2RlS2V5ICYmIChtYXRjaGluZ0Zyb21FbCA9IGZyb21Ob2Rlc0xvb2t1cFtjdXJUb05vZGVLZXldKSAmJiBjb21wYXJlTm9kZU5hbWVzKG1hdGNoaW5nRnJvbUVsLCBjdXJUb05vZGVDaGlsZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbUVsLmFwcGVuZENoaWxkKG1hdGNoaW5nRnJvbUVsKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gTU9SUEhcbiAgICAgICAgICAgICAgICAgICAgbW9ycGhFbChtYXRjaGluZ0Zyb21FbCwgY3VyVG9Ob2RlQ2hpbGQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvbkJlZm9yZU5vZGVBZGRlZFJlc3VsdCA9IG9uQmVmb3JlTm9kZUFkZGVkKGN1clRvTm9kZUNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9uQmVmb3JlTm9kZUFkZGVkUmVzdWx0ICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9uQmVmb3JlTm9kZUFkZGVkUmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyVG9Ob2RlQ2hpbGQgPSBvbkJlZm9yZU5vZGVBZGRlZFJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1clRvTm9kZUNoaWxkLmFjdHVhbGl6ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1clRvTm9kZUNoaWxkID0gY3VyVG9Ob2RlQ2hpbGQuYWN0dWFsaXplKGZyb21FbC5vd25lckRvY3VtZW50IHx8IGRvYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBmcm9tRWwuYXBwZW5kQ2hpbGQoY3VyVG9Ob2RlQ2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlTm9kZUFkZGVkKGN1clRvTm9kZUNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGN1clRvTm9kZUNoaWxkID0gdG9OZXh0U2libGluZztcbiAgICAgICAgICAgICAgICBjdXJGcm9tTm9kZUNoaWxkID0gZnJvbU5leHRTaWJsaW5nO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjbGVhbnVwRnJvbUVsKGZyb21FbCwgY3VyRnJvbU5vZGVDaGlsZCwgY3VyRnJvbU5vZGVLZXkpO1xuXG4gICAgICAgICAgICB2YXIgc3BlY2lhbEVsSGFuZGxlciA9IHNwZWNpYWxFbEhhbmRsZXJzW2Zyb21FbC5ub2RlTmFtZV07XG4gICAgICAgICAgICBpZiAoc3BlY2lhbEVsSGFuZGxlcikge1xuICAgICAgICAgICAgICAgIHNwZWNpYWxFbEhhbmRsZXIoZnJvbUVsLCB0b0VsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSAvLyBFTkQ6IG1vcnBoQ2hpbGRyZW4oLi4uKVxuXG4gICAgICAgIHZhciBtb3JwaGVkTm9kZSA9IGZyb21Ob2RlO1xuICAgICAgICB2YXIgbW9ycGhlZE5vZGVUeXBlID0gbW9ycGhlZE5vZGUubm9kZVR5cGU7XG4gICAgICAgIHZhciB0b05vZGVUeXBlID0gdG9Ob2RlLm5vZGVUeXBlO1xuXG4gICAgICAgIGlmICghY2hpbGRyZW5Pbmx5KSB7XG4gICAgICAgICAgICAvLyBIYW5kbGUgdGhlIGNhc2Ugd2hlcmUgd2UgYXJlIGdpdmVuIHR3byBET00gbm9kZXMgdGhhdCBhcmUgbm90XG4gICAgICAgICAgICAvLyBjb21wYXRpYmxlIChlLmcuIDxkaXY+IC0tPiA8c3Bhbj4gb3IgPGRpdj4gLS0+IFRFWFQpXG4gICAgICAgICAgICBpZiAobW9ycGhlZE5vZGVUeXBlID09PSBFTEVNRU5UX05PREUpIHtcbiAgICAgICAgICAgICAgICBpZiAodG9Ob2RlVHlwZSA9PT0gRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY29tcGFyZU5vZGVOYW1lcyhmcm9tTm9kZSwgdG9Ob2RlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25Ob2RlRGlzY2FyZGVkKGZyb21Ob2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vcnBoZWROb2RlID0gbW92ZUNoaWxkcmVuKGZyb21Ob2RlLCBjcmVhdGVFbGVtZW50TlModG9Ob2RlLm5vZGVOYW1lLCB0b05vZGUubmFtZXNwYWNlVVJJKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBHb2luZyBmcm9tIGFuIGVsZW1lbnQgbm9kZSB0byBhIHRleHQgbm9kZVxuICAgICAgICAgICAgICAgICAgICBtb3JwaGVkTm9kZSA9IHRvTm9kZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1vcnBoZWROb2RlVHlwZSA9PT0gVEVYVF9OT0RFIHx8IG1vcnBoZWROb2RlVHlwZSA9PT0gQ09NTUVOVF9OT0RFKSB7IC8vIFRleHQgb3IgY29tbWVudCBub2RlXG4gICAgICAgICAgICAgICAgaWYgKHRvTm9kZVR5cGUgPT09IG1vcnBoZWROb2RlVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobW9ycGhlZE5vZGUubm9kZVZhbHVlICE9PSB0b05vZGUubm9kZVZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb3JwaGVkTm9kZS5ub2RlVmFsdWUgPSB0b05vZGUubm9kZVZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1vcnBoZWROb2RlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRleHQgbm9kZSB0byBzb21ldGhpbmcgZWxzZVxuICAgICAgICAgICAgICAgICAgICBtb3JwaGVkTm9kZSA9IHRvTm9kZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobW9ycGhlZE5vZGUgPT09IHRvTm9kZSkge1xuICAgICAgICAgICAgLy8gVGhlIFwidG8gbm9kZVwiIHdhcyBub3QgY29tcGF0aWJsZSB3aXRoIHRoZSBcImZyb20gbm9kZVwiIHNvIHdlIGhhZCB0b1xuICAgICAgICAgICAgLy8gdG9zcyBvdXQgdGhlIFwiZnJvbSBub2RlXCIgYW5kIHVzZSB0aGUgXCJ0byBub2RlXCJcbiAgICAgICAgICAgIG9uTm9kZURpc2NhcmRlZChmcm9tTm9kZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodG9Ob2RlLmlzU2FtZU5vZGUgJiYgdG9Ob2RlLmlzU2FtZU5vZGUobW9ycGhlZE5vZGUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtb3JwaEVsKG1vcnBoZWROb2RlLCB0b05vZGUsIGNoaWxkcmVuT25seSk7XG5cbiAgICAgICAgICAgIC8vIFdlIG5vdyBuZWVkIHRvIGxvb3Agb3ZlciBhbnkga2V5ZWQgbm9kZXMgdGhhdCBtaWdodCBuZWVkIHRvIGJlXG4gICAgICAgICAgICAvLyByZW1vdmVkLiBXZSBvbmx5IGRvIHRoZSByZW1vdmFsIGlmIHdlIGtub3cgdGhhdCB0aGUga2V5ZWQgbm9kZVxuICAgICAgICAgICAgLy8gbmV2ZXIgZm91bmQgYSBtYXRjaC4gV2hlbiBhIGtleWVkIG5vZGUgaXMgbWF0Y2hlZCB1cCB3ZSByZW1vdmVcbiAgICAgICAgICAgIC8vIGl0IG91dCBvZiBmcm9tTm9kZXNMb29rdXAgYW5kIHdlIHVzZSBmcm9tTm9kZXNMb29rdXAgdG8gZGV0ZXJtaW5lXG4gICAgICAgICAgICAvLyBpZiBhIGtleWVkIG5vZGUgaGFzIGJlZW4gbWF0Y2hlZCB1cCBvciBub3RcbiAgICAgICAgICAgIGlmIChrZXllZFJlbW92YWxMaXN0KSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaT0wLCBsZW49a2V5ZWRSZW1vdmFsTGlzdC5sZW5ndGg7IGk8bGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsVG9SZW1vdmUgPSBmcm9tTm9kZXNMb29rdXBba2V5ZWRSZW1vdmFsTGlzdFtpXV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbFRvUmVtb3ZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVOb2RlKGVsVG9SZW1vdmUsIGVsVG9SZW1vdmUucGFyZW50Tm9kZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFjaGlsZHJlbk9ubHkgJiYgbW9ycGhlZE5vZGUgIT09IGZyb21Ob2RlICYmIGZyb21Ob2RlLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgIGlmIChtb3JwaGVkTm9kZS5hY3R1YWxpemUpIHtcbiAgICAgICAgICAgICAgICBtb3JwaGVkTm9kZSA9IG1vcnBoZWROb2RlLmFjdHVhbGl6ZShmcm9tTm9kZS5vd25lckRvY3VtZW50IHx8IGRvYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiB3ZSBoYWQgdG8gc3dhcCBvdXQgdGhlIGZyb20gbm9kZSB3aXRoIGEgbmV3IG5vZGUgYmVjYXVzZSB0aGUgb2xkXG4gICAgICAgICAgICAvLyBub2RlIHdhcyBub3QgY29tcGF0aWJsZSB3aXRoIHRoZSB0YXJnZXQgbm9kZSB0aGVuIHdlIG5lZWQgdG9cbiAgICAgICAgICAgIC8vIHJlcGxhY2UgdGhlIG9sZCBET00gbm9kZSBpbiB0aGUgb3JpZ2luYWwgRE9NIHRyZWUuIFRoaXMgaXMgb25seVxuICAgICAgICAgICAgLy8gcG9zc2libGUgaWYgdGhlIG9yaWdpbmFsIERPTSBub2RlIHdhcyBwYXJ0IG9mIGEgRE9NIHRyZWUgd2hpY2hcbiAgICAgICAgICAgIC8vIHdlIGtub3cgaXMgdGhlIGNhc2UgaWYgaXQgaGFzIGEgcGFyZW50IG5vZGUuXG4gICAgICAgICAgICBmcm9tTm9kZS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChtb3JwaGVkTm9kZSwgZnJvbU5vZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1vcnBoZWROb2RlO1xuICAgIH07XG59XG5cbnZhciBtb3JwaGRvbSA9IG1vcnBoZG9tRmFjdG9yeShtb3JwaEF0dHJzKTtcblxuZXhwb3J0IGRlZmF1bHQgbW9ycGhkb207XG4iLCAiaW1wb3J0IHtcbiAgUEhYX0NPTVBPTkVOVCxcbiAgUEhYX0RJU0FCTEVfV0lUSCxcbiAgUEhYX0ZFRURCQUNLX0ZPUixcbiAgUEhYX1BSVU5FLFxuICBQSFhfUk9PVF9JRCxcbiAgUEhYX1NFU1NJT04sXG4gIFBIWF9TS0lQLFxuICBQSFhfU1RBVElDLFxuICBQSFhfVFJJR0dFUl9BQ1RJT04sXG4gIFBIWF9VUERBVEVcbn0gZnJvbSBcIi4vY29uc3RhbnRzXCJcblxuaW1wb3J0IHtcbiAgZGV0ZWN0RHVwbGljYXRlSWRzLFxuICBpc0NpZFxufSBmcm9tIFwiLi91dGlsc1wiXG5cbmltcG9ydCBET00gZnJvbSBcIi4vZG9tXCJcbmltcG9ydCBET01Qb3N0TW9ycGhSZXN0b3JlciBmcm9tIFwiLi9kb21fcG9zdF9tb3JwaF9yZXN0b3JlclwiXG5pbXBvcnQgbW9ycGhkb20gZnJvbSBcIm1vcnBoZG9tXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRE9NUGF0Y2gge1xuICBzdGF0aWMgcGF0Y2hFbChmcm9tRWwsIHRvRWwsIGFjdGl2ZUVsZW1lbnQpe1xuICAgIG1vcnBoZG9tKGZyb21FbCwgdG9FbCwge1xuICAgICAgY2hpbGRyZW5Pbmx5OiBmYWxzZSxcbiAgICAgIG9uQmVmb3JlRWxVcGRhdGVkOiAoZnJvbUVsLCB0b0VsKSA9PiB7XG4gICAgICAgIGlmKGFjdGl2ZUVsZW1lbnQgJiYgYWN0aXZlRWxlbWVudC5pc1NhbWVOb2RlKGZyb21FbCkgJiYgRE9NLmlzRm9ybUlucHV0KGZyb21FbCkpe1xuICAgICAgICAgIERPTS5tZXJnZUZvY3VzZWRJbnB1dChmcm9tRWwsIHRvRWwpXG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgY29uc3RydWN0b3IodmlldywgY29udGFpbmVyLCBpZCwgaHRtbCwgdGFyZ2V0Q0lEKXtcbiAgICB0aGlzLnZpZXcgPSB2aWV3XG4gICAgdGhpcy5saXZlU29ja2V0ID0gdmlldy5saXZlU29ja2V0XG4gICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXJcbiAgICB0aGlzLmlkID0gaWRcbiAgICB0aGlzLnJvb3RJRCA9IHZpZXcucm9vdC5pZFxuICAgIHRoaXMuaHRtbCA9IGh0bWxcbiAgICB0aGlzLnRhcmdldENJRCA9IHRhcmdldENJRFxuICAgIHRoaXMuY2lkUGF0Y2ggPSBpc0NpZCh0aGlzLnRhcmdldENJRClcbiAgICB0aGlzLmNhbGxiYWNrcyA9IHtcbiAgICAgIGJlZm9yZWFkZGVkOiBbXSwgYmVmb3JldXBkYXRlZDogW10sIGJlZm9yZXBoeENoaWxkQWRkZWQ6IFtdLFxuICAgICAgYWZ0ZXJhZGRlZDogW10sIGFmdGVydXBkYXRlZDogW10sIGFmdGVyZGlzY2FyZGVkOiBbXSwgYWZ0ZXJwaHhDaGlsZEFkZGVkOiBbXSxcbiAgICAgIGFmdGVydHJhbnNpdGlvbnNEaXNjYXJkZWQ6IFtdXG4gICAgfVxuICB9XG5cbiAgYmVmb3JlKGtpbmQsIGNhbGxiYWNrKXsgdGhpcy5jYWxsYmFja3NbYGJlZm9yZSR7a2luZH1gXS5wdXNoKGNhbGxiYWNrKSB9XG4gIGFmdGVyKGtpbmQsIGNhbGxiYWNrKXsgdGhpcy5jYWxsYmFja3NbYGFmdGVyJHtraW5kfWBdLnB1c2goY2FsbGJhY2spIH1cblxuICB0cmFja0JlZm9yZShraW5kLCAuLi5hcmdzKXtcbiAgICB0aGlzLmNhbGxiYWNrc1tgYmVmb3JlJHtraW5kfWBdLmZvckVhY2goY2FsbGJhY2sgPT4gY2FsbGJhY2soLi4uYXJncykpXG4gIH1cblxuICB0cmFja0FmdGVyKGtpbmQsIC4uLmFyZ3Mpe1xuICAgIHRoaXMuY2FsbGJhY2tzW2BhZnRlciR7a2luZH1gXS5mb3JFYWNoKGNhbGxiYWNrID0+IGNhbGxiYWNrKC4uLmFyZ3MpKVxuICB9XG5cbiAgbWFya1BydW5hYmxlQ29udGVudEZvclJlbW92YWwoKXtcbiAgICBET00uYWxsKHRoaXMuY29udGFpbmVyLCBcIltwaHgtdXBkYXRlPWFwcGVuZF0gPiAqLCBbcGh4LXVwZGF0ZT1wcmVwZW5kXSA+ICpcIiwgZWwgPT4ge1xuICAgICAgZWwuc2V0QXR0cmlidXRlKFBIWF9QUlVORSwgXCJcIilcbiAgICB9KVxuICB9XG5cbiAgcGVyZm9ybSgpe1xuICAgIGxldCB7dmlldywgbGl2ZVNvY2tldCwgY29udGFpbmVyLCBodG1sfSA9IHRoaXNcbiAgICBsZXQgdGFyZ2V0Q29udGFpbmVyID0gdGhpcy5pc0NJRFBhdGNoKCkgPyB0aGlzLnRhcmdldENJRENvbnRhaW5lcihodG1sKSA6IGNvbnRhaW5lclxuICAgIGlmKHRoaXMuaXNDSURQYXRjaCgpICYmICF0YXJnZXRDb250YWluZXIpeyByZXR1cm4gfVxuXG4gICAgbGV0IGZvY3VzZWQgPSBsaXZlU29ja2V0LmdldEFjdGl2ZUVsZW1lbnQoKVxuICAgIGxldCB7c2VsZWN0aW9uU3RhcnQsIHNlbGVjdGlvbkVuZH0gPSBmb2N1c2VkICYmIERPTS5oYXNTZWxlY3Rpb25SYW5nZShmb2N1c2VkKSA/IGZvY3VzZWQgOiB7fVxuICAgIGxldCBwaHhVcGRhdGUgPSBsaXZlU29ja2V0LmJpbmRpbmcoUEhYX1VQREFURSlcbiAgICBsZXQgcGh4RmVlZGJhY2tGb3IgPSBsaXZlU29ja2V0LmJpbmRpbmcoUEhYX0ZFRURCQUNLX0ZPUilcbiAgICBsZXQgZGlzYWJsZVdpdGggPSBsaXZlU29ja2V0LmJpbmRpbmcoUEhYX0RJU0FCTEVfV0lUSClcbiAgICBsZXQgcGh4VHJpZ2dlckV4dGVybmFsID0gbGl2ZVNvY2tldC5iaW5kaW5nKFBIWF9UUklHR0VSX0FDVElPTilcbiAgICBsZXQgcGh4UmVtb3ZlID0gbGl2ZVNvY2tldC5iaW5kaW5nKFwicmVtb3ZlXCIpXG4gICAgbGV0IGFkZGVkID0gW11cbiAgICBsZXQgdXBkYXRlcyA9IFtdXG4gICAgbGV0IGFwcGVuZFByZXBlbmRVcGRhdGVzID0gW11cbiAgICBsZXQgcGVuZGluZ1JlbW92ZXMgPSBbXVxuICAgIGxldCBleHRlcm5hbEZvcm1UcmlnZ2VyZWQgPSBudWxsXG5cbiAgICBsZXQgZGlmZkhUTUwgPSBsaXZlU29ja2V0LnRpbWUoXCJwcmVtb3JwaCBjb250YWluZXIgcHJlcFwiLCAoKSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy5idWlsZERpZmZIVE1MKGNvbnRhaW5lciwgaHRtbCwgcGh4VXBkYXRlLCB0YXJnZXRDb250YWluZXIpXG4gICAgfSlcblxuICAgIHRoaXMudHJhY2tCZWZvcmUoXCJhZGRlZFwiLCBjb250YWluZXIpXG4gICAgdGhpcy50cmFja0JlZm9yZShcInVwZGF0ZWRcIiwgY29udGFpbmVyLCBjb250YWluZXIpXG5cbiAgICBsaXZlU29ja2V0LnRpbWUoXCJtb3JwaGRvbVwiLCAoKSA9PiB7XG4gICAgICBtb3JwaGRvbSh0YXJnZXRDb250YWluZXIsIGRpZmZIVE1MLCB7XG4gICAgICAgIGNoaWxkcmVuT25seTogdGFyZ2V0Q29udGFpbmVyLmdldEF0dHJpYnV0ZShQSFhfQ09NUE9ORU5UKSA9PT0gbnVsbCxcbiAgICAgICAgZ2V0Tm9kZUtleTogKG5vZGUpID0+IHtcbiAgICAgICAgICByZXR1cm4gRE9NLmlzUGh4RGVzdHJveWVkKG5vZGUpID8gbnVsbCA6IG5vZGUuaWRcbiAgICAgICAgfSxcbiAgICAgICAgb25CZWZvcmVOb2RlQWRkZWQ6IChlbCkgPT4ge1xuICAgICAgICAgIHRoaXMudHJhY2tCZWZvcmUoXCJhZGRlZFwiLCBlbClcbiAgICAgICAgICByZXR1cm4gZWxcbiAgICAgICAgfSxcbiAgICAgICAgb25Ob2RlQWRkZWQ6IChlbCkgPT4ge1xuICAgICAgICAgIC8vIGhhY2sgdG8gZml4IFNhZmFyaSBoYW5kbGluZyBvZiBpbWcgc3Jjc2V0IGFuZCB2aWRlbyB0YWdzXG4gICAgICAgICAgaWYoZWwgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50ICYmIGVsLnNyY3NldCl7XG4gICAgICAgICAgICBlbC5zcmNzZXQgPSBlbC5zcmNzZXRcbiAgICAgICAgICB9IGVsc2UgaWYoZWwgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50ICYmIGVsLmF1dG9wbGF5KXtcbiAgICAgICAgICAgIGVsLnBsYXkoKVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZihET00uaXNOb3dUcmlnZ2VyRm9ybUV4dGVybmFsKGVsLCBwaHhUcmlnZ2VyRXh0ZXJuYWwpKXtcbiAgICAgICAgICAgIGV4dGVybmFsRm9ybVRyaWdnZXJlZCA9IGVsXG4gICAgICAgICAgfVxuICAgICAgICAgIC8vaW5wdXQgaGFuZGxpbmdcbiAgICAgICAgICBET00uZGlzY2FyZEVycm9yKHRhcmdldENvbnRhaW5lciwgZWwsIHBoeEZlZWRiYWNrRm9yKVxuICAgICAgICAgIC8vIG5lc3RlZCB2aWV3IGhhbmRsaW5nXG4gICAgICAgICAgaWYoKERPTS5pc1BoeENoaWxkKGVsKSAmJiB2aWV3Lm93bnNFbGVtZW50KGVsKSkgfHwgRE9NLmlzUGh4U3RpY2t5KGVsKSAmJiB2aWV3Lm93bnNFbGVtZW50KGVsLnBhcmVudE5vZGUpKXtcbiAgICAgICAgICAgIHRoaXMudHJhY2tBZnRlcihcInBoeENoaWxkQWRkZWRcIiwgZWwpXG4gICAgICAgICAgfVxuICAgICAgICAgIGFkZGVkLnB1c2goZWwpXG4gICAgICAgIH0sXG4gICAgICAgIG9uTm9kZURpc2NhcmRlZDogKGVsKSA9PiB7XG4gICAgICAgICAgLy8gbmVzdGVkIHZpZXcgaGFuZGxpbmdcbiAgICAgICAgICBpZihET00uaXNQaHhDaGlsZChlbCkgfHwgRE9NLmlzUGh4U3RpY2t5KGVsKSl7IGxpdmVTb2NrZXQuZGVzdHJveVZpZXdCeUVsKGVsKSB9XG4gICAgICAgICAgdGhpcy50cmFja0FmdGVyKFwiZGlzY2FyZGVkXCIsIGVsKVxuICAgICAgICB9LFxuICAgICAgICBvbkJlZm9yZU5vZGVEaXNjYXJkZWQ6IChlbCkgPT4ge1xuICAgICAgICAgIGlmKGVsLmdldEF0dHJpYnV0ZSAmJiBlbC5nZXRBdHRyaWJ1dGUoUEhYX1BSVU5FKSAhPT0gbnVsbCl7IHJldHVybiB0cnVlIH1cbiAgICAgICAgICBpZihlbC5wYXJlbnROb2RlICE9PSBudWxsICYmIERPTS5pc1BoeFVwZGF0ZShlbC5wYXJlbnROb2RlLCBwaHhVcGRhdGUsIFtcImFwcGVuZFwiLCBcInByZXBlbmRcIl0pICYmIGVsLmlkKXsgcmV0dXJuIGZhbHNlIH1cbiAgICAgICAgICBpZihlbC5nZXRBdHRyaWJ1dGUgJiYgZWwuZ2V0QXR0cmlidXRlKHBoeFJlbW92ZSkpe1xuICAgICAgICAgICAgcGVuZGluZ1JlbW92ZXMucHVzaChlbClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZih0aGlzLnNraXBDSURTaWJsaW5nKGVsKSl7IHJldHVybiBmYWxzZSB9XG4gICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgb25FbFVwZGF0ZWQ6IChlbCkgPT4ge1xuICAgICAgICAgIGlmKERPTS5pc05vd1RyaWdnZXJGb3JtRXh0ZXJuYWwoZWwsIHBoeFRyaWdnZXJFeHRlcm5hbCkpe1xuICAgICAgICAgICAgZXh0ZXJuYWxGb3JtVHJpZ2dlcmVkID0gZWxcbiAgICAgICAgICB9XG4gICAgICAgICAgdXBkYXRlcy5wdXNoKGVsKVxuICAgICAgICB9LFxuICAgICAgICBvbkJlZm9yZUVsVXBkYXRlZDogKGZyb21FbCwgdG9FbCkgPT4ge1xuICAgICAgICAgIERPTS5jbGVhbkNoaWxkTm9kZXModG9FbCwgcGh4VXBkYXRlKVxuICAgICAgICAgIGlmKHRoaXMuc2tpcENJRFNpYmxpbmcodG9FbCkpeyByZXR1cm4gZmFsc2UgfVxuICAgICAgICAgIGlmKERPTS5pc1BoeFN0aWNreShmcm9tRWwpKXsgcmV0dXJuIGZhbHNlIH1cbiAgICAgICAgICBpZihET00uaXNJZ25vcmVkKGZyb21FbCwgcGh4VXBkYXRlKSB8fCAoZnJvbUVsLmZvcm0gJiYgZnJvbUVsLmZvcm0uaXNTYW1lTm9kZShleHRlcm5hbEZvcm1UcmlnZ2VyZWQpKSl7XG4gICAgICAgICAgICB0aGlzLnRyYWNrQmVmb3JlKFwidXBkYXRlZFwiLCBmcm9tRWwsIHRvRWwpXG4gICAgICAgICAgICBET00ubWVyZ2VBdHRycyhmcm9tRWwsIHRvRWwsIHtpc0lnbm9yZWQ6IHRydWV9KVxuICAgICAgICAgICAgdXBkYXRlcy5wdXNoKGZyb21FbClcbiAgICAgICAgICAgIERPTS5hcHBseVN0aWNreU9wZXJhdGlvbnMoZnJvbUVsKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmKGZyb21FbC50eXBlID09PSBcIm51bWJlclwiICYmIChmcm9tRWwudmFsaWRpdHkgJiYgZnJvbUVsLnZhbGlkaXR5LmJhZElucHV0KSl7IHJldHVybiBmYWxzZSB9XG4gICAgICAgICAgaWYoIURPTS5zeW5jUGVuZGluZ1JlZihmcm9tRWwsIHRvRWwsIGRpc2FibGVXaXRoKSl7XG4gICAgICAgICAgICBpZihET00uaXNVcGxvYWRJbnB1dChmcm9tRWwpKXtcbiAgICAgICAgICAgICAgdGhpcy50cmFja0JlZm9yZShcInVwZGF0ZWRcIiwgZnJvbUVsLCB0b0VsKVxuICAgICAgICAgICAgICB1cGRhdGVzLnB1c2goZnJvbUVsKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgRE9NLmFwcGx5U3RpY2t5T3BlcmF0aW9ucyhmcm9tRWwpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBuZXN0ZWQgdmlldyBoYW5kbGluZ1xuICAgICAgICAgIGlmKERPTS5pc1BoeENoaWxkKHRvRWwpKXtcbiAgICAgICAgICAgIGxldCBwcmV2U2Vzc2lvbiA9IGZyb21FbC5nZXRBdHRyaWJ1dGUoUEhYX1NFU1NJT04pXG4gICAgICAgICAgICBET00ubWVyZ2VBdHRycyhmcm9tRWwsIHRvRWwsIHtleGNsdWRlOiBbUEhYX1NUQVRJQ119KVxuICAgICAgICAgICAgaWYocHJldlNlc3Npb24gIT09IFwiXCIpeyBmcm9tRWwuc2V0QXR0cmlidXRlKFBIWF9TRVNTSU9OLCBwcmV2U2Vzc2lvbikgfVxuICAgICAgICAgICAgZnJvbUVsLnNldEF0dHJpYnV0ZShQSFhfUk9PVF9JRCwgdGhpcy5yb290SUQpXG4gICAgICAgICAgICBET00uYXBwbHlTdGlja3lPcGVyYXRpb25zKGZyb21FbClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIGlucHV0IGhhbmRsaW5nXG4gICAgICAgICAgRE9NLmNvcHlQcml2YXRlcyh0b0VsLCBmcm9tRWwpXG4gICAgICAgICAgRE9NLmRpc2NhcmRFcnJvcih0YXJnZXRDb250YWluZXIsIHRvRWwsIHBoeEZlZWRiYWNrRm9yKVxuXG4gICAgICAgICAgbGV0IGlzRm9jdXNlZEZvcm1FbCA9IGZvY3VzZWQgJiYgZnJvbUVsLmlzU2FtZU5vZGUoZm9jdXNlZCkgJiYgRE9NLmlzRm9ybUlucHV0KGZyb21FbClcbiAgICAgICAgICBpZihpc0ZvY3VzZWRGb3JtRWwpe1xuICAgICAgICAgICAgdGhpcy50cmFja0JlZm9yZShcInVwZGF0ZWRcIiwgZnJvbUVsLCB0b0VsKVxuICAgICAgICAgICAgRE9NLm1lcmdlRm9jdXNlZElucHV0KGZyb21FbCwgdG9FbClcbiAgICAgICAgICAgIERPTS5zeW5jQXR0cnNUb1Byb3BzKGZyb21FbClcbiAgICAgICAgICAgIHVwZGF0ZXMucHVzaChmcm9tRWwpXG4gICAgICAgICAgICBET00uYXBwbHlTdGlja3lPcGVyYXRpb25zKGZyb21FbClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZihET00uaXNQaHhVcGRhdGUodG9FbCwgcGh4VXBkYXRlLCBbXCJhcHBlbmRcIiwgXCJwcmVwZW5kXCJdKSl7XG4gICAgICAgICAgICAgIGFwcGVuZFByZXBlbmRVcGRhdGVzLnB1c2gobmV3IERPTVBvc3RNb3JwaFJlc3RvcmVyKGZyb21FbCwgdG9FbCwgdG9FbC5nZXRBdHRyaWJ1dGUocGh4VXBkYXRlKSkpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBET00uc3luY0F0dHJzVG9Qcm9wcyh0b0VsKVxuICAgICAgICAgICAgRE9NLmFwcGx5U3RpY2t5T3BlcmF0aW9ucyh0b0VsKVxuICAgICAgICAgICAgdGhpcy50cmFja0JlZm9yZShcInVwZGF0ZWRcIiwgZnJvbUVsLCB0b0VsKVxuICAgICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSlcblxuICAgIGlmKGxpdmVTb2NrZXQuaXNEZWJ1Z0VuYWJsZWQoKSl7IGRldGVjdER1cGxpY2F0ZUlkcygpIH1cblxuICAgIGlmKGFwcGVuZFByZXBlbmRVcGRhdGVzLmxlbmd0aCA+IDApe1xuICAgICAgbGl2ZVNvY2tldC50aW1lKFwicG9zdC1tb3JwaCBhcHBlbmQvcHJlcGVuZCByZXN0b3JhdGlvblwiLCAoKSA9PiB7XG4gICAgICAgIGFwcGVuZFByZXBlbmRVcGRhdGVzLmZvckVhY2godXBkYXRlID0+IHVwZGF0ZS5wZXJmb3JtKCkpXG4gICAgICB9KVxuICAgIH1cblxuICAgIGxpdmVTb2NrZXQuc2lsZW5jZUV2ZW50cygoKSA9PiBET00ucmVzdG9yZUZvY3VzKGZvY3VzZWQsIHNlbGVjdGlvblN0YXJ0LCBzZWxlY3Rpb25FbmQpKVxuICAgIERPTS5kaXNwYXRjaEV2ZW50KGRvY3VtZW50LCBcInBoeDp1cGRhdGVcIilcbiAgICBhZGRlZC5mb3JFYWNoKGVsID0+IHRoaXMudHJhY2tBZnRlcihcImFkZGVkXCIsIGVsKSlcbiAgICB1cGRhdGVzLmZvckVhY2goZWwgPT4gdGhpcy50cmFja0FmdGVyKFwidXBkYXRlZFwiLCBlbCkpXG5cbiAgICBpZihwZW5kaW5nUmVtb3Zlcy5sZW5ndGggPiAwKXtcbiAgICAgIGxpdmVTb2NrZXQudHJhbnNpdGlvblJlbW92ZXMocGVuZGluZ1JlbW92ZXMpXG4gICAgICBsaXZlU29ja2V0LnJlcXVlc3RET01VcGRhdGUoKCkgPT4ge1xuICAgICAgICBwZW5kaW5nUmVtb3Zlcy5mb3JFYWNoKGVsID0+IHtcbiAgICAgICAgICBsZXQgY2hpbGQgPSBET00uZmlyc3RQaHhDaGlsZChlbClcbiAgICAgICAgICBpZihjaGlsZCl7IGxpdmVTb2NrZXQuZGVzdHJveVZpZXdCeUVsKGNoaWxkKSB9XG4gICAgICAgICAgZWwucmVtb3ZlKClcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy50cmFja0FmdGVyKFwidHJhbnNpdGlvbnNEaXNjYXJkZWRcIiwgcGVuZGluZ1JlbW92ZXMpXG4gICAgICB9KVxuICAgIH1cblxuICAgIGlmKGV4dGVybmFsRm9ybVRyaWdnZXJlZCl7XG4gICAgICBsaXZlU29ja2V0LmRpc2Nvbm5lY3QoKVxuICAgICAgZXh0ZXJuYWxGb3JtVHJpZ2dlcmVkLnN1Ym1pdCgpXG4gICAgfVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBpc0NJRFBhdGNoKCl7IHJldHVybiB0aGlzLmNpZFBhdGNoIH1cblxuICBza2lwQ0lEU2libGluZyhlbCl7XG4gICAgcmV0dXJuIGVsLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSAmJiBlbC5nZXRBdHRyaWJ1dGUoUEhYX1NLSVApICE9PSBudWxsXG4gIH1cblxuICB0YXJnZXRDSURDb250YWluZXIoaHRtbCl7XG4gICAgaWYoIXRoaXMuaXNDSURQYXRjaCgpKXsgcmV0dXJuIH1cbiAgICBsZXQgW2ZpcnN0LCAuLi5yZXN0XSA9IERPTS5maW5kQ29tcG9uZW50Tm9kZUxpc3QodGhpcy5jb250YWluZXIsIHRoaXMudGFyZ2V0Q0lEKVxuICAgIGlmKHJlc3QubGVuZ3RoID09PSAwICYmIERPTS5jaGlsZE5vZGVMZW5ndGgoaHRtbCkgPT09IDEpe1xuICAgICAgcmV0dXJuIGZpcnN0XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmaXJzdCAmJiBmaXJzdC5wYXJlbnROb2RlXG4gICAgfVxuICB9XG5cbiAgLy8gYnVpbGRzIEhUTUwgZm9yIG1vcnBoZG9tIHBhdGNoXG4gIC8vIC0gZm9yIGZ1bGwgcGF0Y2hlcyBvZiBMaXZlVmlldyBvciBhIGNvbXBvbmVudCB3aXRoIGEgc2luZ2xlXG4gIC8vICAgcm9vdCBub2RlLCBzaW1wbHkgcmV0dXJucyB0aGUgSFRNTFxuICAvLyAtIGZvciBwYXRjaGVzIG9mIGEgY29tcG9uZW50IHdpdGggbXVsdGlwbGUgcm9vdCBub2RlcywgdGhlXG4gIC8vICAgcGFyZW50IG5vZGUgYmVjb21lcyB0aGUgdGFyZ2V0IGNvbnRhaW5lciBhbmQgbm9uLWNvbXBvbmVudFxuICAvLyAgIHNpYmxpbmdzIGFyZSBtYXJrZWQgYXMgc2tpcC5cbiAgYnVpbGREaWZmSFRNTChjb250YWluZXIsIGh0bWwsIHBoeFVwZGF0ZSwgdGFyZ2V0Q29udGFpbmVyKXtcbiAgICBsZXQgaXNDSURQYXRjaCA9IHRoaXMuaXNDSURQYXRjaCgpXG4gICAgbGV0IGlzQ0lEV2l0aFNpbmdsZVJvb3QgPSBpc0NJRFBhdGNoICYmIHRhcmdldENvbnRhaW5lci5nZXRBdHRyaWJ1dGUoUEhYX0NPTVBPTkVOVCkgPT09IHRoaXMudGFyZ2V0Q0lELnRvU3RyaW5nKClcbiAgICBpZighaXNDSURQYXRjaCB8fCBpc0NJRFdpdGhTaW5nbGVSb290KXtcbiAgICAgIHJldHVybiBodG1sXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGNvbXBvbmVudCBwYXRjaCB3aXRoIG11bHRpcGxlIENJRCByb290c1xuICAgICAgbGV0IGRpZmZDb250YWluZXIgPSBudWxsXG4gICAgICBsZXQgdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGVtcGxhdGVcIilcbiAgICAgIGRpZmZDb250YWluZXIgPSBET00uY2xvbmVOb2RlKHRhcmdldENvbnRhaW5lcilcbiAgICAgIGxldCBbZmlyc3RDb21wb25lbnQsIC4uLnJlc3RdID0gRE9NLmZpbmRDb21wb25lbnROb2RlTGlzdChkaWZmQ29udGFpbmVyLCB0aGlzLnRhcmdldENJRClcbiAgICAgIHRlbXBsYXRlLmlubmVySFRNTCA9IGh0bWxcbiAgICAgIHJlc3QuZm9yRWFjaChlbCA9PiBlbC5yZW1vdmUoKSlcbiAgICAgIEFycmF5LmZyb20oZGlmZkNvbnRhaW5lci5jaGlsZE5vZGVzKS5mb3JFYWNoKGNoaWxkID0+IHtcbiAgICAgICAgLy8gd2UgY2FuIG9ubHkgc2tpcCB0cmFja2FibGUgbm9kZXMgd2l0aCBhbiBJRFxuICAgICAgICBpZihjaGlsZC5pZCAmJiBjaGlsZC5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUgJiYgY2hpbGQuZ2V0QXR0cmlidXRlKFBIWF9DT01QT05FTlQpICE9PSB0aGlzLnRhcmdldENJRC50b1N0cmluZygpKXtcbiAgICAgICAgICBjaGlsZC5zZXRBdHRyaWJ1dGUoUEhYX1NLSVAsIFwiXCIpXG4gICAgICAgICAgY2hpbGQuaW5uZXJIVE1MID0gXCJcIlxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgQXJyYXkuZnJvbSh0ZW1wbGF0ZS5jb250ZW50LmNoaWxkTm9kZXMpLmZvckVhY2goZWwgPT4gZGlmZkNvbnRhaW5lci5pbnNlcnRCZWZvcmUoZWwsIGZpcnN0Q29tcG9uZW50KSlcbiAgICAgIGZpcnN0Q29tcG9uZW50LnJlbW92ZSgpXG4gICAgICByZXR1cm4gZGlmZkNvbnRhaW5lci5vdXRlckhUTUxcbiAgICB9XG4gIH1cbn1cbiIsICJpbXBvcnQge1xuICBDT01QT05FTlRTLFxuICBEWU5BTUlDUyxcbiAgVEVNUExBVEVTLFxuICBFVkVOVFMsXG4gIFBIWF9DT01QT05FTlQsXG4gIFBIWF9TS0lQLFxuICBSRVBMWSxcbiAgU1RBVElDLFxuICBUSVRMRVxufSBmcm9tIFwiLi9jb25zdGFudHNcIlxuXG5pbXBvcnQge1xuICBpc09iamVjdCxcbiAgbG9nRXJyb3IsXG4gIGlzQ2lkLFxufSBmcm9tIFwiLi91dGlsc1wiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlbmRlcmVkIHtcbiAgc3RhdGljIGV4dHJhY3QoZGlmZil7XG4gICAgbGV0IHtbUkVQTFldOiByZXBseSwgW0VWRU5UU106IGV2ZW50cywgW1RJVExFXTogdGl0bGV9ID0gZGlmZlxuICAgIGRlbGV0ZSBkaWZmW1JFUExZXVxuICAgIGRlbGV0ZSBkaWZmW0VWRU5UU11cbiAgICBkZWxldGUgZGlmZltUSVRMRV1cbiAgICByZXR1cm4ge2RpZmYsIHRpdGxlLCByZXBseTogcmVwbHkgfHwgbnVsbCwgZXZlbnRzOiBldmVudHMgfHwgW119XG4gIH1cblxuICBjb25zdHJ1Y3Rvcih2aWV3SWQsIHJlbmRlcmVkKXtcbiAgICB0aGlzLnZpZXdJZCA9IHZpZXdJZFxuICAgIHRoaXMucmVuZGVyZWQgPSB7fVxuICAgIHRoaXMubWVyZ2VEaWZmKHJlbmRlcmVkKVxuICB9XG5cbiAgcGFyZW50Vmlld0lkKCl7IHJldHVybiB0aGlzLnZpZXdJZCB9XG5cbiAgdG9TdHJpbmcob25seUNpZHMpe1xuICAgIHJldHVybiB0aGlzLnJlY3Vyc2l2ZVRvU3RyaW5nKHRoaXMucmVuZGVyZWQsIHRoaXMucmVuZGVyZWRbQ09NUE9ORU5UU10sIG9ubHlDaWRzKVxuICB9XG5cbiAgcmVjdXJzaXZlVG9TdHJpbmcocmVuZGVyZWQsIGNvbXBvbmVudHMgPSByZW5kZXJlZFtDT01QT05FTlRTXSwgb25seUNpZHMpe1xuICAgIG9ubHlDaWRzID0gb25seUNpZHMgPyBuZXcgU2V0KG9ubHlDaWRzKSA6IG51bGxcbiAgICBsZXQgb3V0cHV0ID0ge2J1ZmZlcjogXCJcIiwgY29tcG9uZW50czogY29tcG9uZW50cywgb25seUNpZHM6IG9ubHlDaWRzfVxuICAgIHRoaXMudG9PdXRwdXRCdWZmZXIocmVuZGVyZWQsIG51bGwsIG91dHB1dClcbiAgICByZXR1cm4gb3V0cHV0LmJ1ZmZlclxuICB9XG5cbiAgY29tcG9uZW50Q0lEcyhkaWZmKXsgcmV0dXJuIE9iamVjdC5rZXlzKGRpZmZbQ09NUE9ORU5UU10gfHwge30pLm1hcChpID0+IHBhcnNlSW50KGkpKSB9XG5cbiAgaXNDb21wb25lbnRPbmx5RGlmZihkaWZmKXtcbiAgICBpZighZGlmZltDT01QT05FTlRTXSl7IHJldHVybiBmYWxzZSB9XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKGRpZmYpLmxlbmd0aCA9PT0gMVxuICB9XG5cbiAgZ2V0Q29tcG9uZW50KGRpZmYsIGNpZCl7IHJldHVybiBkaWZmW0NPTVBPTkVOVFNdW2NpZF0gfVxuXG4gIG1lcmdlRGlmZihkaWZmKXtcbiAgICBsZXQgbmV3YyA9IGRpZmZbQ09NUE9ORU5UU11cbiAgICBsZXQgY2FjaGUgPSB7fVxuICAgIGRlbGV0ZSBkaWZmW0NPTVBPTkVOVFNdXG4gICAgdGhpcy5yZW5kZXJlZCA9IHRoaXMubXV0YWJsZU1lcmdlKHRoaXMucmVuZGVyZWQsIGRpZmYpXG4gICAgdGhpcy5yZW5kZXJlZFtDT01QT05FTlRTXSA9IHRoaXMucmVuZGVyZWRbQ09NUE9ORU5UU10gfHwge31cblxuICAgIGlmKG5ld2Mpe1xuICAgICAgbGV0IG9sZGMgPSB0aGlzLnJlbmRlcmVkW0NPTVBPTkVOVFNdXG5cbiAgICAgIGZvcihsZXQgY2lkIGluIG5ld2Mpe1xuICAgICAgICBuZXdjW2NpZF0gPSB0aGlzLmNhY2hlZEZpbmRDb21wb25lbnQoY2lkLCBuZXdjW2NpZF0sIG9sZGMsIG5ld2MsIGNhY2hlKVxuICAgICAgfVxuXG4gICAgICBmb3IobGV0IGNpZCBpbiBuZXdjKXsgb2xkY1tjaWRdID0gbmV3Y1tjaWRdIH1cbiAgICAgIGRpZmZbQ09NUE9ORU5UU10gPSBuZXdjXG4gICAgfVxuICB9XG5cbiAgY2FjaGVkRmluZENvbXBvbmVudChjaWQsIGNkaWZmLCBvbGRjLCBuZXdjLCBjYWNoZSl7XG4gICAgaWYoY2FjaGVbY2lkXSl7XG4gICAgICByZXR1cm4gY2FjaGVbY2lkXVxuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgbmRpZmYsIHN0YXQsIHNjaWQgPSBjZGlmZltTVEFUSUNdXG5cbiAgICAgIGlmKGlzQ2lkKHNjaWQpKXtcbiAgICAgICAgbGV0IHRkaWZmXG5cbiAgICAgICAgaWYoc2NpZCA+IDApe1xuICAgICAgICAgIHRkaWZmID0gdGhpcy5jYWNoZWRGaW5kQ29tcG9uZW50KHNjaWQsIG5ld2Nbc2NpZF0sIG9sZGMsIG5ld2MsIGNhY2hlKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRkaWZmID0gb2xkY1stc2NpZF1cbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXQgPSB0ZGlmZltTVEFUSUNdXG4gICAgICAgIG5kaWZmID0gdGhpcy5jbG9uZU1lcmdlKHRkaWZmLCBjZGlmZilcbiAgICAgICAgbmRpZmZbU1RBVElDXSA9IHN0YXRcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5kaWZmID0gY2RpZmZbU1RBVElDXSAhPT0gdW5kZWZpbmVkID8gY2RpZmYgOiB0aGlzLmNsb25lTWVyZ2Uob2xkY1tjaWRdIHx8IHt9LCBjZGlmZilcbiAgICAgIH1cblxuICAgICAgY2FjaGVbY2lkXSA9IG5kaWZmXG4gICAgICByZXR1cm4gbmRpZmZcbiAgICB9XG4gIH1cblxuICBtdXRhYmxlTWVyZ2UodGFyZ2V0LCBzb3VyY2Upe1xuICAgIGlmKHNvdXJjZVtTVEFUSUNdICE9PSB1bmRlZmluZWQpe1xuICAgICAgcmV0dXJuIHNvdXJjZVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRvTXV0YWJsZU1lcmdlKHRhcmdldCwgc291cmNlKVxuICAgICAgcmV0dXJuIHRhcmdldFxuICAgIH1cbiAgfVxuXG4gIGRvTXV0YWJsZU1lcmdlKHRhcmdldCwgc291cmNlKXtcbiAgICBmb3IobGV0IGtleSBpbiBzb3VyY2Upe1xuICAgICAgbGV0IHZhbCA9IHNvdXJjZVtrZXldXG4gICAgICBsZXQgdGFyZ2V0VmFsID0gdGFyZ2V0W2tleV1cbiAgICAgIGlmKGlzT2JqZWN0KHZhbCkgJiYgdmFsW1NUQVRJQ10gPT09IHVuZGVmaW5lZCAmJiBpc09iamVjdCh0YXJnZXRWYWwpKXtcbiAgICAgICAgdGhpcy5kb011dGFibGVNZXJnZSh0YXJnZXRWYWwsIHZhbClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldFtrZXldID0gdmFsXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY2xvbmVNZXJnZSh0YXJnZXQsIHNvdXJjZSl7XG4gICAgbGV0IG1lcmdlZCA9IHsuLi50YXJnZXQsIC4uLnNvdXJjZX1cbiAgICBmb3IobGV0IGtleSBpbiBtZXJnZWQpe1xuICAgICAgbGV0IHZhbCA9IHNvdXJjZVtrZXldXG4gICAgICBsZXQgdGFyZ2V0VmFsID0gdGFyZ2V0W2tleV1cbiAgICAgIGlmKGlzT2JqZWN0KHZhbCkgJiYgdmFsW1NUQVRJQ10gPT09IHVuZGVmaW5lZCAmJiBpc09iamVjdCh0YXJnZXRWYWwpKXtcbiAgICAgICAgbWVyZ2VkW2tleV0gPSB0aGlzLmNsb25lTWVyZ2UodGFyZ2V0VmFsLCB2YWwpXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXJnZWRcbiAgfVxuXG4gIGNvbXBvbmVudFRvU3RyaW5nKGNpZCl7IHJldHVybiB0aGlzLnJlY3Vyc2l2ZUNJRFRvU3RyaW5nKHRoaXMucmVuZGVyZWRbQ09NUE9ORU5UU10sIGNpZCkgfVxuXG4gIHBydW5lQ0lEcyhjaWRzKXtcbiAgICBjaWRzLmZvckVhY2goY2lkID0+IGRlbGV0ZSB0aGlzLnJlbmRlcmVkW0NPTVBPTkVOVFNdW2NpZF0pXG4gIH1cblxuICAvLyBwcml2YXRlXG5cbiAgZ2V0KCl7IHJldHVybiB0aGlzLnJlbmRlcmVkIH1cblxuICBpc05ld0ZpbmdlcnByaW50KGRpZmYgPSB7fSl7IHJldHVybiAhIWRpZmZbU1RBVElDXSB9XG5cbiAgdGVtcGxhdGVTdGF0aWMocGFydCwgdGVtcGxhdGVzKXtcbiAgICBpZih0eXBlb2YgKHBhcnQpID09PSBcIm51bWJlclwiKSB7XG4gICAgICByZXR1cm4gdGVtcGxhdGVzW3BhcnRdXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBwYXJ0XG4gICAgfVxuICB9XG5cbiAgdG9PdXRwdXRCdWZmZXIocmVuZGVyZWQsIHRlbXBsYXRlcywgb3V0cHV0KXtcbiAgICBpZihyZW5kZXJlZFtEWU5BTUlDU10peyByZXR1cm4gdGhpcy5jb21wcmVoZW5zaW9uVG9CdWZmZXIocmVuZGVyZWQsIHRlbXBsYXRlcywgb3V0cHV0KSB9XG4gICAgbGV0IHtbU1RBVElDXTogc3RhdGljc30gPSByZW5kZXJlZFxuICAgIHN0YXRpY3MgPSB0aGlzLnRlbXBsYXRlU3RhdGljKHN0YXRpY3MsIHRlbXBsYXRlcylcblxuICAgIG91dHB1dC5idWZmZXIgKz0gc3RhdGljc1swXVxuICAgIGZvcihsZXQgaSA9IDE7IGkgPCBzdGF0aWNzLmxlbmd0aDsgaSsrKXtcbiAgICAgIHRoaXMuZHluYW1pY1RvQnVmZmVyKHJlbmRlcmVkW2kgLSAxXSwgdGVtcGxhdGVzLCBvdXRwdXQpXG4gICAgICBvdXRwdXQuYnVmZmVyICs9IHN0YXRpY3NbaV1cbiAgICB9XG4gIH1cblxuICBjb21wcmVoZW5zaW9uVG9CdWZmZXIocmVuZGVyZWQsIHRlbXBsYXRlcywgb3V0cHV0KXtcbiAgICBsZXQge1tEWU5BTUlDU106IGR5bmFtaWNzLCBbU1RBVElDXTogc3RhdGljc30gPSByZW5kZXJlZFxuICAgIHN0YXRpY3MgPSB0aGlzLnRlbXBsYXRlU3RhdGljKHN0YXRpY3MsIHRlbXBsYXRlcylcbiAgICBsZXQgY29tcFRlbXBsYXRlcyA9IHRlbXBsYXRlcyB8fCByZW5kZXJlZFtURU1QTEFURVNdXG5cbiAgICBmb3IobGV0IGQgPSAwOyBkIDwgZHluYW1pY3MubGVuZ3RoOyBkKyspe1xuICAgICAgbGV0IGR5bmFtaWMgPSBkeW5hbWljc1tkXVxuICAgICAgb3V0cHV0LmJ1ZmZlciArPSBzdGF0aWNzWzBdXG4gICAgICBmb3IobGV0IGkgPSAxOyBpIDwgc3RhdGljcy5sZW5ndGg7IGkrKyl7XG4gICAgICAgIHRoaXMuZHluYW1pY1RvQnVmZmVyKGR5bmFtaWNbaSAtIDFdLCBjb21wVGVtcGxhdGVzLCBvdXRwdXQpXG4gICAgICAgIG91dHB1dC5idWZmZXIgKz0gc3RhdGljc1tpXVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGR5bmFtaWNUb0J1ZmZlcihyZW5kZXJlZCwgdGVtcGxhdGVzLCBvdXRwdXQpe1xuICAgIGlmKHR5cGVvZiAocmVuZGVyZWQpID09PSBcIm51bWJlclwiKXtcbiAgICAgIG91dHB1dC5idWZmZXIgKz0gdGhpcy5yZWN1cnNpdmVDSURUb1N0cmluZyhvdXRwdXQuY29tcG9uZW50cywgcmVuZGVyZWQsIG91dHB1dC5vbmx5Q2lkcylcbiAgICB9IGVsc2UgaWYoaXNPYmplY3QocmVuZGVyZWQpKXtcbiAgICAgIHRoaXMudG9PdXRwdXRCdWZmZXIocmVuZGVyZWQsIHRlbXBsYXRlcywgb3V0cHV0KVxuICAgIH0gZWxzZSB7XG4gICAgICBvdXRwdXQuYnVmZmVyICs9IHJlbmRlcmVkXG4gICAgfVxuICB9XG5cbiAgcmVjdXJzaXZlQ0lEVG9TdHJpbmcoY29tcG9uZW50cywgY2lkLCBvbmx5Q2lkcyl7XG4gICAgbGV0IGNvbXBvbmVudCA9IGNvbXBvbmVudHNbY2lkXSB8fCBsb2dFcnJvcihgbm8gY29tcG9uZW50IGZvciBDSUQgJHtjaWR9YCwgY29tcG9uZW50cylcbiAgICBsZXQgdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGVtcGxhdGVcIilcbiAgICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSB0aGlzLnJlY3Vyc2l2ZVRvU3RyaW5nKGNvbXBvbmVudCwgY29tcG9uZW50cywgb25seUNpZHMpXG4gICAgbGV0IGNvbnRhaW5lciA9IHRlbXBsYXRlLmNvbnRlbnRcbiAgICBsZXQgc2tpcCA9IG9ubHlDaWRzICYmICFvbmx5Q2lkcy5oYXMoY2lkKVxuXG4gICAgbGV0IFtoYXNDaGlsZE5vZGVzLCBoYXNDaGlsZENvbXBvbmVudHNdID1cbiAgICAgIEFycmF5LmZyb20oY29udGFpbmVyLmNoaWxkTm9kZXMpLnJlZHVjZSgoW2hhc05vZGVzLCBoYXNDb21wb25lbnRzXSwgY2hpbGQsIGkpID0+IHtcbiAgICAgICAgaWYoY2hpbGQubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKXtcbiAgICAgICAgICBpZihjaGlsZC5nZXRBdHRyaWJ1dGUoUEhYX0NPTVBPTkVOVCkpe1xuICAgICAgICAgICAgcmV0dXJuIFtoYXNOb2RlcywgdHJ1ZV1cbiAgICAgICAgICB9XG4gICAgICAgICAgY2hpbGQuc2V0QXR0cmlidXRlKFBIWF9DT01QT05FTlQsIGNpZClcbiAgICAgICAgICBpZighY2hpbGQuaWQpeyBjaGlsZC5pZCA9IGAke3RoaXMucGFyZW50Vmlld0lkKCl9LSR7Y2lkfS0ke2l9YCB9XG4gICAgICAgICAgaWYoc2tpcCl7XG4gICAgICAgICAgICBjaGlsZC5zZXRBdHRyaWJ1dGUoUEhYX1NLSVAsIFwiXCIpXG4gICAgICAgICAgICBjaGlsZC5pbm5lckhUTUwgPSBcIlwiXG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBbdHJ1ZSwgaGFzQ29tcG9uZW50c11cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZihjaGlsZC5ub2RlVmFsdWUudHJpbSgpICE9PSBcIlwiKXtcbiAgICAgICAgICAgIGxvZ0Vycm9yKFwib25seSBIVE1MIGVsZW1lbnQgdGFncyBhcmUgYWxsb3dlZCBhdCB0aGUgcm9vdCBvZiBjb21wb25lbnRzLlxcblxcblwiICtcbiAgICAgICAgICAgICAgYGdvdDogXCIke2NoaWxkLm5vZGVWYWx1ZS50cmltKCl9XCJcXG5cXG5gICtcbiAgICAgICAgICAgICAgXCJ3aXRoaW46XFxuXCIsIHRlbXBsYXRlLmlubmVySFRNTC50cmltKCkpXG4gICAgICAgICAgICBjaGlsZC5yZXBsYWNlV2l0aCh0aGlzLmNyZWF0ZVNwYW4oY2hpbGQubm9kZVZhbHVlLCBjaWQpKVxuICAgICAgICAgICAgcmV0dXJuIFt0cnVlLCBoYXNDb21wb25lbnRzXVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjaGlsZC5yZW1vdmUoKVxuICAgICAgICAgICAgcmV0dXJuIFtoYXNOb2RlcywgaGFzQ29tcG9uZW50c11cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIFtmYWxzZSwgZmFsc2VdKVxuXG4gICAgaWYoIWhhc0NoaWxkTm9kZXMgJiYgIWhhc0NoaWxkQ29tcG9uZW50cyl7XG4gICAgICBsb2dFcnJvcihcImV4cGVjdGVkIGF0IGxlYXN0IG9uZSBIVE1MIGVsZW1lbnQgdGFnIGluc2lkZSBhIGNvbXBvbmVudCwgYnV0IHRoZSBjb21wb25lbnQgaXMgZW1wdHk6XFxuXCIsXG4gICAgICAgIHRlbXBsYXRlLmlubmVySFRNTC50cmltKCkpXG4gICAgICByZXR1cm4gdGhpcy5jcmVhdGVTcGFuKFwiXCIsIGNpZCkub3V0ZXJIVE1MXG4gICAgfSBlbHNlIGlmKCFoYXNDaGlsZE5vZGVzICYmIGhhc0NoaWxkQ29tcG9uZW50cyl7XG4gICAgICBsb2dFcnJvcihcImV4cGVjdGVkIGF0IGxlYXN0IG9uZSBIVE1MIGVsZW1lbnQgdGFnIGRpcmVjdGx5IGluc2lkZSBhIGNvbXBvbmVudCwgYnV0IG9ubHkgc3ViY29tcG9uZW50cyB3ZXJlIGZvdW5kLiBBIGNvbXBvbmVudCBtdXN0IHJlbmRlciBhdCBsZWFzdCBvbmUgSFRNTCB0YWcgZGlyZWN0bHkgaW5zaWRlIGl0c2VsZi5cIixcbiAgICAgICAgdGVtcGxhdGUuaW5uZXJIVE1MLnRyaW0oKSlcbiAgICAgIHJldHVybiB0ZW1wbGF0ZS5pbm5lckhUTUxcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRlbXBsYXRlLmlubmVySFRNTFxuICAgIH1cbiAgfVxuXG4gIGNyZWF0ZVNwYW4odGV4dCwgY2lkKXtcbiAgICBsZXQgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpXG4gICAgc3Bhbi5pbm5lclRleHQgPSB0ZXh0XG4gICAgc3Bhbi5zZXRBdHRyaWJ1dGUoUEhYX0NPTVBPTkVOVCwgY2lkKVxuICAgIHJldHVybiBzcGFuXG4gIH1cbn1cbiIsICJsZXQgdmlld0hvb2tJRCA9IDFcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZpZXdIb29rIHtcbiAgc3RhdGljIG1ha2VJRCgpeyByZXR1cm4gdmlld0hvb2tJRCsrIH1cbiAgc3RhdGljIGVsZW1lbnRJRChlbCl7IHJldHVybiBlbC5waHhIb29rSWQgfVxuXG4gIGNvbnN0cnVjdG9yKHZpZXcsIGVsLCBjYWxsYmFja3Mpe1xuICAgIHRoaXMuX192aWV3ID0gdmlld1xuICAgIHRoaXMubGl2ZVNvY2tldCA9IHZpZXcubGl2ZVNvY2tldFxuICAgIHRoaXMuX19jYWxsYmFja3MgPSBjYWxsYmFja3NcbiAgICB0aGlzLl9fbGlzdGVuZXJzID0gbmV3IFNldCgpXG4gICAgdGhpcy5fX2lzRGlzY29ubmVjdGVkID0gZmFsc2VcbiAgICB0aGlzLmVsID0gZWxcbiAgICB0aGlzLmVsLnBoeEhvb2tJZCA9IHRoaXMuY29uc3RydWN0b3IubWFrZUlEKClcbiAgICBmb3IobGV0IGtleSBpbiB0aGlzLl9fY2FsbGJhY2tzKXsgdGhpc1trZXldID0gdGhpcy5fX2NhbGxiYWNrc1trZXldIH1cbiAgfVxuXG4gIF9fbW91bnRlZCgpeyB0aGlzLm1vdW50ZWQgJiYgdGhpcy5tb3VudGVkKCkgfVxuICBfX3VwZGF0ZWQoKXsgdGhpcy51cGRhdGVkICYmIHRoaXMudXBkYXRlZCgpIH1cbiAgX19iZWZvcmVVcGRhdGUoKXsgdGhpcy5iZWZvcmVVcGRhdGUgJiYgdGhpcy5iZWZvcmVVcGRhdGUoKSB9XG4gIF9fZGVzdHJveWVkKCl7IHRoaXMuZGVzdHJveWVkICYmIHRoaXMuZGVzdHJveWVkKCkgfVxuICBfX3JlY29ubmVjdGVkKCl7XG4gICAgaWYodGhpcy5fX2lzRGlzY29ubmVjdGVkKXtcbiAgICAgIHRoaXMuX19pc0Rpc2Nvbm5lY3RlZCA9IGZhbHNlXG4gICAgICB0aGlzLnJlY29ubmVjdGVkICYmIHRoaXMucmVjb25uZWN0ZWQoKVxuICAgIH1cbiAgfVxuICBfX2Rpc2Nvbm5lY3RlZCgpe1xuICAgIHRoaXMuX19pc0Rpc2Nvbm5lY3RlZCA9IHRydWVcbiAgICB0aGlzLmRpc2Nvbm5lY3RlZCAmJiB0aGlzLmRpc2Nvbm5lY3RlZCgpXG4gIH1cblxuICBwdXNoRXZlbnQoZXZlbnQsIHBheWxvYWQgPSB7fSwgb25SZXBseSA9IGZ1bmN0aW9uICgpeyB9KXtcbiAgICByZXR1cm4gdGhpcy5fX3ZpZXcucHVzaEhvb2tFdmVudChudWxsLCBldmVudCwgcGF5bG9hZCwgb25SZXBseSlcbiAgfVxuXG4gIHB1c2hFdmVudFRvKHBoeFRhcmdldCwgZXZlbnQsIHBheWxvYWQgPSB7fSwgb25SZXBseSA9IGZ1bmN0aW9uICgpeyB9KXtcbiAgICByZXR1cm4gdGhpcy5fX3ZpZXcud2l0aGluVGFyZ2V0cyhwaHhUYXJnZXQsICh2aWV3LCB0YXJnZXRDdHgpID0+IHtcbiAgICAgIHJldHVybiB2aWV3LnB1c2hIb29rRXZlbnQodGFyZ2V0Q3R4LCBldmVudCwgcGF5bG9hZCwgb25SZXBseSlcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlRXZlbnQoZXZlbnQsIGNhbGxiYWNrKXtcbiAgICBsZXQgY2FsbGJhY2tSZWYgPSAoY3VzdG9tRXZlbnQsIGJ5cGFzcykgPT4gYnlwYXNzID8gZXZlbnQgOiBjYWxsYmFjayhjdXN0b21FdmVudC5kZXRhaWwpXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoYHBoeDoke2V2ZW50fWAsIGNhbGxiYWNrUmVmKVxuICAgIHRoaXMuX19saXN0ZW5lcnMuYWRkKGNhbGxiYWNrUmVmKVxuICAgIHJldHVybiBjYWxsYmFja1JlZlxuICB9XG5cbiAgcmVtb3ZlSGFuZGxlRXZlbnQoY2FsbGJhY2tSZWYpe1xuICAgIGxldCBldmVudCA9IGNhbGxiYWNrUmVmKG51bGwsIHRydWUpXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoYHBoeDoke2V2ZW50fWAsIGNhbGxiYWNrUmVmKVxuICAgIHRoaXMuX19saXN0ZW5lcnMuZGVsZXRlKGNhbGxiYWNrUmVmKVxuICB9XG5cbiAgdXBsb2FkKG5hbWUsIGZpbGVzKXtcbiAgICByZXR1cm4gdGhpcy5fX3ZpZXcuZGlzcGF0Y2hVcGxvYWRzKG5hbWUsIGZpbGVzKVxuICB9XG5cbiAgdXBsb2FkVG8ocGh4VGFyZ2V0LCBuYW1lLCBmaWxlcyl7XG4gICAgcmV0dXJuIHRoaXMuX192aWV3LndpdGhpblRhcmdldHMocGh4VGFyZ2V0LCB2aWV3ID0+IHZpZXcuZGlzcGF0Y2hVcGxvYWRzKG5hbWUsIGZpbGVzKSlcbiAgfVxuXG4gIF9fY2xlYW51cF9fKCl7XG4gICAgdGhpcy5fX2xpc3RlbmVycy5mb3JFYWNoKGNhbGxiYWNrUmVmID0+IHRoaXMucmVtb3ZlSGFuZGxlRXZlbnQoY2FsbGJhY2tSZWYpKVxuICB9XG59XG4iLCAiaW1wb3J0IERPTSBmcm9tIFwiLi9kb21cIlxuaW1wb3J0IEFSSUEgZnJvbSBcIi4vYXJpYVwiXG5cbmxldCBmb2N1c1N0YWNrID0gbnVsbFxuXG5sZXQgSlMgPSB7XG4gIGV4ZWMoZXZlbnRUeXBlLCBwaHhFdmVudCwgdmlldywgc291cmNlRWwsIGRlZmF1bHRzKXtcbiAgICBsZXQgW2RlZmF1bHRLaW5kLCBkZWZhdWx0QXJnc10gPSBkZWZhdWx0cyB8fCBbbnVsbCwge31dXG4gICAgbGV0IGNvbW1hbmRzID0gcGh4RXZlbnQuY2hhckF0KDApID09PSBcIltcIiA/XG4gICAgICBKU09OLnBhcnNlKHBoeEV2ZW50KSA6IFtbZGVmYXVsdEtpbmQsIGRlZmF1bHRBcmdzXV1cblxuICAgIGNvbW1hbmRzLmZvckVhY2goKFtraW5kLCBhcmdzXSkgPT4ge1xuICAgICAgaWYoa2luZCA9PT0gZGVmYXVsdEtpbmQgJiYgZGVmYXVsdEFyZ3MuZGF0YSl7XG4gICAgICAgIGFyZ3MuZGF0YSA9IE9iamVjdC5hc3NpZ24oYXJncy5kYXRhIHx8IHt9LCBkZWZhdWx0QXJncy5kYXRhKVxuICAgICAgfVxuICAgICAgdGhpcy5maWx0ZXJUb0Vscyhzb3VyY2VFbCwgYXJncykuZm9yRWFjaChlbCA9PiB7XG4gICAgICAgIHRoaXNbYGV4ZWNfJHtraW5kfWBdKGV2ZW50VHlwZSwgcGh4RXZlbnQsIHZpZXcsIHNvdXJjZUVsLCBlbCwgYXJncylcbiAgICAgIH0pXG4gICAgfSlcbiAgfSxcblxuICBpc1Zpc2libGUoZWwpe1xuICAgIHJldHVybiAhIShlbC5vZmZzZXRXaWR0aCB8fCBlbC5vZmZzZXRIZWlnaHQgfHwgZWwuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGggPiAwKVxuICB9LFxuXG4gIC8vIHByaXZhdGVcblxuICAvLyBjb21tYW5kc1xuXG4gIGV4ZWNfZGlzcGF0Y2goZXZlbnRUeXBlLCBwaHhFdmVudCwgdmlldywgc291cmNlRWwsIGVsLCB7dG8sIGV2ZW50LCBkZXRhaWwsIGJ1YmJsZXN9KXtcbiAgICBkZXRhaWwgPSBkZXRhaWwgfHwge31cbiAgICBkZXRhaWwuZGlzcGF0Y2hlciA9IHNvdXJjZUVsXG4gICAgRE9NLmRpc3BhdGNoRXZlbnQoZWwsIGV2ZW50LCB7ZGV0YWlsLCBidWJibGVzfSlcbiAgfSxcblxuICBleGVjX3B1c2goZXZlbnRUeXBlLCBwaHhFdmVudCwgdmlldywgc291cmNlRWwsIGVsLCBhcmdzKXtcbiAgICBpZighdmlldy5pc0Nvbm5lY3RlZCgpKXsgcmV0dXJuIH1cblxuICAgIGxldCB7ZXZlbnQsIGRhdGEsIHRhcmdldCwgcGFnZV9sb2FkaW5nLCBsb2FkaW5nLCB2YWx1ZSwgZGlzcGF0Y2hlcn0gPSBhcmdzXG4gICAgbGV0IHB1c2hPcHRzID0ge2xvYWRpbmcsIHZhbHVlLCB0YXJnZXQsIHBhZ2VfbG9hZGluZzogISFwYWdlX2xvYWRpbmd9XG4gICAgbGV0IHRhcmdldFNyYyA9IGV2ZW50VHlwZSA9PT0gXCJjaGFuZ2VcIiAmJiBkaXNwYXRjaGVyID8gZGlzcGF0Y2hlciA6IHNvdXJjZUVsXG4gICAgbGV0IHBoeFRhcmdldCA9IHRhcmdldCB8fCB0YXJnZXRTcmMuZ2V0QXR0cmlidXRlKHZpZXcuYmluZGluZyhcInRhcmdldFwiKSkgfHwgdGFyZ2V0U3JjXG4gICAgdmlldy53aXRoaW5UYXJnZXRzKHBoeFRhcmdldCwgKHRhcmdldFZpZXcsIHRhcmdldEN0eCkgPT4ge1xuICAgICAgaWYoZXZlbnRUeXBlID09PSBcImNoYW5nZVwiKXtcbiAgICAgICAgbGV0IHtuZXdDaWQsIF90YXJnZXQsIGNhbGxiYWNrfSA9IGFyZ3NcbiAgICAgICAgX3RhcmdldCA9IF90YXJnZXQgfHwgKHNvdXJjZUVsIGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCA/IHNvdXJjZUVsLm5hbWUgOiB1bmRlZmluZWQpXG4gICAgICAgIGlmKF90YXJnZXQpeyBwdXNoT3B0cy5fdGFyZ2V0ID0gX3RhcmdldCB9XG4gICAgICAgIHRhcmdldFZpZXcucHVzaElucHV0KHNvdXJjZUVsLCB0YXJnZXRDdHgsIG5ld0NpZCwgZXZlbnQgfHwgcGh4RXZlbnQsIHB1c2hPcHRzLCBjYWxsYmFjaylcbiAgICAgIH0gZWxzZSBpZihldmVudFR5cGUgPT09IFwic3VibWl0XCIpe1xuICAgICAgICB0YXJnZXRWaWV3LnN1Ym1pdEZvcm0oc291cmNlRWwsIHRhcmdldEN0eCwgZXZlbnQgfHwgcGh4RXZlbnQsIHB1c2hPcHRzKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0Vmlldy5wdXNoRXZlbnQoZXZlbnRUeXBlLCBzb3VyY2VFbCwgdGFyZ2V0Q3R4LCBldmVudCB8fCBwaHhFdmVudCwgZGF0YSwgcHVzaE9wdHMpXG4gICAgICB9XG4gICAgfSlcbiAgfSxcblxuICBleGVjX25hdmlnYXRlKGV2ZW50VHlwZSwgcGh4RXZlbnQsIHZpZXcsIHNvdXJjZUVsLCBlbCwge2hyZWYsIHJlcGxhY2V9KXtcbiAgICB2aWV3LmxpdmVTb2NrZXQuaGlzdG9yeVJlZGlyZWN0KGhyZWYsIHJlcGxhY2UgPyBcInJlcGxhY2VcIiA6IFwicHVzaFwiKVxuICB9LFxuXG4gIGV4ZWNfcGF0Y2goZXZlbnRUeXBlLCBwaHhFdmVudCwgdmlldywgc291cmNlRWwsIGVsLCB7aHJlZiwgcmVwbGFjZX0pe1xuICAgIHZpZXcubGl2ZVNvY2tldC5wdXNoSGlzdG9yeVBhdGNoKGhyZWYsIHJlcGxhY2UgPyBcInJlcGxhY2VcIiA6IFwicHVzaFwiLCBzb3VyY2VFbClcbiAgfSxcblxuICBleGVjX2ZvY3VzKGV2ZW50VHlwZSwgcGh4RXZlbnQsIHZpZXcsIHNvdXJjZUVsLCBlbCl7XG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiBBUklBLmF0dGVtcHRGb2N1cyhlbCkpXG4gIH0sXG5cbiAgZXhlY19mb2N1c19maXJzdChldmVudFR5cGUsIHBoeEV2ZW50LCB2aWV3LCBzb3VyY2VFbCwgZWwpe1xuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gQVJJQS5mb2N1c0ZpcnN0SW50ZXJhY3RpdmUoZWwpIHx8IEFSSUEuZm9jdXNGaXJzdChlbCkpXG4gIH0sXG5cbiAgZXhlY19wdXNoX2ZvY3VzKGV2ZW50VHlwZSwgcGh4RXZlbnQsIHZpZXcsIHNvdXJjZUVsLCBlbCl7XG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiBmb2N1c1N0YWNrID0gZWwgfHwgc291cmNlRWwpXG4gIH0sXG5cbiAgZXhlY19wb3BfZm9jdXMoZXZlbnRUeXBlLCBwaHhFdmVudCwgdmlldywgc291cmNlRWwsIGVsKXtcbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgIGlmKGZvY3VzU3RhY2speyBmb2N1c1N0YWNrLmZvY3VzKCkgfVxuICAgICAgZm9jdXNTdGFjayA9IG51bGxcbiAgICB9KVxuICB9LFxuXG4gIGV4ZWNfYWRkX2NsYXNzKGV2ZW50VHlwZSwgcGh4RXZlbnQsIHZpZXcsIHNvdXJjZUVsLCBlbCwge25hbWVzLCB0cmFuc2l0aW9uLCB0aW1lfSl7XG4gICAgdGhpcy5hZGRPclJlbW92ZUNsYXNzZXMoZWwsIG5hbWVzLCBbXSwgdHJhbnNpdGlvbiwgdGltZSwgdmlldylcbiAgfSxcblxuICBleGVjX3JlbW92ZV9jbGFzcyhldmVudFR5cGUsIHBoeEV2ZW50LCB2aWV3LCBzb3VyY2VFbCwgZWwsIHtuYW1lcywgdHJhbnNpdGlvbiwgdGltZX0pe1xuICAgIHRoaXMuYWRkT3JSZW1vdmVDbGFzc2VzKGVsLCBbXSwgbmFtZXMsIHRyYW5zaXRpb24sIHRpbWUsIHZpZXcpXG4gIH0sXG5cbiAgZXhlY190cmFuc2l0aW9uKGV2ZW50VHlwZSwgcGh4RXZlbnQsIHZpZXcsIHNvdXJjZUVsLCBlbCwge3RpbWUsIHRyYW5zaXRpb259KXtcbiAgICBsZXQgW3RyYW5zaXRpb25fc3RhcnQsIHJ1bm5pbmcsIHRyYW5zaXRpb25fZW5kXSA9IHRyYW5zaXRpb25cbiAgICBsZXQgb25TdGFydCA9ICgpID0+IHRoaXMuYWRkT3JSZW1vdmVDbGFzc2VzKGVsLCB0cmFuc2l0aW9uX3N0YXJ0LmNvbmNhdChydW5uaW5nKSwgW10pXG4gICAgbGV0IG9uRG9uZSA9ICgpID0+IHRoaXMuYWRkT3JSZW1vdmVDbGFzc2VzKGVsLCB0cmFuc2l0aW9uX2VuZCwgdHJhbnNpdGlvbl9zdGFydC5jb25jYXQocnVubmluZykpXG4gICAgdmlldy50cmFuc2l0aW9uKHRpbWUsIG9uU3RhcnQsIG9uRG9uZSlcbiAgfSxcblxuICBleGVjX3RvZ2dsZShldmVudFR5cGUsIHBoeEV2ZW50LCB2aWV3LCBzb3VyY2VFbCwgZWwsIHtkaXNwbGF5LCBpbnMsIG91dHMsIHRpbWV9KXtcbiAgICB0aGlzLnRvZ2dsZShldmVudFR5cGUsIHZpZXcsIGVsLCBkaXNwbGF5LCBpbnMsIG91dHMsIHRpbWUpXG4gIH0sXG5cbiAgZXhlY19zaG93KGV2ZW50VHlwZSwgcGh4RXZlbnQsIHZpZXcsIHNvdXJjZUVsLCBlbCwge2Rpc3BsYXksIHRyYW5zaXRpb24sIHRpbWV9KXtcbiAgICB0aGlzLnNob3coZXZlbnRUeXBlLCB2aWV3LCBlbCwgZGlzcGxheSwgdHJhbnNpdGlvbiwgdGltZSlcbiAgfSxcblxuICBleGVjX2hpZGUoZXZlbnRUeXBlLCBwaHhFdmVudCwgdmlldywgc291cmNlRWwsIGVsLCB7ZGlzcGxheSwgdHJhbnNpdGlvbiwgdGltZX0pe1xuICAgIHRoaXMuaGlkZShldmVudFR5cGUsIHZpZXcsIGVsLCBkaXNwbGF5LCB0cmFuc2l0aW9uLCB0aW1lKVxuICB9LFxuXG4gIGV4ZWNfc2V0X2F0dHIoZXZlbnRUeXBlLCBwaHhFdmVudCwgdmlldywgc291cmNlRWwsIGVsLCB7YXR0cjogW2F0dHIsIHZhbF19KXtcbiAgICB0aGlzLnNldE9yUmVtb3ZlQXR0cnMoZWwsIFtbYXR0ciwgdmFsXV0sIFtdKVxuICB9LFxuXG4gIGV4ZWNfcmVtb3ZlX2F0dHIoZXZlbnRUeXBlLCBwaHhFdmVudCwgdmlldywgc291cmNlRWwsIGVsLCB7YXR0cn0pe1xuICAgIHRoaXMuc2V0T3JSZW1vdmVBdHRycyhlbCwgW10sIFthdHRyXSlcbiAgfSxcblxuICAvLyB1dGlscyBmb3IgY29tbWFuZHNcblxuICBzaG93KGV2ZW50VHlwZSwgdmlldywgZWwsIGRpc3BsYXksIHRyYW5zaXRpb24sIHRpbWUpe1xuICAgIGlmKCF0aGlzLmlzVmlzaWJsZShlbCkpe1xuICAgICAgdGhpcy50b2dnbGUoZXZlbnRUeXBlLCB2aWV3LCBlbCwgZGlzcGxheSwgdHJhbnNpdGlvbiwgbnVsbCwgdGltZSlcbiAgICB9XG4gIH0sXG5cbiAgaGlkZShldmVudFR5cGUsIHZpZXcsIGVsLCBkaXNwbGF5LCB0cmFuc2l0aW9uLCB0aW1lKXtcbiAgICBpZih0aGlzLmlzVmlzaWJsZShlbCkpe1xuICAgICAgdGhpcy50b2dnbGUoZXZlbnRUeXBlLCB2aWV3LCBlbCwgZGlzcGxheSwgbnVsbCwgdHJhbnNpdGlvbiwgdGltZSlcbiAgICB9XG4gIH0sXG5cbiAgdG9nZ2xlKGV2ZW50VHlwZSwgdmlldywgZWwsIGRpc3BsYXksIGlucywgb3V0cywgdGltZSl7XG4gICAgbGV0IFtpbkNsYXNzZXMsIGluU3RhcnRDbGFzc2VzLCBpbkVuZENsYXNzZXNdID0gaW5zIHx8IFtbXSwgW10sIFtdXVxuICAgIGxldCBbb3V0Q2xhc3Nlcywgb3V0U3RhcnRDbGFzc2VzLCBvdXRFbmRDbGFzc2VzXSA9IG91dHMgfHwgW1tdLCBbXSwgW11dXG4gICAgaWYoaW5DbGFzc2VzLmxlbmd0aCA+IDAgfHwgb3V0Q2xhc3Nlcy5sZW5ndGggPiAwKXtcbiAgICAgIGlmKHRoaXMuaXNWaXNpYmxlKGVsKSl7XG4gICAgICAgIGxldCBvblN0YXJ0ID0gKCkgPT4ge1xuICAgICAgICAgIHRoaXMuYWRkT3JSZW1vdmVDbGFzc2VzKGVsLCBvdXRTdGFydENsYXNzZXMsIGluQ2xhc3Nlcy5jb25jYXQoaW5TdGFydENsYXNzZXMpLmNvbmNhdChpbkVuZENsYXNzZXMpKVxuICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5hZGRPclJlbW92ZUNsYXNzZXMoZWwsIG91dENsYXNzZXMsIFtdKVxuICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB0aGlzLmFkZE9yUmVtb3ZlQ2xhc3NlcyhlbCwgb3V0RW5kQ2xhc3Nlcywgb3V0U3RhcnRDbGFzc2VzKSlcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIGVsLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KFwicGh4OmhpZGUtc3RhcnRcIikpXG4gICAgICAgIHZpZXcudHJhbnNpdGlvbih0aW1lLCBvblN0YXJ0LCAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5hZGRPclJlbW92ZUNsYXNzZXMoZWwsIFtdLCBvdXRDbGFzc2VzLmNvbmNhdChvdXRFbmRDbGFzc2VzKSlcbiAgICAgICAgICBET00ucHV0U3RpY2t5KGVsLCBcInRvZ2dsZVwiLCBjdXJyZW50RWwgPT4gY3VycmVudEVsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIilcbiAgICAgICAgICBlbC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcInBoeDpoaWRlLWVuZFwiKSlcbiAgICAgICAgfSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmKGV2ZW50VHlwZSA9PT0gXCJyZW1vdmVcIil7IHJldHVybiB9XG4gICAgICAgIGxldCBvblN0YXJ0ID0gKCkgPT4ge1xuICAgICAgICAgIHRoaXMuYWRkT3JSZW1vdmVDbGFzc2VzKGVsLCBpblN0YXJ0Q2xhc3Nlcywgb3V0Q2xhc3Nlcy5jb25jYXQob3V0U3RhcnRDbGFzc2VzKS5jb25jYXQob3V0RW5kQ2xhc3NlcykpXG4gICAgICAgICAgRE9NLnB1dFN0aWNreShlbCwgXCJ0b2dnbGVcIiwgY3VycmVudEVsID0+IGN1cnJlbnRFbC5zdHlsZS5kaXNwbGF5ID0gKGRpc3BsYXkgfHwgXCJibG9ja1wiKSlcbiAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYWRkT3JSZW1vdmVDbGFzc2VzKGVsLCBpbkNsYXNzZXMsIFtdKVxuICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB0aGlzLmFkZE9yUmVtb3ZlQ2xhc3NlcyhlbCwgaW5FbmRDbGFzc2VzLCBpblN0YXJ0Q2xhc3NlcykpXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBlbC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcInBoeDpzaG93LXN0YXJ0XCIpKVxuICAgICAgICB2aWV3LnRyYW5zaXRpb24odGltZSwgb25TdGFydCwgKCkgPT4ge1xuICAgICAgICAgIHRoaXMuYWRkT3JSZW1vdmVDbGFzc2VzKGVsLCBbXSwgaW5DbGFzc2VzLmNvbmNhdChpbkVuZENsYXNzZXMpKVxuICAgICAgICAgIGVsLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KFwicGh4OnNob3ctZW5kXCIpKVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZih0aGlzLmlzVmlzaWJsZShlbCkpe1xuICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICBlbC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcInBoeDpoaWRlLXN0YXJ0XCIpKVxuICAgICAgICAgIERPTS5wdXRTdGlja3koZWwsIFwidG9nZ2xlXCIsIGN1cnJlbnRFbCA9PiBjdXJyZW50RWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiKVxuICAgICAgICAgIGVsLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KFwicGh4OmhpZGUtZW5kXCIpKVxuICAgICAgICB9KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgZWwuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJwaHg6c2hvdy1zdGFydFwiKSlcbiAgICAgICAgICBET00ucHV0U3RpY2t5KGVsLCBcInRvZ2dsZVwiLCBjdXJyZW50RWwgPT4gY3VycmVudEVsLnN0eWxlLmRpc3BsYXkgPSBkaXNwbGF5IHx8IFwiYmxvY2tcIilcbiAgICAgICAgICBlbC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcInBoeDpzaG93LWVuZFwiKSlcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgYWRkT3JSZW1vdmVDbGFzc2VzKGVsLCBhZGRzLCByZW1vdmVzLCB0cmFuc2l0aW9uLCB0aW1lLCB2aWV3KXtcbiAgICBsZXQgW3RyYW5zaXRpb25fcnVuLCB0cmFuc2l0aW9uX3N0YXJ0LCB0cmFuc2l0aW9uX2VuZF0gPSB0cmFuc2l0aW9uIHx8IFtbXSwgW10sIFtdXVxuICAgIGlmKHRyYW5zaXRpb25fcnVuLmxlbmd0aCA+IDApe1xuICAgICAgbGV0IG9uU3RhcnQgPSAoKSA9PiB0aGlzLmFkZE9yUmVtb3ZlQ2xhc3NlcyhlbCwgdHJhbnNpdGlvbl9zdGFydC5jb25jYXQodHJhbnNpdGlvbl9ydW4pLCBbXSlcbiAgICAgIGxldCBvbkRvbmUgPSAoKSA9PiB0aGlzLmFkZE9yUmVtb3ZlQ2xhc3NlcyhlbCwgYWRkcy5jb25jYXQodHJhbnNpdGlvbl9lbmQpLCByZW1vdmVzLmNvbmNhdCh0cmFuc2l0aW9uX3J1bikuY29uY2F0KHRyYW5zaXRpb25fc3RhcnQpKVxuICAgICAgcmV0dXJuIHZpZXcudHJhbnNpdGlvbih0aW1lLCBvblN0YXJ0LCBvbkRvbmUpXG4gICAgfVxuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgbGV0IFtwcmV2QWRkcywgcHJldlJlbW92ZXNdID0gRE9NLmdldFN0aWNreShlbCwgXCJjbGFzc2VzXCIsIFtbXSwgW11dKVxuICAgICAgbGV0IGtlZXBBZGRzID0gYWRkcy5maWx0ZXIobmFtZSA9PiBwcmV2QWRkcy5pbmRleE9mKG5hbWUpIDwgMCAmJiAhZWwuY2xhc3NMaXN0LmNvbnRhaW5zKG5hbWUpKVxuICAgICAgbGV0IGtlZXBSZW1vdmVzID0gcmVtb3Zlcy5maWx0ZXIobmFtZSA9PiBwcmV2UmVtb3Zlcy5pbmRleE9mKG5hbWUpIDwgMCAmJiBlbC5jbGFzc0xpc3QuY29udGFpbnMobmFtZSkpXG4gICAgICBsZXQgbmV3QWRkcyA9IHByZXZBZGRzLmZpbHRlcihuYW1lID0+IHJlbW92ZXMuaW5kZXhPZihuYW1lKSA8IDApLmNvbmNhdChrZWVwQWRkcylcbiAgICAgIGxldCBuZXdSZW1vdmVzID0gcHJldlJlbW92ZXMuZmlsdGVyKG5hbWUgPT4gYWRkcy5pbmRleE9mKG5hbWUpIDwgMCkuY29uY2F0KGtlZXBSZW1vdmVzKVxuXG4gICAgICBET00ucHV0U3RpY2t5KGVsLCBcImNsYXNzZXNcIiwgY3VycmVudEVsID0+IHtcbiAgICAgICAgY3VycmVudEVsLmNsYXNzTGlzdC5yZW1vdmUoLi4ubmV3UmVtb3ZlcylcbiAgICAgICAgY3VycmVudEVsLmNsYXNzTGlzdC5hZGQoLi4ubmV3QWRkcylcbiAgICAgICAgcmV0dXJuIFtuZXdBZGRzLCBuZXdSZW1vdmVzXVxuICAgICAgfSlcbiAgICB9KVxuICB9LFxuXG4gIHNldE9yUmVtb3ZlQXR0cnMoZWwsIHNldHMsIHJlbW92ZXMpe1xuICAgIGxldCBbcHJldlNldHMsIHByZXZSZW1vdmVzXSA9IERPTS5nZXRTdGlja3koZWwsIFwiYXR0cnNcIiwgW1tdLCBbXV0pXG5cbiAgICBsZXQgYWx0ZXJlZEF0dHJzID0gc2V0cy5tYXAoKFthdHRyLCBfdmFsXSkgPT4gYXR0cikuY29uY2F0KHJlbW92ZXMpO1xuICAgIGxldCBuZXdTZXRzID0gcHJldlNldHMuZmlsdGVyKChbYXR0ciwgX3ZhbF0pID0+ICFhbHRlcmVkQXR0cnMuaW5jbHVkZXMoYXR0cikpLmNvbmNhdChzZXRzKTtcbiAgICBsZXQgbmV3UmVtb3ZlcyA9IHByZXZSZW1vdmVzLmZpbHRlcigoYXR0cikgPT4gIWFsdGVyZWRBdHRycy5pbmNsdWRlcyhhdHRyKSkuY29uY2F0KHJlbW92ZXMpO1xuXG4gICAgRE9NLnB1dFN0aWNreShlbCwgXCJhdHRyc1wiLCBjdXJyZW50RWwgPT4ge1xuICAgICAgbmV3UmVtb3Zlcy5mb3JFYWNoKGF0dHIgPT4gY3VycmVudEVsLnJlbW92ZUF0dHJpYnV0ZShhdHRyKSlcbiAgICAgIG5ld1NldHMuZm9yRWFjaCgoW2F0dHIsIHZhbF0pID0+IGN1cnJlbnRFbC5zZXRBdHRyaWJ1dGUoYXR0ciwgdmFsKSlcbiAgICAgIHJldHVybiBbbmV3U2V0cywgbmV3UmVtb3Zlc11cbiAgICB9KVxuICB9LFxuXG4gIGhhc0FsbENsYXNzZXMoZWwsIGNsYXNzZXMpeyByZXR1cm4gY2xhc3Nlcy5ldmVyeShuYW1lID0+IGVsLmNsYXNzTGlzdC5jb250YWlucyhuYW1lKSkgfSxcblxuICBpc1RvZ2dsZWRPdXQoZWwsIG91dENsYXNzZXMpe1xuICAgIHJldHVybiAhdGhpcy5pc1Zpc2libGUoZWwpIHx8IHRoaXMuaGFzQWxsQ2xhc3NlcyhlbCwgb3V0Q2xhc3NlcylcbiAgfSxcblxuICBmaWx0ZXJUb0Vscyhzb3VyY2VFbCwge3RvfSl7XG4gICAgcmV0dXJuIHRvID8gRE9NLmFsbChkb2N1bWVudCwgdG8pIDogW3NvdXJjZUVsXVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEpTXG4iLCAiaW1wb3J0IHtcbiAgQkVGT1JFX1VOTE9BRF9MT0FERVJfVElNRU9VVCxcbiAgQ0hFQ0tBQkxFX0lOUFVUUyxcbiAgQ09OU0VDVVRJVkVfUkVMT0FEUyxcbiAgUEhYX0FVVE9fUkVDT1ZFUixcbiAgUEhYX0NPTVBPTkVOVCxcbiAgUEhYX0NPTk5FQ1RFRF9DTEFTUyxcbiAgUEhYX0RJU0FCTEVfV0lUSCxcbiAgUEhYX0RJU0FCTEVfV0lUSF9SRVNUT1JFLFxuICBQSFhfRElTQUJMRUQsXG4gIFBIWF9ESVNDT05ORUNURURfQ0xBU1MsXG4gIFBIWF9FVkVOVF9DTEFTU0VTLFxuICBQSFhfRVJST1JfQ0xBU1MsXG4gIFBIWF9GRUVEQkFDS19GT1IsXG4gIFBIWF9IQVNfU1VCTUlUVEVELFxuICBQSFhfSE9PSyxcbiAgUEhYX1BBR0VfTE9BRElORyxcbiAgUEhYX1BBUkVOVF9JRCxcbiAgUEhYX1BST0dSRVNTLFxuICBQSFhfUkVBRE9OTFksXG4gIFBIWF9SRUYsXG4gIFBIWF9SRUZfU1JDLFxuICBQSFhfUk9PVF9JRCxcbiAgUEhYX1NFU1NJT04sXG4gIFBIWF9TVEFUSUMsXG4gIFBIWF9UUkFDS19TVEFUSUMsXG4gIFBIWF9UUkFDS19VUExPQURTLFxuICBQSFhfVVBEQVRFLFxuICBQSFhfVVBMT0FEX1JFRixcbiAgUEhYX1ZJRVdfU0VMRUNUT1IsXG4gIFBIWF9NQUlOLFxuICBQSFhfTU9VTlRFRCxcbiAgUFVTSF9USU1FT1VULFxufSBmcm9tIFwiLi9jb25zdGFudHNcIlxuXG5pbXBvcnQge1xuICBjbG9uZSxcbiAgY2xvc2VzdFBoeEJpbmRpbmcsXG4gIGlzRW1wdHksXG4gIGlzRXF1YWxPYmosXG4gIGxvZ0Vycm9yLFxuICBtYXliZSxcbiAgaXNDaWQsXG59IGZyb20gXCIuL3V0aWxzXCJcblxuaW1wb3J0IEJyb3dzZXIgZnJvbSBcIi4vYnJvd3NlclwiXG5pbXBvcnQgRE9NIGZyb20gXCIuL2RvbVwiXG5pbXBvcnQgRE9NUGF0Y2ggZnJvbSBcIi4vZG9tX3BhdGNoXCJcbmltcG9ydCBMaXZlVXBsb2FkZXIgZnJvbSBcIi4vbGl2ZV91cGxvYWRlclwiXG5pbXBvcnQgUmVuZGVyZWQgZnJvbSBcIi4vcmVuZGVyZWRcIlxuaW1wb3J0IFZpZXdIb29rIGZyb20gXCIuL3ZpZXdfaG9va1wiXG5pbXBvcnQgSlMgZnJvbSBcIi4vanNcIlxuXG5sZXQgc2VyaWFsaXplRm9ybSA9IChmb3JtLCBtZXRhLCBvbmx5TmFtZXMgPSBbXSkgPT4ge1xuICBsZXQgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoZm9ybSlcbiAgbGV0IHRvUmVtb3ZlID0gW11cblxuICBmb3JtRGF0YS5mb3JFYWNoKCh2YWwsIGtleSwgX2luZGV4KSA9PiB7XG4gICAgaWYodmFsIGluc3RhbmNlb2YgRmlsZSl7IHRvUmVtb3ZlLnB1c2goa2V5KSB9XG4gIH0pXG5cbiAgLy8gQ2xlYW51cCBhZnRlciBidWlsZGluZyBmaWxlRGF0YVxuICB0b1JlbW92ZS5mb3JFYWNoKGtleSA9PiBmb3JtRGF0YS5kZWxldGUoa2V5KSlcblxuICBsZXQgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpXG4gIGZvcihsZXQgW2tleSwgdmFsXSBvZiBmb3JtRGF0YS5lbnRyaWVzKCkpe1xuICAgIGlmKG9ubHlOYW1lcy5sZW5ndGggPT09IDAgfHwgb25seU5hbWVzLmluZGV4T2Yoa2V5KSA+PSAwKXtcbiAgICAgIHBhcmFtcy5hcHBlbmQoa2V5LCB2YWwpXG4gICAgfVxuICB9XG4gIGZvcihsZXQgbWV0YUtleSBpbiBtZXRhKXsgcGFyYW1zLmFwcGVuZChtZXRhS2V5LCBtZXRhW21ldGFLZXldKSB9XG5cbiAgcmV0dXJuIHBhcmFtcy50b1N0cmluZygpXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZpZXcge1xuICBjb25zdHJ1Y3RvcihlbCwgbGl2ZVNvY2tldCwgcGFyZW50VmlldywgZmxhc2gsIGxpdmVSZWZlcmVyKXtcbiAgICB0aGlzLmlzRGVhZCA9IGZhbHNlXG4gICAgdGhpcy5saXZlU29ja2V0ID0gbGl2ZVNvY2tldFxuICAgIHRoaXMuZmxhc2ggPSBmbGFzaFxuICAgIHRoaXMucGFyZW50ID0gcGFyZW50Vmlld1xuICAgIHRoaXMucm9vdCA9IHBhcmVudFZpZXcgPyBwYXJlbnRWaWV3LnJvb3QgOiB0aGlzXG4gICAgdGhpcy5lbCA9IGVsXG4gICAgdGhpcy5pZCA9IHRoaXMuZWwuaWRcbiAgICB0aGlzLnJlZiA9IDBcbiAgICB0aGlzLmNoaWxkSm9pbnMgPSAwXG4gICAgdGhpcy5sb2FkZXJUaW1lciA9IG51bGxcbiAgICB0aGlzLnBlbmRpbmdEaWZmcyA9IFtdXG4gICAgdGhpcy5wcnVuaW5nQ0lEcyA9IFtdXG4gICAgdGhpcy5yZWRpcmVjdCA9IGZhbHNlXG4gICAgdGhpcy5ocmVmID0gbnVsbFxuICAgIHRoaXMuam9pbkNvdW50ID0gdGhpcy5wYXJlbnQgPyB0aGlzLnBhcmVudC5qb2luQ291bnQgLSAxIDogMFxuICAgIHRoaXMuam9pblBlbmRpbmcgPSB0cnVlXG4gICAgdGhpcy5kZXN0cm95ZWQgPSBmYWxzZVxuICAgIHRoaXMuam9pbkNhbGxiYWNrID0gZnVuY3Rpb24ob25Eb25lKXsgb25Eb25lICYmIG9uRG9uZSgpIH1cbiAgICB0aGlzLnN0b3BDYWxsYmFjayA9IGZ1bmN0aW9uKCl7IH1cbiAgICB0aGlzLnBlbmRpbmdKb2luT3BzID0gdGhpcy5wYXJlbnQgPyBudWxsIDogW11cbiAgICB0aGlzLnZpZXdIb29rcyA9IHt9XG4gICAgdGhpcy51cGxvYWRlcnMgPSB7fVxuICAgIHRoaXMuZm9ybVN1Ym1pdHMgPSBbXVxuICAgIHRoaXMuY2hpbGRyZW4gPSB0aGlzLnBhcmVudCA/IG51bGwgOiB7fVxuICAgIHRoaXMucm9vdC5jaGlsZHJlblt0aGlzLmlkXSA9IHt9XG4gICAgdGhpcy5jaGFubmVsID0gdGhpcy5saXZlU29ja2V0LmNoYW5uZWwoYGx2OiR7dGhpcy5pZH1gLCAoKSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZWRpcmVjdDogdGhpcy5yZWRpcmVjdCA/IHRoaXMuaHJlZiA6IHVuZGVmaW5lZCxcbiAgICAgICAgdXJsOiB0aGlzLnJlZGlyZWN0ID8gdW5kZWZpbmVkIDogdGhpcy5ocmVmIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgcGFyYW1zOiB0aGlzLmNvbm5lY3RQYXJhbXMobGl2ZVJlZmVyZXIpLFxuICAgICAgICBzZXNzaW9uOiB0aGlzLmdldFNlc3Npb24oKSxcbiAgICAgICAgc3RhdGljOiB0aGlzLmdldFN0YXRpYygpLFxuICAgICAgICBmbGFzaDogdGhpcy5mbGFzaCxcbiAgICAgIH1cbiAgICB9KVxuICAgIHRoaXMuc2hvd0xvYWRlcih0aGlzLmxpdmVTb2NrZXQubG9hZGVyVGltZW91dClcbiAgICB0aGlzLmJpbmRDaGFubmVsKClcbiAgfVxuXG4gIHNldEhyZWYoaHJlZil7IHRoaXMuaHJlZiA9IGhyZWYgfVxuXG4gIHNldFJlZGlyZWN0KGhyZWYpe1xuICAgIHRoaXMucmVkaXJlY3QgPSB0cnVlXG4gICAgdGhpcy5ocmVmID0gaHJlZlxuICB9XG5cbiAgaXNNYWluKCl7IHJldHVybiB0aGlzLmVsLmdldEF0dHJpYnV0ZShQSFhfTUFJTikgIT09IG51bGwgfVxuXG4gIGNvbm5lY3RQYXJhbXMobGl2ZVJlZmVyZXIpe1xuICAgIGxldCBwYXJhbXMgPSB0aGlzLmxpdmVTb2NrZXQucGFyYW1zKHRoaXMuZWwpXG4gICAgbGV0IG1hbmlmZXN0ID1cbiAgICAgIERPTS5hbGwoZG9jdW1lbnQsIGBbJHt0aGlzLmJpbmRpbmcoUEhYX1RSQUNLX1NUQVRJQyl9XWApXG4gICAgICAgIC5tYXAobm9kZSA9PiBub2RlLnNyYyB8fCBub2RlLmhyZWYpLmZpbHRlcih1cmwgPT4gdHlwZW9mICh1cmwpID09PSBcInN0cmluZ1wiKVxuXG4gICAgaWYobWFuaWZlc3QubGVuZ3RoID4gMCl7IHBhcmFtc1tcIl90cmFja19zdGF0aWNcIl0gPSBtYW5pZmVzdCB9XG4gICAgcGFyYW1zW1wiX21vdW50c1wiXSA9IHRoaXMuam9pbkNvdW50XG4gICAgcGFyYW1zW1wiX2xpdmVfcmVmZXJlclwiXSA9IGxpdmVSZWZlcmVyXG5cbiAgICByZXR1cm4gcGFyYW1zXG4gIH1cblxuICBpc0Nvbm5lY3RlZCgpeyByZXR1cm4gdGhpcy5jaGFubmVsLmNhblB1c2goKSB9XG5cbiAgZ2V0U2Vzc2lvbigpeyByZXR1cm4gdGhpcy5lbC5nZXRBdHRyaWJ1dGUoUEhYX1NFU1NJT04pIH1cblxuICBnZXRTdGF0aWMoKXtcbiAgICBsZXQgdmFsID0gdGhpcy5lbC5nZXRBdHRyaWJ1dGUoUEhYX1NUQVRJQylcbiAgICByZXR1cm4gdmFsID09PSBcIlwiID8gbnVsbCA6IHZhbFxuICB9XG5cbiAgZGVzdHJveShjYWxsYmFjayA9IGZ1bmN0aW9uICgpeyB9KXtcbiAgICB0aGlzLmRlc3Ryb3lBbGxDaGlsZHJlbigpXG4gICAgdGhpcy5kZXN0cm95ZWQgPSB0cnVlXG4gICAgZGVsZXRlIHRoaXMucm9vdC5jaGlsZHJlblt0aGlzLmlkXVxuICAgIGlmKHRoaXMucGFyZW50KXsgZGVsZXRlIHRoaXMucm9vdC5jaGlsZHJlblt0aGlzLnBhcmVudC5pZF1bdGhpcy5pZF0gfVxuICAgIGNsZWFyVGltZW91dCh0aGlzLmxvYWRlclRpbWVyKVxuICAgIGxldCBvbkZpbmlzaGVkID0gKCkgPT4ge1xuICAgICAgY2FsbGJhY2soKVxuICAgICAgZm9yKGxldCBpZCBpbiB0aGlzLnZpZXdIb29rcyl7XG4gICAgICAgIHRoaXMuZGVzdHJveUhvb2sodGhpcy52aWV3SG9va3NbaWRdKVxuICAgICAgfVxuICAgIH1cblxuICAgIERPTS5tYXJrUGh4Q2hpbGREZXN0cm95ZWQodGhpcy5lbClcblxuICAgIHRoaXMubG9nKFwiZGVzdHJveWVkXCIsICgpID0+IFtcInRoZSBjaGlsZCBoYXMgYmVlbiByZW1vdmVkIGZyb20gdGhlIHBhcmVudFwiXSlcbiAgICB0aGlzLmNoYW5uZWwubGVhdmUoKVxuICAgICAgLnJlY2VpdmUoXCJva1wiLCBvbkZpbmlzaGVkKVxuICAgICAgLnJlY2VpdmUoXCJlcnJvclwiLCBvbkZpbmlzaGVkKVxuICAgICAgLnJlY2VpdmUoXCJ0aW1lb3V0XCIsIG9uRmluaXNoZWQpXG4gIH1cblxuICBzZXRDb250YWluZXJDbGFzc2VzKC4uLmNsYXNzZXMpe1xuICAgIHRoaXMuZWwuY2xhc3NMaXN0LnJlbW92ZShcbiAgICAgIFBIWF9DT05ORUNURURfQ0xBU1MsXG4gICAgICBQSFhfRElTQ09OTkVDVEVEX0NMQVNTLFxuICAgICAgUEhYX0VSUk9SX0NMQVNTXG4gICAgKVxuICAgIHRoaXMuZWwuY2xhc3NMaXN0LmFkZCguLi5jbGFzc2VzKVxuICB9XG5cbiAgc2hvd0xvYWRlcih0aW1lb3V0KXtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5sb2FkZXJUaW1lcilcbiAgICBpZih0aW1lb3V0KXtcbiAgICAgIHRoaXMubG9hZGVyVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHRoaXMuc2hvd0xvYWRlcigpLCB0aW1lb3V0KVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IobGV0IGlkIGluIHRoaXMudmlld0hvb2tzKXsgdGhpcy52aWV3SG9va3NbaWRdLl9fZGlzY29ubmVjdGVkKCkgfVxuICAgICAgdGhpcy5zZXRDb250YWluZXJDbGFzc2VzKFBIWF9ESVNDT05ORUNURURfQ0xBU1MpXG4gICAgfVxuICB9XG5cbiAgZXhlY0FsbChiaW5kaW5nKXtcbiAgICBET00uYWxsKHRoaXMuZWwsIGBbJHtiaW5kaW5nfV1gLCBlbCA9PiB0aGlzLmxpdmVTb2NrZXQuZXhlY0pTKGVsLCBlbC5nZXRBdHRyaWJ1dGUoYmluZGluZykpKVxuICB9XG5cbiAgaGlkZUxvYWRlcigpe1xuICAgIGNsZWFyVGltZW91dCh0aGlzLmxvYWRlclRpbWVyKVxuICAgIHRoaXMuc2V0Q29udGFpbmVyQ2xhc3NlcyhQSFhfQ09OTkVDVEVEX0NMQVNTKVxuICAgIHRoaXMuZXhlY0FsbCh0aGlzLmJpbmRpbmcoXCJjb25uZWN0ZWRcIikpXG4gIH1cblxuICB0cmlnZ2VyUmVjb25uZWN0ZWQoKXtcbiAgICBmb3IobGV0IGlkIGluIHRoaXMudmlld0hvb2tzKXsgdGhpcy52aWV3SG9va3NbaWRdLl9fcmVjb25uZWN0ZWQoKSB9XG4gIH1cblxuICBsb2coa2luZCwgbXNnQ2FsbGJhY2spe1xuICAgIHRoaXMubGl2ZVNvY2tldC5sb2codGhpcywga2luZCwgbXNnQ2FsbGJhY2spXG4gIH1cblxuICB0cmFuc2l0aW9uKHRpbWUsIG9uU3RhcnQsIG9uRG9uZSA9IGZ1bmN0aW9uKCl7fSl7XG4gICAgdGhpcy5saXZlU29ja2V0LnRyYW5zaXRpb24odGltZSwgb25TdGFydCwgb25Eb25lKVxuICB9XG5cbiAgd2l0aGluVGFyZ2V0cyhwaHhUYXJnZXQsIGNhbGxiYWNrKXtcbiAgICBpZihwaHhUYXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCB8fCBwaHhUYXJnZXQgaW5zdGFuY2VvZiBTVkdFbGVtZW50KXtcbiAgICAgIHJldHVybiB0aGlzLmxpdmVTb2NrZXQub3duZXIocGh4VGFyZ2V0LCB2aWV3ID0+IGNhbGxiYWNrKHZpZXcsIHBoeFRhcmdldCkpXG4gICAgfVxuXG4gICAgaWYoaXNDaWQocGh4VGFyZ2V0KSl7XG4gICAgICBsZXQgdGFyZ2V0cyA9IERPTS5maW5kQ29tcG9uZW50Tm9kZUxpc3QodGhpcy5lbCwgcGh4VGFyZ2V0KVxuICAgICAgaWYodGFyZ2V0cy5sZW5ndGggPT09IDApe1xuICAgICAgICBsb2dFcnJvcihgbm8gY29tcG9uZW50IGZvdW5kIG1hdGNoaW5nIHBoeC10YXJnZXQgb2YgJHtwaHhUYXJnZXR9YClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKHRoaXMsIHBhcnNlSW50KHBoeFRhcmdldCkpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCB0YXJnZXRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHBoeFRhcmdldCkpXG4gICAgICBpZih0YXJnZXRzLmxlbmd0aCA9PT0gMCl7IGxvZ0Vycm9yKGBub3RoaW5nIGZvdW5kIG1hdGNoaW5nIHRoZSBwaHgtdGFyZ2V0IHNlbGVjdG9yIFwiJHtwaHhUYXJnZXR9XCJgKSB9XG4gICAgICB0YXJnZXRzLmZvckVhY2godGFyZ2V0ID0+IHRoaXMubGl2ZVNvY2tldC5vd25lcih0YXJnZXQsIHZpZXcgPT4gY2FsbGJhY2sodmlldywgdGFyZ2V0KSkpXG4gICAgfVxuICB9XG5cbiAgYXBwbHlEaWZmKHR5cGUsIHJhd0RpZmYsIGNhbGxiYWNrKXtcbiAgICB0aGlzLmxvZyh0eXBlLCAoKSA9PiBbXCJcIiwgY2xvbmUocmF3RGlmZildKVxuICAgIGxldCB7ZGlmZiwgcmVwbHksIGV2ZW50cywgdGl0bGV9ID0gUmVuZGVyZWQuZXh0cmFjdChyYXdEaWZmKVxuICAgIGlmKHRpdGxlKXsgRE9NLnB1dFRpdGxlKHRpdGxlKSB9XG5cbiAgICBjYWxsYmFjayh7ZGlmZiwgcmVwbHksIGV2ZW50c30pXG4gIH1cblxuICBvbkpvaW4ocmVzcCl7XG4gICAgbGV0IHtyZW5kZXJlZCwgY29udGFpbmVyfSA9IHJlc3BcbiAgICBpZihjb250YWluZXIpe1xuICAgICAgbGV0IFt0YWcsIGF0dHJzXSA9IGNvbnRhaW5lclxuICAgICAgdGhpcy5lbCA9IERPTS5yZXBsYWNlUm9vdENvbnRhaW5lcih0aGlzLmVsLCB0YWcsIGF0dHJzKVxuICAgIH1cbiAgICB0aGlzLmNoaWxkSm9pbnMgPSAwXG4gICAgdGhpcy5qb2luUGVuZGluZyA9IHRydWVcbiAgICB0aGlzLmZsYXNoID0gbnVsbFxuXG4gICAgQnJvd3Nlci5kcm9wTG9jYWwodGhpcy5saXZlU29ja2V0LmxvY2FsU3RvcmFnZSwgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLCBDT05TRUNVVElWRV9SRUxPQURTKVxuICAgIHRoaXMuYXBwbHlEaWZmKFwibW91bnRcIiwgcmVuZGVyZWQsICh7ZGlmZiwgZXZlbnRzfSkgPT4ge1xuICAgICAgdGhpcy5yZW5kZXJlZCA9IG5ldyBSZW5kZXJlZCh0aGlzLmlkLCBkaWZmKVxuICAgICAgbGV0IGh0bWwgPSB0aGlzLnJlbmRlckNvbnRhaW5lcihudWxsLCBcImpvaW5cIilcbiAgICAgIHRoaXMuZHJvcFBlbmRpbmdSZWZzKClcbiAgICAgIGxldCBmb3JtcyA9IHRoaXMuZm9ybXNGb3JSZWNvdmVyeShodG1sKVxuICAgICAgdGhpcy5qb2luQ291bnQrK1xuXG4gICAgICBpZihmb3Jtcy5sZW5ndGggPiAwKXtcbiAgICAgICAgZm9ybXMuZm9yRWFjaCgoW2Zvcm0sIG5ld0Zvcm0sIG5ld0NpZF0sIGkpID0+IHtcbiAgICAgICAgICB0aGlzLnB1c2hGb3JtUmVjb3ZlcnkoZm9ybSwgbmV3Q2lkLCByZXNwID0+IHtcbiAgICAgICAgICAgIGlmKGkgPT09IGZvcm1zLmxlbmd0aCAtIDEpe1xuICAgICAgICAgICAgICB0aGlzLm9uSm9pbkNvbXBsZXRlKHJlc3AsIGh0bWwsIGV2ZW50cylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5vbkpvaW5Db21wbGV0ZShyZXNwLCBodG1sLCBldmVudHMpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGRyb3BQZW5kaW5nUmVmcygpe1xuICAgIERPTS5hbGwoZG9jdW1lbnQsIGBbJHtQSFhfUkVGX1NSQ309XCIke3RoaXMuaWR9XCJdWyR7UEhYX1JFRn1dYCwgZWwgPT4ge1xuICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKFBIWF9SRUYpXG4gICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoUEhYX1JFRl9TUkMpXG4gICAgfSlcbiAgfVxuXG4gIG9uSm9pbkNvbXBsZXRlKHtsaXZlX3BhdGNofSwgaHRtbCwgZXZlbnRzKXtcbiAgICAvLyBJbiBvcmRlciB0byBwcm92aWRlIGEgYmV0dGVyIGV4cGVyaWVuY2UsIHdlIHdhbnQgdG8gam9pblxuICAgIC8vIGFsbCBMaXZlVmlld3MgZmlyc3QgYW5kIG9ubHkgdGhlbiBhcHBseSB0aGVpciBwYXRjaGVzLlxuICAgIGlmKHRoaXMuam9pbkNvdW50ID4gMSB8fCAodGhpcy5wYXJlbnQgJiYgIXRoaXMucGFyZW50LmlzSm9pblBlbmRpbmcoKSkpe1xuICAgICAgcmV0dXJuIHRoaXMuYXBwbHlKb2luUGF0Y2gobGl2ZV9wYXRjaCwgaHRtbCwgZXZlbnRzKVxuICAgIH1cblxuICAgIC8vIE9uZSBkb3duc2lkZSBvZiB0aGlzIGFwcHJvYWNoIGlzIHRoYXQgd2UgbmVlZCB0byBmaW5kIHBoeENoaWxkcmVuXG4gICAgLy8gaW4gdGhlIGh0bWwgZnJhZ21lbnQsIGluc3RlYWQgb2YgZGlyZWN0bHkgb24gdGhlIERPTS4gVGhlIGZyYWdtZW50XG4gICAgLy8gYWxzbyBkb2VzIG5vdCBpbmNsdWRlIFBIWF9TVEFUSUMsIHNvIHdlIG5lZWQgdG8gY29weSBpdCBvdmVyIGZyb21cbiAgICAvLyB0aGUgRE9NLlxuICAgIGxldCBuZXdDaGlsZHJlbiA9IERPTS5maW5kUGh4Q2hpbGRyZW5JbkZyYWdtZW50KGh0bWwsIHRoaXMuaWQpLmZpbHRlcih0b0VsID0+IHtcbiAgICAgIGxldCBmcm9tRWwgPSB0b0VsLmlkICYmIHRoaXMuZWwucXVlcnlTZWxlY3RvcihgW2lkPVwiJHt0b0VsLmlkfVwiXWApXG4gICAgICBsZXQgcGh4U3RhdGljID0gZnJvbUVsICYmIGZyb21FbC5nZXRBdHRyaWJ1dGUoUEhYX1NUQVRJQylcbiAgICAgIGlmKHBoeFN0YXRpYyl7IHRvRWwuc2V0QXR0cmlidXRlKFBIWF9TVEFUSUMsIHBoeFN0YXRpYykgfVxuICAgICAgcmV0dXJuIHRoaXMuam9pbkNoaWxkKHRvRWwpXG4gICAgfSlcblxuICAgIGlmKG5ld0NoaWxkcmVuLmxlbmd0aCA9PT0gMCl7XG4gICAgICBpZih0aGlzLnBhcmVudCl7XG4gICAgICAgIHRoaXMucm9vdC5wZW5kaW5nSm9pbk9wcy5wdXNoKFt0aGlzLCAoKSA9PiB0aGlzLmFwcGx5Sm9pblBhdGNoKGxpdmVfcGF0Y2gsIGh0bWwsIGV2ZW50cyldKVxuICAgICAgICB0aGlzLnBhcmVudC5hY2tKb2luKHRoaXMpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm9uQWxsQ2hpbGRKb2luc0NvbXBsZXRlKClcbiAgICAgICAgdGhpcy5hcHBseUpvaW5QYXRjaChsaXZlX3BhdGNoLCBodG1sLCBldmVudHMpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucm9vdC5wZW5kaW5nSm9pbk9wcy5wdXNoKFt0aGlzLCAoKSA9PiB0aGlzLmFwcGx5Sm9pblBhdGNoKGxpdmVfcGF0Y2gsIGh0bWwsIGV2ZW50cyldKVxuICAgIH1cbiAgfVxuXG4gIGF0dGFjaFRydWVEb2NFbCgpe1xuICAgIHRoaXMuZWwgPSBET00uYnlJZCh0aGlzLmlkKVxuICAgIHRoaXMuZWwuc2V0QXR0cmlidXRlKFBIWF9ST09UX0lELCB0aGlzLnJvb3QuaWQpXG4gIH1cblxuICBleGVjTmV3TW91bnRlZCgpe1xuICAgIERPTS5hbGwodGhpcy5lbCwgYFske3RoaXMuYmluZGluZyhQSFhfSE9PSyl9XSwgW2RhdGEtcGh4LSR7UEhYX0hPT0t9XWAsIGhvb2tFbCA9PiB7XG4gICAgICB0aGlzLm1heWJlQWRkTmV3SG9vayhob29rRWwpXG4gICAgfSlcbiAgICBET00uYWxsKHRoaXMuZWwsIGBbJHt0aGlzLmJpbmRpbmcoUEhYX01PVU5URUQpfV1gLCBlbCA9PiB0aGlzLm1heWJlTW91bnRlZChlbCkpXG4gIH1cblxuICBhcHBseUpvaW5QYXRjaChsaXZlX3BhdGNoLCBodG1sLCBldmVudHMpe1xuICAgIHRoaXMuYXR0YWNoVHJ1ZURvY0VsKClcbiAgICBsZXQgcGF0Y2ggPSBuZXcgRE9NUGF0Y2godGhpcywgdGhpcy5lbCwgdGhpcy5pZCwgaHRtbCwgbnVsbClcbiAgICBwYXRjaC5tYXJrUHJ1bmFibGVDb250ZW50Rm9yUmVtb3ZhbCgpXG4gICAgdGhpcy5wZXJmb3JtUGF0Y2gocGF0Y2gsIGZhbHNlKVxuICAgIHRoaXMuam9pbk5ld0NoaWxkcmVuKClcbiAgICB0aGlzLmV4ZWNOZXdNb3VudGVkKClcblxuICAgIHRoaXMuam9pblBlbmRpbmcgPSBmYWxzZVxuICAgIHRoaXMubGl2ZVNvY2tldC5kaXNwYXRjaEV2ZW50cyhldmVudHMpXG4gICAgdGhpcy5hcHBseVBlbmRpbmdVcGRhdGVzKClcblxuICAgIGlmKGxpdmVfcGF0Y2gpe1xuICAgICAgbGV0IHtraW5kLCB0b30gPSBsaXZlX3BhdGNoXG4gICAgICB0aGlzLmxpdmVTb2NrZXQuaGlzdG9yeVBhdGNoKHRvLCBraW5kKVxuICAgIH1cbiAgICB0aGlzLmhpZGVMb2FkZXIoKVxuICAgIGlmKHRoaXMuam9pbkNvdW50ID4gMSl7IHRoaXMudHJpZ2dlclJlY29ubmVjdGVkKCkgfVxuICAgIHRoaXMuc3RvcENhbGxiYWNrKClcbiAgfVxuXG4gIHRyaWdnZXJCZWZvcmVVcGRhdGVIb29rKGZyb21FbCwgdG9FbCl7XG4gICAgdGhpcy5saXZlU29ja2V0LnRyaWdnZXJET00oXCJvbkJlZm9yZUVsVXBkYXRlZFwiLCBbZnJvbUVsLCB0b0VsXSlcbiAgICBsZXQgaG9vayA9IHRoaXMuZ2V0SG9vayhmcm9tRWwpXG4gICAgbGV0IGlzSWdub3JlZCA9IGhvb2sgJiYgRE9NLmlzSWdub3JlZChmcm9tRWwsIHRoaXMuYmluZGluZyhQSFhfVVBEQVRFKSlcbiAgICBpZihob29rICYmICFmcm9tRWwuaXNFcXVhbE5vZGUodG9FbCkgJiYgIShpc0lnbm9yZWQgJiYgaXNFcXVhbE9iaihmcm9tRWwuZGF0YXNldCwgdG9FbC5kYXRhc2V0KSkpe1xuICAgICAgaG9vay5fX2JlZm9yZVVwZGF0ZSgpXG4gICAgICByZXR1cm4gaG9va1xuICAgIH1cbiAgfVxuXG4gIG1heWJlTW91bnRlZChlbCl7XG4gICAgbGV0IHBoeE1vdW50ZWQgPSBlbC5nZXRBdHRyaWJ1dGUodGhpcy5iaW5kaW5nKFBIWF9NT1VOVEVEKSlcbiAgICBsZXQgaGFzQmVlbkludm9rZWQgPSBwaHhNb3VudGVkICYmIERPTS5wcml2YXRlKGVsLCBcIm1vdW50ZWRcIilcbiAgICBpZihwaHhNb3VudGVkICYmICFoYXNCZWVuSW52b2tlZCl7XG4gICAgICB0aGlzLmxpdmVTb2NrZXQuZXhlY0pTKGVsLCBwaHhNb3VudGVkKVxuICAgICAgRE9NLnB1dFByaXZhdGUoZWwsIFwibW91bnRlZFwiLCB0cnVlKVxuICAgIH1cbiAgfVxuXG4gIG1heWJlQWRkTmV3SG9vayhlbCwgZm9yY2Upe1xuICAgIGxldCBuZXdIb29rID0gdGhpcy5hZGRIb29rKGVsKVxuICAgIGlmKG5ld0hvb2speyBuZXdIb29rLl9fbW91bnRlZCgpIH1cbiAgfVxuXG4gIHBlcmZvcm1QYXRjaChwYXRjaCwgcHJ1bmVDaWRzKXtcbiAgICBsZXQgcmVtb3ZlZEVscyA9IFtdXG4gICAgbGV0IHBoeENoaWxkcmVuQWRkZWQgPSBmYWxzZVxuICAgIGxldCB1cGRhdGVkSG9va0lkcyA9IG5ldyBTZXQoKVxuXG4gICAgcGF0Y2guYWZ0ZXIoXCJhZGRlZFwiLCBlbCA9PiB7XG4gICAgICB0aGlzLmxpdmVTb2NrZXQudHJpZ2dlckRPTShcIm9uTm9kZUFkZGVkXCIsIFtlbF0pXG4gICAgICB0aGlzLm1heWJlQWRkTmV3SG9vayhlbClcbiAgICAgIGlmKGVsLmdldEF0dHJpYnV0ZSl7IHRoaXMubWF5YmVNb3VudGVkKGVsKSB9XG4gICAgfSlcblxuICAgIHBhdGNoLmFmdGVyKFwicGh4Q2hpbGRBZGRlZFwiLCBlbCA9PiB7XG4gICAgICBpZihET00uaXNQaHhTdGlja3koZWwpKXtcbiAgICAgICAgdGhpcy5saXZlU29ja2V0LmpvaW5Sb290Vmlld3MoKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGh4Q2hpbGRyZW5BZGRlZCA9IHRydWVcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgcGF0Y2guYmVmb3JlKFwidXBkYXRlZFwiLCAoZnJvbUVsLCB0b0VsKSA9PiB7XG4gICAgICBsZXQgaG9vayA9IHRoaXMudHJpZ2dlckJlZm9yZVVwZGF0ZUhvb2soZnJvbUVsLCB0b0VsKVxuICAgICAgaWYoaG9vayl7IHVwZGF0ZWRIb29rSWRzLmFkZChmcm9tRWwuaWQpIH1cbiAgICB9KVxuXG4gICAgcGF0Y2guYWZ0ZXIoXCJ1cGRhdGVkXCIsIGVsID0+IHtcbiAgICAgIGlmKHVwZGF0ZWRIb29rSWRzLmhhcyhlbC5pZCkpeyB0aGlzLmdldEhvb2soZWwpLl9fdXBkYXRlZCgpIH1cbiAgICB9KVxuXG4gICAgcGF0Y2guYWZ0ZXIoXCJkaXNjYXJkZWRcIiwgKGVsKSA9PiB7XG4gICAgICBpZihlbC5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUpeyByZW1vdmVkRWxzLnB1c2goZWwpIH1cbiAgICB9KVxuXG4gICAgcGF0Y2guYWZ0ZXIoXCJ0cmFuc2l0aW9uc0Rpc2NhcmRlZFwiLCBlbHMgPT4gdGhpcy5hZnRlckVsZW1lbnRzUmVtb3ZlZChlbHMsIHBydW5lQ2lkcykpXG4gICAgcGF0Y2gucGVyZm9ybSgpXG4gICAgdGhpcy5hZnRlckVsZW1lbnRzUmVtb3ZlZChyZW1vdmVkRWxzLCBwcnVuZUNpZHMpXG5cbiAgICByZXR1cm4gcGh4Q2hpbGRyZW5BZGRlZFxuICB9XG5cbiAgYWZ0ZXJFbGVtZW50c1JlbW92ZWQoZWxlbWVudHMsIHBydW5lQ2lkcyl7XG4gICAgbGV0IGRlc3Ryb3llZENJRHMgPSBbXVxuICAgIGVsZW1lbnRzLmZvckVhY2gocGFyZW50ID0+IHtcbiAgICAgIGxldCBjb21wb25lbnRzID0gRE9NLmFsbChwYXJlbnQsIGBbJHtQSFhfQ09NUE9ORU5UfV1gKVxuICAgICAgbGV0IGhvb2tzID0gRE9NLmFsbChwYXJlbnQsIGBbJHt0aGlzLmJpbmRpbmcoUEhYX0hPT0spfV1gKVxuICAgICAgY29tcG9uZW50cy5jb25jYXQocGFyZW50KS5mb3JFYWNoKGVsID0+IHtcbiAgICAgICAgbGV0IGNpZCA9IHRoaXMuY29tcG9uZW50SUQoZWwpXG4gICAgICAgIGlmKGlzQ2lkKGNpZCkgJiYgZGVzdHJveWVkQ0lEcy5pbmRleE9mKGNpZCkgPT09IC0xKXsgZGVzdHJveWVkQ0lEcy5wdXNoKGNpZCkgfVxuICAgICAgfSlcbiAgICAgIGhvb2tzLmNvbmNhdChwYXJlbnQpLmZvckVhY2goaG9va0VsID0+IHtcbiAgICAgICAgbGV0IGhvb2sgPSB0aGlzLmdldEhvb2soaG9va0VsKVxuICAgICAgICBob29rICYmIHRoaXMuZGVzdHJveUhvb2soaG9vaylcbiAgICAgIH0pXG4gICAgfSlcbiAgICAvLyBXZSBzaG91bGQgbm90IHBydW5lQ2lkcyBvbiBqb2lucy4gT3RoZXJ3aXNlLCBpbiBjYXNlIG9mXG4gICAgLy8gcmVqb2lucywgd2UgbWF5IG5vdGlmeSBjaWRzIHRoYXQgbm8gbG9uZ2VyIGJlbG9uZyB0byB0aGVcbiAgICAvLyBjdXJyZW50IExpdmVWaWV3IHRvIGJlIHJlbW92ZWQuXG4gICAgaWYocHJ1bmVDaWRzKXtcbiAgICAgIHRoaXMubWF5YmVQdXNoQ29tcG9uZW50c0Rlc3Ryb3llZChkZXN0cm95ZWRDSURzKVxuICAgIH1cbiAgfVxuXG4gIGpvaW5OZXdDaGlsZHJlbigpe1xuICAgIERPTS5maW5kUGh4Q2hpbGRyZW4odGhpcy5lbCwgdGhpcy5pZCkuZm9yRWFjaChlbCA9PiB0aGlzLmpvaW5DaGlsZChlbCkpXG4gIH1cblxuICBnZXRDaGlsZEJ5SWQoaWQpeyByZXR1cm4gdGhpcy5yb290LmNoaWxkcmVuW3RoaXMuaWRdW2lkXSB9XG5cbiAgZ2V0RGVzY2VuZGVudEJ5RWwoZWwpe1xuICAgIGlmKGVsLmlkID09PSB0aGlzLmlkKXtcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuW2VsLmdldEF0dHJpYnV0ZShQSFhfUEFSRU5UX0lEKV1bZWwuaWRdXG4gICAgfVxuICB9XG5cbiAgZGVzdHJveURlc2NlbmRlbnQoaWQpe1xuICAgIGZvcihsZXQgcGFyZW50SWQgaW4gdGhpcy5yb290LmNoaWxkcmVuKXtcbiAgICAgIGZvcihsZXQgY2hpbGRJZCBpbiB0aGlzLnJvb3QuY2hpbGRyZW5bcGFyZW50SWRdKXtcbiAgICAgICAgaWYoY2hpbGRJZCA9PT0gaWQpeyByZXR1cm4gdGhpcy5yb290LmNoaWxkcmVuW3BhcmVudElkXVtjaGlsZElkXS5kZXN0cm95KCkgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGpvaW5DaGlsZChlbCl7XG4gICAgbGV0IGNoaWxkID0gdGhpcy5nZXRDaGlsZEJ5SWQoZWwuaWQpXG4gICAgaWYoIWNoaWxkKXtcbiAgICAgIGxldCB2aWV3ID0gbmV3IFZpZXcoZWwsIHRoaXMubGl2ZVNvY2tldCwgdGhpcylcbiAgICAgIHRoaXMucm9vdC5jaGlsZHJlblt0aGlzLmlkXVt2aWV3LmlkXSA9IHZpZXdcbiAgICAgIHZpZXcuam9pbigpXG4gICAgICB0aGlzLmNoaWxkSm9pbnMrK1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gIH1cblxuICBpc0pvaW5QZW5kaW5nKCl7IHJldHVybiB0aGlzLmpvaW5QZW5kaW5nIH1cblxuICBhY2tKb2luKF9jaGlsZCl7XG4gICAgdGhpcy5jaGlsZEpvaW5zLS1cblxuICAgIGlmKHRoaXMuY2hpbGRKb2lucyA9PT0gMCl7XG4gICAgICBpZih0aGlzLnBhcmVudCl7XG4gICAgICAgIHRoaXMucGFyZW50LmFja0pvaW4odGhpcylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMub25BbGxDaGlsZEpvaW5zQ29tcGxldGUoKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG9uQWxsQ2hpbGRKb2luc0NvbXBsZXRlKCl7XG4gICAgdGhpcy5qb2luQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgdGhpcy5wZW5kaW5nSm9pbk9wcy5mb3JFYWNoKChbdmlldywgb3BdKSA9PiB7XG4gICAgICAgIGlmKCF2aWV3LmlzRGVzdHJveWVkKCkpeyBvcCgpIH1cbiAgICAgIH0pXG4gICAgICB0aGlzLnBlbmRpbmdKb2luT3BzID0gW11cbiAgICB9KVxuICB9XG5cbiAgdXBkYXRlKGRpZmYsIGV2ZW50cyl7XG4gICAgaWYodGhpcy5pc0pvaW5QZW5kaW5nKCkgfHwgKHRoaXMubGl2ZVNvY2tldC5oYXNQZW5kaW5nTGluaygpICYmIHRoaXMucm9vdC5pc01haW4oKSkpe1xuICAgICAgcmV0dXJuIHRoaXMucGVuZGluZ0RpZmZzLnB1c2goe2RpZmYsIGV2ZW50c30pXG4gICAgfVxuXG4gICAgdGhpcy5yZW5kZXJlZC5tZXJnZURpZmYoZGlmZilcbiAgICBsZXQgcGh4Q2hpbGRyZW5BZGRlZCA9IGZhbHNlXG5cbiAgICAvLyBXaGVuIHRoZSBkaWZmIG9ubHkgY29udGFpbnMgY29tcG9uZW50IGRpZmZzLCB0aGVuIHdhbGsgY29tcG9uZW50c1xuICAgIC8vIGFuZCBwYXRjaCBvbmx5IHRoZSBwYXJlbnQgY29tcG9uZW50IGNvbnRhaW5lcnMgZm91bmQgaW4gdGhlIGRpZmYuXG4gICAgLy8gT3RoZXJ3aXNlLCBwYXRjaCBlbnRpcmUgTFYgY29udGFpbmVyLlxuICAgIGlmKHRoaXMucmVuZGVyZWQuaXNDb21wb25lbnRPbmx5RGlmZihkaWZmKSl7XG4gICAgICB0aGlzLmxpdmVTb2NrZXQudGltZShcImNvbXBvbmVudCBwYXRjaCBjb21wbGV0ZVwiLCAoKSA9PiB7XG4gICAgICAgIGxldCBwYXJlbnRDaWRzID0gRE9NLmZpbmRQYXJlbnRDSURzKHRoaXMuZWwsIHRoaXMucmVuZGVyZWQuY29tcG9uZW50Q0lEcyhkaWZmKSlcbiAgICAgICAgcGFyZW50Q2lkcy5mb3JFYWNoKHBhcmVudENJRCA9PiB7XG4gICAgICAgICAgaWYodGhpcy5jb21wb25lbnRQYXRjaCh0aGlzLnJlbmRlcmVkLmdldENvbXBvbmVudChkaWZmLCBwYXJlbnRDSUQpLCBwYXJlbnRDSUQpKXsgcGh4Q2hpbGRyZW5BZGRlZCA9IHRydWUgfVxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9IGVsc2UgaWYoIWlzRW1wdHkoZGlmZikpe1xuICAgICAgdGhpcy5saXZlU29ja2V0LnRpbWUoXCJmdWxsIHBhdGNoIGNvbXBsZXRlXCIsICgpID0+IHtcbiAgICAgICAgbGV0IGh0bWwgPSB0aGlzLnJlbmRlckNvbnRhaW5lcihkaWZmLCBcInVwZGF0ZVwiKVxuICAgICAgICBsZXQgcGF0Y2ggPSBuZXcgRE9NUGF0Y2godGhpcywgdGhpcy5lbCwgdGhpcy5pZCwgaHRtbCwgbnVsbClcbiAgICAgICAgcGh4Q2hpbGRyZW5BZGRlZCA9IHRoaXMucGVyZm9ybVBhdGNoKHBhdGNoLCB0cnVlKVxuICAgICAgfSlcbiAgICB9XG5cbiAgICB0aGlzLmxpdmVTb2NrZXQuZGlzcGF0Y2hFdmVudHMoZXZlbnRzKVxuICAgIGlmKHBoeENoaWxkcmVuQWRkZWQpeyB0aGlzLmpvaW5OZXdDaGlsZHJlbigpIH1cbiAgfVxuXG4gIHJlbmRlckNvbnRhaW5lcihkaWZmLCBraW5kKXtcbiAgICByZXR1cm4gdGhpcy5saXZlU29ja2V0LnRpbWUoYHRvU3RyaW5nIGRpZmYgKCR7a2luZH0pYCwgKCkgPT4ge1xuICAgICAgbGV0IHRhZyA9IHRoaXMuZWwudGFnTmFtZVxuICAgICAgLy8gRG9uJ3Qgc2tpcCBhbnkgY29tcG9uZW50IGluIHRoZSBkaWZmIG5vciBhbnkgbWFya2VkIGFzIHBydW5lZFxuICAgICAgLy8gKGFzIHRoZXkgbWF5IGhhdmUgYmVlbiBhZGRlZCBiYWNrKVxuICAgICAgbGV0IGNpZHMgPSBkaWZmID8gdGhpcy5yZW5kZXJlZC5jb21wb25lbnRDSURzKGRpZmYpLmNvbmNhdCh0aGlzLnBydW5pbmdDSURzKSA6IG51bGxcbiAgICAgIGxldCBodG1sID0gdGhpcy5yZW5kZXJlZC50b1N0cmluZyhjaWRzKVxuICAgICAgcmV0dXJuIGA8JHt0YWd9PiR7aHRtbH08LyR7dGFnfT5gXG4gICAgfSlcbiAgfVxuXG4gIGNvbXBvbmVudFBhdGNoKGRpZmYsIGNpZCl7XG4gICAgaWYoaXNFbXB0eShkaWZmKSkgcmV0dXJuIGZhbHNlXG4gICAgbGV0IGh0bWwgPSB0aGlzLnJlbmRlcmVkLmNvbXBvbmVudFRvU3RyaW5nKGNpZClcbiAgICBsZXQgcGF0Y2ggPSBuZXcgRE9NUGF0Y2godGhpcywgdGhpcy5lbCwgdGhpcy5pZCwgaHRtbCwgY2lkKVxuICAgIGxldCBjaGlsZHJlbkFkZGVkID0gdGhpcy5wZXJmb3JtUGF0Y2gocGF0Y2gsIHRydWUpXG4gICAgcmV0dXJuIGNoaWxkcmVuQWRkZWRcbiAgfVxuXG4gIGdldEhvb2soZWwpeyByZXR1cm4gdGhpcy52aWV3SG9va3NbVmlld0hvb2suZWxlbWVudElEKGVsKV0gfVxuXG4gIGFkZEhvb2soZWwpe1xuICAgIGlmKFZpZXdIb29rLmVsZW1lbnRJRChlbCkgfHwgIWVsLmdldEF0dHJpYnV0ZSl7IHJldHVybiB9XG4gICAgbGV0IGhvb2tOYW1lID0gZWwuZ2V0QXR0cmlidXRlKGBkYXRhLXBoeC0ke1BIWF9IT09LfWApIHx8IGVsLmdldEF0dHJpYnV0ZSh0aGlzLmJpbmRpbmcoUEhYX0hPT0spKVxuICAgIGlmKGhvb2tOYW1lICYmICF0aGlzLm93bnNFbGVtZW50KGVsKSl7IHJldHVybiB9XG4gICAgbGV0IGNhbGxiYWNrcyA9IHRoaXMubGl2ZVNvY2tldC5nZXRIb29rQ2FsbGJhY2tzKGhvb2tOYW1lKVxuXG4gICAgaWYoY2FsbGJhY2tzKXtcbiAgICAgIGlmKCFlbC5pZCl7IGxvZ0Vycm9yKGBubyBET00gSUQgZm9yIGhvb2sgXCIke2hvb2tOYW1lfVwiLiBIb29rcyByZXF1aXJlIGEgdW5pcXVlIElEIG9uIGVhY2ggZWxlbWVudC5gLCBlbCkgfVxuICAgICAgbGV0IGhvb2sgPSBuZXcgVmlld0hvb2sodGhpcywgZWwsIGNhbGxiYWNrcylcbiAgICAgIHRoaXMudmlld0hvb2tzW1ZpZXdIb29rLmVsZW1lbnRJRChob29rLmVsKV0gPSBob29rXG4gICAgICByZXR1cm4gaG9va1xuICAgIH0gZWxzZSBpZihob29rTmFtZSAhPT0gbnVsbCl7XG4gICAgICBsb2dFcnJvcihgdW5rbm93biBob29rIGZvdW5kIGZvciBcIiR7aG9va05hbWV9XCJgLCBlbClcbiAgICB9XG4gIH1cblxuICBkZXN0cm95SG9vayhob29rKXtcbiAgICBob29rLl9fZGVzdHJveWVkKClcbiAgICBob29rLl9fY2xlYW51cF9fKClcbiAgICBkZWxldGUgdGhpcy52aWV3SG9va3NbVmlld0hvb2suZWxlbWVudElEKGhvb2suZWwpXVxuICB9XG5cbiAgYXBwbHlQZW5kaW5nVXBkYXRlcygpe1xuICAgIHRoaXMucGVuZGluZ0RpZmZzLmZvckVhY2goKHtkaWZmLCBldmVudHN9KSA9PiB0aGlzLnVwZGF0ZShkaWZmLCBldmVudHMpKVxuICAgIHRoaXMucGVuZGluZ0RpZmZzID0gW11cbiAgfVxuXG4gIG9uQ2hhbm5lbChldmVudCwgY2Ipe1xuICAgIHRoaXMubGl2ZVNvY2tldC5vbkNoYW5uZWwodGhpcy5jaGFubmVsLCBldmVudCwgcmVzcCA9PiB7XG4gICAgICBpZih0aGlzLmlzSm9pblBlbmRpbmcoKSl7XG4gICAgICAgIHRoaXMucm9vdC5wZW5kaW5nSm9pbk9wcy5wdXNoKFt0aGlzLCAoKSA9PiBjYihyZXNwKV0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmxpdmVTb2NrZXQucmVxdWVzdERPTVVwZGF0ZSgoKSA9PiBjYihyZXNwKSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgYmluZENoYW5uZWwoKXtcbiAgICAvLyBUaGUgZGlmZiBldmVudCBzaG91bGQgYmUgaGFuZGxlZCBieSB0aGUgcmVndWxhciB1cGRhdGUgb3BlcmF0aW9ucy5cbiAgICAvLyBBbGwgb3RoZXIgb3BlcmF0aW9ucyBhcmUgcXVldWVkIHRvIGJlIGFwcGxpZWQgb25seSBhZnRlciBqb2luLlxuICAgIHRoaXMubGl2ZVNvY2tldC5vbkNoYW5uZWwodGhpcy5jaGFubmVsLCBcImRpZmZcIiwgKHJhd0RpZmYpID0+IHtcbiAgICAgIHRoaXMubGl2ZVNvY2tldC5yZXF1ZXN0RE9NVXBkYXRlKCgpID0+IHtcbiAgICAgICAgdGhpcy5hcHBseURpZmYoXCJ1cGRhdGVcIiwgcmF3RGlmZiwgKHtkaWZmLCBldmVudHN9KSA9PiB0aGlzLnVwZGF0ZShkaWZmLCBldmVudHMpKVxuICAgICAgfSlcbiAgICB9KVxuICAgIHRoaXMub25DaGFubmVsKFwicmVkaXJlY3RcIiwgKHt0bywgZmxhc2h9KSA9PiB0aGlzLm9uUmVkaXJlY3Qoe3RvLCBmbGFzaH0pKVxuICAgIHRoaXMub25DaGFubmVsKFwibGl2ZV9wYXRjaFwiLCAocmVkaXIpID0+IHRoaXMub25MaXZlUGF0Y2gocmVkaXIpKVxuICAgIHRoaXMub25DaGFubmVsKFwibGl2ZV9yZWRpcmVjdFwiLCAocmVkaXIpID0+IHRoaXMub25MaXZlUmVkaXJlY3QocmVkaXIpKVxuICAgIHRoaXMuY2hhbm5lbC5vbkVycm9yKHJlYXNvbiA9PiB0aGlzLm9uRXJyb3IocmVhc29uKSlcbiAgICB0aGlzLmNoYW5uZWwub25DbG9zZShyZWFzb24gPT4gdGhpcy5vbkNsb3NlKHJlYXNvbikpXG4gIH1cblxuICBkZXN0cm95QWxsQ2hpbGRyZW4oKXtcbiAgICBmb3IobGV0IGlkIGluIHRoaXMucm9vdC5jaGlsZHJlblt0aGlzLmlkXSl7XG4gICAgICB0aGlzLmdldENoaWxkQnlJZChpZCkuZGVzdHJveSgpXG4gICAgfVxuICB9XG5cbiAgb25MaXZlUmVkaXJlY3QocmVkaXIpe1xuICAgIGxldCB7dG8sIGtpbmQsIGZsYXNofSA9IHJlZGlyXG4gICAgbGV0IHVybCA9IHRoaXMuZXhwYW5kVVJMKHRvKVxuICAgIHRoaXMubGl2ZVNvY2tldC5oaXN0b3J5UmVkaXJlY3QodXJsLCBraW5kLCBmbGFzaClcbiAgfVxuXG4gIG9uTGl2ZVBhdGNoKHJlZGlyKXtcbiAgICBsZXQge3RvLCBraW5kfSA9IHJlZGlyXG4gICAgdGhpcy5ocmVmID0gdGhpcy5leHBhbmRVUkwodG8pXG4gICAgdGhpcy5saXZlU29ja2V0Lmhpc3RvcnlQYXRjaCh0bywga2luZClcbiAgfVxuXG4gIGV4cGFuZFVSTCh0byl7XG4gICAgcmV0dXJuIHRvLnN0YXJ0c1dpdGgoXCIvXCIpID8gYCR7d2luZG93LmxvY2F0aW9uLnByb3RvY29sfS8vJHt3aW5kb3cubG9jYXRpb24uaG9zdH0ke3RvfWAgOiB0b1xuICB9XG5cbiAgb25SZWRpcmVjdCh7dG8sIGZsYXNofSl7IHRoaXMubGl2ZVNvY2tldC5yZWRpcmVjdCh0bywgZmxhc2gpIH1cblxuICBpc0Rlc3Ryb3llZCgpeyByZXR1cm4gdGhpcy5kZXN0cm95ZWQgfVxuXG4gIGpvaW5EZWFkKCl7IHRoaXMuaXNEZWFkID0gdHJ1ZSB9XG5cbiAgam9pbihjYWxsYmFjayl7XG4gICAgaWYodGhpcy5pc01haW4oKSl7XG4gICAgICB0aGlzLnN0b3BDYWxsYmFjayA9IHRoaXMubGl2ZVNvY2tldC53aXRoUGFnZUxvYWRpbmcoe3RvOiB0aGlzLmhyZWYsIGtpbmQ6IFwiaW5pdGlhbFwifSlcbiAgICB9XG4gICAgdGhpcy5qb2luQ2FsbGJhY2sgPSAob25Eb25lKSA9PiB7XG4gICAgICBvbkRvbmUgPSBvbkRvbmUgfHwgZnVuY3Rpb24oKXt9XG4gICAgICBjYWxsYmFjayA/IGNhbGxiYWNrKHRoaXMuam9pbkNvdW50LCBvbkRvbmUpIDogb25Eb25lKClcbiAgICB9XG4gICAgdGhpcy5saXZlU29ja2V0LndyYXBQdXNoKHRoaXMsIHt0aW1lb3V0OiBmYWxzZX0sICgpID0+IHtcbiAgICAgIHJldHVybiB0aGlzLmNoYW5uZWwuam9pbigpXG4gICAgICAgIC5yZWNlaXZlKFwib2tcIiwgZGF0YSA9PiB7XG4gICAgICAgICAgaWYoIXRoaXMuaXNEZXN0cm95ZWQoKSl7XG4gICAgICAgICAgICB0aGlzLmxpdmVTb2NrZXQucmVxdWVzdERPTVVwZGF0ZSgoKSA9PiB0aGlzLm9uSm9pbihkYXRhKSlcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5yZWNlaXZlKFwiZXJyb3JcIiwgcmVzcCA9PiAhdGhpcy5pc0Rlc3Ryb3llZCgpICYmIHRoaXMub25Kb2luRXJyb3IocmVzcCkpXG4gICAgICAgIC5yZWNlaXZlKFwidGltZW91dFwiLCAoKSA9PiAhdGhpcy5pc0Rlc3Ryb3llZCgpICYmIHRoaXMub25Kb2luRXJyb3Ioe3JlYXNvbjogXCJ0aW1lb3V0XCJ9KSlcbiAgICB9KVxuICB9XG5cbiAgb25Kb2luRXJyb3IocmVzcCl7XG4gICAgaWYocmVzcC5yZWFzb24gPT09IFwidW5hdXRob3JpemVkXCIgfHwgcmVzcC5yZWFzb24gPT09IFwic3RhbGVcIil7XG4gICAgICB0aGlzLmxvZyhcImVycm9yXCIsICgpID0+IFtcInVuYXV0aG9yaXplZCBsaXZlX3JlZGlyZWN0LiBGYWxsaW5nIGJhY2sgdG8gcGFnZSByZXF1ZXN0XCIsIHJlc3BdKVxuICAgICAgcmV0dXJuIHRoaXMub25SZWRpcmVjdCh7dG86IHRoaXMuaHJlZn0pXG4gICAgfVxuICAgIGlmKHJlc3AucmVkaXJlY3QgfHwgcmVzcC5saXZlX3JlZGlyZWN0KXtcbiAgICAgIHRoaXMuam9pblBlbmRpbmcgPSBmYWxzZVxuICAgICAgdGhpcy5jaGFubmVsLmxlYXZlKClcbiAgICB9XG4gICAgaWYocmVzcC5yZWRpcmVjdCl7IHJldHVybiB0aGlzLm9uUmVkaXJlY3QocmVzcC5yZWRpcmVjdCkgfVxuICAgIGlmKHJlc3AubGl2ZV9yZWRpcmVjdCl7IHJldHVybiB0aGlzLm9uTGl2ZVJlZGlyZWN0KHJlc3AubGl2ZV9yZWRpcmVjdCkgfVxuICAgIHRoaXMubG9nKFwiZXJyb3JcIiwgKCkgPT4gW1widW5hYmxlIHRvIGpvaW5cIiwgcmVzcF0pXG4gICAgaWYodGhpcy5saXZlU29ja2V0LmlzQ29ubmVjdGVkKCkpeyB0aGlzLmxpdmVTb2NrZXQucmVsb2FkV2l0aEppdHRlcih0aGlzKSB9XG4gIH1cblxuICBvbkNsb3NlKHJlYXNvbil7XG4gICAgaWYodGhpcy5pc0Rlc3Ryb3llZCgpKXsgcmV0dXJuIH1cbiAgICBpZih0aGlzLmxpdmVTb2NrZXQuaGFzUGVuZGluZ0xpbmsoKSAmJiByZWFzb24gIT09IFwibGVhdmVcIil7XG4gICAgICByZXR1cm4gdGhpcy5saXZlU29ja2V0LnJlbG9hZFdpdGhKaXR0ZXIodGhpcylcbiAgICB9XG4gICAgdGhpcy5kZXN0cm95QWxsQ2hpbGRyZW4oKVxuICAgIHRoaXMubGl2ZVNvY2tldC5kcm9wQWN0aXZlRWxlbWVudCh0aGlzKVxuICAgIC8vIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgY2FuIGJlIG51bGwgaW4gSW50ZXJuZXQgRXhwbG9yZXIgMTFcbiAgICBpZihkb2N1bWVudC5hY3RpdmVFbGVtZW50KXsgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5ibHVyKCkgfVxuICAgIGlmKHRoaXMubGl2ZVNvY2tldC5pc1VubG9hZGVkKCkpe1xuICAgICAgdGhpcy5zaG93TG9hZGVyKEJFRk9SRV9VTkxPQURfTE9BREVSX1RJTUVPVVQpXG4gICAgfVxuICB9XG5cbiAgb25FcnJvcihyZWFzb24pe1xuICAgIHRoaXMub25DbG9zZShyZWFzb24pXG4gICAgaWYodGhpcy5saXZlU29ja2V0LmlzQ29ubmVjdGVkKCkpeyB0aGlzLmxvZyhcImVycm9yXCIsICgpID0+IFtcInZpZXcgY3Jhc2hlZFwiLCByZWFzb25dKSB9XG4gICAgaWYoIXRoaXMubGl2ZVNvY2tldC5pc1VubG9hZGVkKCkpeyB0aGlzLmRpc3BsYXlFcnJvcigpIH1cbiAgfVxuXG4gIGRpc3BsYXlFcnJvcigpe1xuICAgIGlmKHRoaXMuaXNNYWluKCkpeyBET00uZGlzcGF0Y2hFdmVudCh3aW5kb3csIFwicGh4OnBhZ2UtbG9hZGluZy1zdGFydFwiLCB7ZGV0YWlsOiB7dG86IHRoaXMuaHJlZiwga2luZDogXCJlcnJvclwifX0pIH1cbiAgICB0aGlzLnNob3dMb2FkZXIoKVxuICAgIHRoaXMuc2V0Q29udGFpbmVyQ2xhc3NlcyhQSFhfRElTQ09OTkVDVEVEX0NMQVNTLCBQSFhfRVJST1JfQ0xBU1MpXG4gICAgdGhpcy5leGVjQWxsKHRoaXMuYmluZGluZyhcImRpc2Nvbm5lY3RlZFwiKSlcbiAgfVxuXG4gIHB1c2hXaXRoUmVwbHkocmVmR2VuZXJhdG9yLCBldmVudCwgcGF5bG9hZCwgb25SZXBseSA9IGZ1bmN0aW9uICgpeyB9KXtcbiAgICBpZighdGhpcy5pc0Nvbm5lY3RlZCgpKXsgcmV0dXJuIH1cblxuICAgIGxldCBbcmVmLCBbZWxdLCBvcHRzXSA9IHJlZkdlbmVyYXRvciA/IHJlZkdlbmVyYXRvcigpIDogW251bGwsIFtdLCB7fV1cbiAgICBsZXQgb25Mb2FkaW5nRG9uZSA9IGZ1bmN0aW9uKCl7IH1cbiAgICBpZihvcHRzLnBhZ2VfbG9hZGluZyB8fCAoZWwgJiYgKGVsLmdldEF0dHJpYnV0ZSh0aGlzLmJpbmRpbmcoUEhYX1BBR0VfTE9BRElORykpICE9PSBudWxsKSkpe1xuICAgICAgb25Mb2FkaW5nRG9uZSA9IHRoaXMubGl2ZVNvY2tldC53aXRoUGFnZUxvYWRpbmcoe2tpbmQ6IFwiZWxlbWVudFwiLCB0YXJnZXQ6IGVsfSlcbiAgICB9XG5cbiAgICBpZih0eXBlb2YgKHBheWxvYWQuY2lkKSAhPT0gXCJudW1iZXJcIil7IGRlbGV0ZSBwYXlsb2FkLmNpZCB9XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMubGl2ZVNvY2tldC53cmFwUHVzaCh0aGlzLCB7dGltZW91dDogdHJ1ZX0sICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhbm5lbC5wdXNoKGV2ZW50LCBwYXlsb2FkLCBQVVNIX1RJTUVPVVQpLnJlY2VpdmUoXCJva1wiLCByZXNwID0+IHtcbiAgICAgICAgICBsZXQgZmluaXNoID0gKGhvb2tSZXBseSkgPT4ge1xuICAgICAgICAgICAgaWYocmVzcC5yZWRpcmVjdCl7IHRoaXMub25SZWRpcmVjdChyZXNwLnJlZGlyZWN0KSB9XG4gICAgICAgICAgICBpZihyZXNwLmxpdmVfcGF0Y2gpeyB0aGlzLm9uTGl2ZVBhdGNoKHJlc3AubGl2ZV9wYXRjaCkgfVxuICAgICAgICAgICAgaWYocmVzcC5saXZlX3JlZGlyZWN0KXsgdGhpcy5vbkxpdmVSZWRpcmVjdChyZXNwLmxpdmVfcmVkaXJlY3QpIH1cbiAgICAgICAgICAgIGlmKHJlZiAhPT0gbnVsbCl7IHRoaXMudW5kb1JlZnMocmVmKSB9XG4gICAgICAgICAgICBvbkxvYWRpbmdEb25lKClcbiAgICAgICAgICAgIG9uUmVwbHkocmVzcCwgaG9va1JlcGx5KVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZihyZXNwLmRpZmYpe1xuICAgICAgICAgICAgdGhpcy5saXZlU29ja2V0LnJlcXVlc3RET01VcGRhdGUoKCkgPT4ge1xuICAgICAgICAgICAgICB0aGlzLmFwcGx5RGlmZihcInVwZGF0ZVwiLCByZXNwLmRpZmYsICh7ZGlmZiwgcmVwbHksIGV2ZW50c30pID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZShkaWZmLCBldmVudHMpXG4gICAgICAgICAgICAgICAgZmluaXNoKHJlcGx5KVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZmluaXNoKG51bGwpXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICApXG4gIH1cblxuICB1bmRvUmVmcyhyZWYpe1xuICAgIGlmKCF0aGlzLmlzQ29ubmVjdGVkKCkpeyByZXR1cm4gfSAvLyBleGl0IGlmIGV4dGVybmFsIGZvcm0gdHJpZ2dlcmVkXG5cbiAgICBET00uYWxsKGRvY3VtZW50LCBgWyR7UEhYX1JFRl9TUkN9PVwiJHt0aGlzLmlkfVwiXVske1BIWF9SRUZ9PVwiJHtyZWZ9XCJdYCwgZWwgPT4ge1xuICAgICAgbGV0IGRpc2FibGVkVmFsID0gZWwuZ2V0QXR0cmlidXRlKFBIWF9ESVNBQkxFRClcbiAgICAgIC8vIHJlbW92ZSByZWZzXG4gICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoUEhYX1JFRilcbiAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShQSFhfUkVGX1NSQylcbiAgICAgIC8vIHJlc3RvcmUgaW5wdXRzXG4gICAgICBpZihlbC5nZXRBdHRyaWJ1dGUoUEhYX1JFQURPTkxZKSAhPT0gbnVsbCl7XG4gICAgICAgIGVsLnJlYWRPbmx5ID0gZmFsc2VcbiAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKFBIWF9SRUFET05MWSlcbiAgICAgIH1cbiAgICAgIGlmKGRpc2FibGVkVmFsICE9PSBudWxsKXtcbiAgICAgICAgZWwuZGlzYWJsZWQgPSBkaXNhYmxlZFZhbCA9PT0gXCJ0cnVlXCIgPyB0cnVlIDogZmFsc2VcbiAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKFBIWF9ESVNBQkxFRClcbiAgICAgIH1cbiAgICAgIC8vIHJlbW92ZSBjbGFzc2VzXG4gICAgICBQSFhfRVZFTlRfQ0xBU1NFUy5mb3JFYWNoKGNsYXNzTmFtZSA9PiBET00ucmVtb3ZlQ2xhc3MoZWwsIGNsYXNzTmFtZSkpXG4gICAgICAvLyByZXN0b3JlIGRpc2FibGVzXG4gICAgICBsZXQgZGlzYWJsZVJlc3RvcmUgPSBlbC5nZXRBdHRyaWJ1dGUoUEhYX0RJU0FCTEVfV0lUSF9SRVNUT1JFKVxuICAgICAgaWYoZGlzYWJsZVJlc3RvcmUgIT09IG51bGwpe1xuICAgICAgICBlbC5pbm5lclRleHQgPSBkaXNhYmxlUmVzdG9yZVxuICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoUEhYX0RJU0FCTEVfV0lUSF9SRVNUT1JFKVxuICAgICAgfVxuICAgICAgbGV0IHRvRWwgPSBET00ucHJpdmF0ZShlbCwgUEhYX1JFRilcbiAgICAgIGlmKHRvRWwpe1xuICAgICAgICBsZXQgaG9vayA9IHRoaXMudHJpZ2dlckJlZm9yZVVwZGF0ZUhvb2soZWwsIHRvRWwpXG4gICAgICAgIERPTVBhdGNoLnBhdGNoRWwoZWwsIHRvRWwsIHRoaXMubGl2ZVNvY2tldC5nZXRBY3RpdmVFbGVtZW50KCkpXG4gICAgICAgIGlmKGhvb2speyBob29rLl9fdXBkYXRlZCgpIH1cbiAgICAgICAgRE9NLmRlbGV0ZVByaXZhdGUoZWwsIFBIWF9SRUYpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIHB1dFJlZihlbGVtZW50cywgZXZlbnQsIG9wdHMgPSB7fSl7XG4gICAgbGV0IG5ld1JlZiA9IHRoaXMucmVmKytcbiAgICBsZXQgZGlzYWJsZVdpdGggPSB0aGlzLmJpbmRpbmcoUEhYX0RJU0FCTEVfV0lUSClcbiAgICBpZihvcHRzLmxvYWRpbmcpeyBlbGVtZW50cyA9IGVsZW1lbnRzLmNvbmNhdChET00uYWxsKGRvY3VtZW50LCBvcHRzLmxvYWRpbmcpKX1cblxuICAgIGVsZW1lbnRzLmZvckVhY2goZWwgPT4ge1xuICAgICAgZWwuY2xhc3NMaXN0LmFkZChgcGh4LSR7ZXZlbnR9LWxvYWRpbmdgKVxuICAgICAgZWwuc2V0QXR0cmlidXRlKFBIWF9SRUYsIG5ld1JlZilcbiAgICAgIGVsLnNldEF0dHJpYnV0ZShQSFhfUkVGX1NSQywgdGhpcy5lbC5pZClcbiAgICAgIGxldCBkaXNhYmxlVGV4dCA9IGVsLmdldEF0dHJpYnV0ZShkaXNhYmxlV2l0aClcbiAgICAgIGlmKGRpc2FibGVUZXh0ICE9PSBudWxsKXtcbiAgICAgICAgaWYoIWVsLmdldEF0dHJpYnV0ZShQSFhfRElTQUJMRV9XSVRIX1JFU1RPUkUpKXtcbiAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoUEhYX0RJU0FCTEVfV0lUSF9SRVNUT1JFLCBlbC5pbm5lclRleHQpXG4gICAgICAgIH1cbiAgICAgICAgaWYoZGlzYWJsZVRleHQgIT09IFwiXCIpeyBlbC5pbm5lclRleHQgPSBkaXNhYmxlVGV4dCB9XG4gICAgICAgIGVsLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwiXCIpXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gW25ld1JlZiwgZWxlbWVudHMsIG9wdHNdXG4gIH1cblxuICBjb21wb25lbnRJRChlbCl7XG4gICAgbGV0IGNpZCA9IGVsLmdldEF0dHJpYnV0ZSAmJiBlbC5nZXRBdHRyaWJ1dGUoUEhYX0NPTVBPTkVOVClcbiAgICByZXR1cm4gY2lkID8gcGFyc2VJbnQoY2lkKSA6IG51bGxcbiAgfVxuXG4gIHRhcmdldENvbXBvbmVudElEKHRhcmdldCwgdGFyZ2V0Q3R4LCBvcHRzID0ge30pe1xuICAgIGlmKGlzQ2lkKHRhcmdldEN0eCkpeyByZXR1cm4gdGFyZ2V0Q3R4IH1cblxuICAgIGxldCBjaWRPclNlbGVjdG9yID0gdGFyZ2V0LmdldEF0dHJpYnV0ZSh0aGlzLmJpbmRpbmcoXCJ0YXJnZXRcIikpXG4gICAgaWYoaXNDaWQoY2lkT3JTZWxlY3Rvcikpe1xuICAgICAgcmV0dXJuIHBhcnNlSW50KGNpZE9yU2VsZWN0b3IpXG4gICAgfSBlbHNlIGlmKHRhcmdldEN0eCAmJiAoY2lkT3JTZWxlY3RvciAhPT0gbnVsbCB8fCBvcHRzLnRhcmdldCkpe1xuICAgICAgcmV0dXJuIHRoaXMuY2xvc2VzdENvbXBvbmVudElEKHRhcmdldEN0eClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICBjbG9zZXN0Q29tcG9uZW50SUQodGFyZ2V0Q3R4KXtcbiAgICBpZihpc0NpZCh0YXJnZXRDdHgpKXtcbiAgICAgIHJldHVybiB0YXJnZXRDdHhcbiAgICB9IGVsc2UgaWYodGFyZ2V0Q3R4KXtcbiAgICAgIHJldHVybiBtYXliZSh0YXJnZXRDdHguY2xvc2VzdChgWyR7UEhYX0NPTVBPTkVOVH1dYCksIGVsID0+IHRoaXMub3duc0VsZW1lbnQoZWwpICYmIHRoaXMuY29tcG9uZW50SUQoZWwpKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHB1c2hIb29rRXZlbnQodGFyZ2V0Q3R4LCBldmVudCwgcGF5bG9hZCwgb25SZXBseSl7XG4gICAgaWYoIXRoaXMuaXNDb25uZWN0ZWQoKSl7XG4gICAgICB0aGlzLmxvZyhcImhvb2tcIiwgKCkgPT4gW1widW5hYmxlIHRvIHB1c2ggaG9vayBldmVudC4gTGl2ZVZpZXcgbm90IGNvbm5lY3RlZFwiLCBldmVudCwgcGF5bG9hZF0pXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgbGV0IFtyZWYsIGVscywgb3B0c10gPSB0aGlzLnB1dFJlZihbXSwgXCJob29rXCIpXG4gICAgdGhpcy5wdXNoV2l0aFJlcGx5KCgpID0+IFtyZWYsIGVscywgb3B0c10sIFwiZXZlbnRcIiwge1xuICAgICAgdHlwZTogXCJob29rXCIsXG4gICAgICBldmVudDogZXZlbnQsXG4gICAgICB2YWx1ZTogcGF5bG9hZCxcbiAgICAgIGNpZDogdGhpcy5jbG9zZXN0Q29tcG9uZW50SUQodGFyZ2V0Q3R4KVxuICAgIH0sIChyZXNwLCByZXBseSkgPT4gb25SZXBseShyZXBseSwgcmVmKSlcblxuICAgIHJldHVybiByZWZcbiAgfVxuXG4gIGV4dHJhY3RNZXRhKGVsLCBtZXRhLCB2YWx1ZSl7XG4gICAgbGV0IHByZWZpeCA9IHRoaXMuYmluZGluZyhcInZhbHVlLVwiKVxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBlbC5hdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKXtcbiAgICAgIGlmKCFtZXRhKXsgbWV0YSA9IHt9IH1cbiAgICAgIGxldCBuYW1lID0gZWwuYXR0cmlidXRlc1tpXS5uYW1lXG4gICAgICBpZihuYW1lLnN0YXJ0c1dpdGgocHJlZml4KSl7IG1ldGFbbmFtZS5yZXBsYWNlKHByZWZpeCwgXCJcIildID0gZWwuZ2V0QXR0cmlidXRlKG5hbWUpIH1cbiAgICB9XG4gICAgaWYoZWwudmFsdWUgIT09IHVuZGVmaW5lZCl7XG4gICAgICBpZighbWV0YSl7IG1ldGEgPSB7fSB9XG4gICAgICBtZXRhLnZhbHVlID0gZWwudmFsdWVcblxuICAgICAgaWYoZWwudGFnTmFtZSA9PT0gXCJJTlBVVFwiICYmIENIRUNLQUJMRV9JTlBVVFMuaW5kZXhPZihlbC50eXBlKSA+PSAwICYmICFlbC5jaGVja2VkKXtcbiAgICAgICAgZGVsZXRlIG1ldGEudmFsdWVcbiAgICAgIH1cbiAgICB9XG4gICAgaWYodmFsdWUpe1xuICAgICAgaWYoIW1ldGEpeyBtZXRhID0ge30gfVxuICAgICAgZm9yKGxldCBrZXkgaW4gdmFsdWUpeyBtZXRhW2tleV0gPSB2YWx1ZVtrZXldIH1cbiAgICB9XG4gICAgcmV0dXJuIG1ldGFcbiAgfVxuXG4gIHB1c2hFdmVudCh0eXBlLCBlbCwgdGFyZ2V0Q3R4LCBwaHhFdmVudCwgbWV0YSwgb3B0cyA9IHt9KXtcbiAgICB0aGlzLnB1c2hXaXRoUmVwbHkoKCkgPT4gdGhpcy5wdXRSZWYoW2VsXSwgdHlwZSwgb3B0cyksIFwiZXZlbnRcIiwge1xuICAgICAgdHlwZTogdHlwZSxcbiAgICAgIGV2ZW50OiBwaHhFdmVudCxcbiAgICAgIHZhbHVlOiB0aGlzLmV4dHJhY3RNZXRhKGVsLCBtZXRhLCBvcHRzLnZhbHVlKSxcbiAgICAgIGNpZDogdGhpcy50YXJnZXRDb21wb25lbnRJRChlbCwgdGFyZ2V0Q3R4LCBvcHRzKVxuICAgIH0pXG4gIH1cblxuICBwdXNoRmlsZVByb2dyZXNzKGZpbGVFbCwgZW50cnlSZWYsIHByb2dyZXNzLCBvblJlcGx5ID0gZnVuY3Rpb24gKCl7IH0pe1xuICAgIHRoaXMubGl2ZVNvY2tldC53aXRoaW5Pd25lcnMoZmlsZUVsLmZvcm0sICh2aWV3LCB0YXJnZXRDdHgpID0+IHtcbiAgICAgIHZpZXcucHVzaFdpdGhSZXBseShudWxsLCBcInByb2dyZXNzXCIsIHtcbiAgICAgICAgZXZlbnQ6IGZpbGVFbC5nZXRBdHRyaWJ1dGUodmlldy5iaW5kaW5nKFBIWF9QUk9HUkVTUykpLFxuICAgICAgICByZWY6IGZpbGVFbC5nZXRBdHRyaWJ1dGUoUEhYX1VQTE9BRF9SRUYpLFxuICAgICAgICBlbnRyeV9yZWY6IGVudHJ5UmVmLFxuICAgICAgICBwcm9ncmVzczogcHJvZ3Jlc3MsXG4gICAgICAgIGNpZDogdmlldy50YXJnZXRDb21wb25lbnRJRChmaWxlRWwuZm9ybSwgdGFyZ2V0Q3R4KVxuICAgICAgfSwgb25SZXBseSlcbiAgICB9KVxuICB9XG5cbiAgcHVzaElucHV0KGlucHV0RWwsIHRhcmdldEN0eCwgZm9yY2VDaWQsIHBoeEV2ZW50LCBvcHRzLCBjYWxsYmFjayl7XG4gICAgbGV0IHVwbG9hZHNcbiAgICBsZXQgY2lkID0gaXNDaWQoZm9yY2VDaWQpID8gZm9yY2VDaWQgOiB0aGlzLnRhcmdldENvbXBvbmVudElEKGlucHV0RWwuZm9ybSwgdGFyZ2V0Q3R4KVxuICAgIGxldCByZWZHZW5lcmF0b3IgPSAoKSA9PiB0aGlzLnB1dFJlZihbaW5wdXRFbCwgaW5wdXRFbC5mb3JtXSwgXCJjaGFuZ2VcIiwgb3B0cylcbiAgICBsZXQgZm9ybURhdGFcbiAgICBpZihpbnB1dEVsLmdldEF0dHJpYnV0ZSh0aGlzLmJpbmRpbmcoXCJjaGFuZ2VcIikpKXtcbiAgICAgIGZvcm1EYXRhID0gc2VyaWFsaXplRm9ybShpbnB1dEVsLmZvcm0sIHtfdGFyZ2V0OiBvcHRzLl90YXJnZXR9LCBbaW5wdXRFbC5uYW1lXSlcbiAgICB9IGVsc2Uge1xuICAgICAgZm9ybURhdGEgPSBzZXJpYWxpemVGb3JtKGlucHV0RWwuZm9ybSwge190YXJnZXQ6IG9wdHMuX3RhcmdldH0pXG4gICAgfVxuICAgIGlmKERPTS5pc1VwbG9hZElucHV0KGlucHV0RWwpICYmIGlucHV0RWwuZmlsZXMgJiYgaW5wdXRFbC5maWxlcy5sZW5ndGggPiAwKXtcbiAgICAgIExpdmVVcGxvYWRlci50cmFja0ZpbGVzKGlucHV0RWwsIEFycmF5LmZyb20oaW5wdXRFbC5maWxlcykpXG4gICAgfVxuICAgIHVwbG9hZHMgPSBMaXZlVXBsb2FkZXIuc2VyaWFsaXplVXBsb2FkcyhpbnB1dEVsKVxuICAgIGxldCBldmVudCA9IHtcbiAgICAgIHR5cGU6IFwiZm9ybVwiLFxuICAgICAgZXZlbnQ6IHBoeEV2ZW50LFxuICAgICAgdmFsdWU6IGZvcm1EYXRhLFxuICAgICAgdXBsb2FkczogdXBsb2FkcyxcbiAgICAgIGNpZDogY2lkXG4gICAgfVxuICAgIHRoaXMucHVzaFdpdGhSZXBseShyZWZHZW5lcmF0b3IsIFwiZXZlbnRcIiwgZXZlbnQsIHJlc3AgPT4ge1xuICAgICAgRE9NLnNob3dFcnJvcihpbnB1dEVsLCB0aGlzLmxpdmVTb2NrZXQuYmluZGluZyhQSFhfRkVFREJBQ0tfRk9SKSlcbiAgICAgIGlmKERPTS5pc1VwbG9hZElucHV0KGlucHV0RWwpICYmIGlucHV0RWwuZ2V0QXR0cmlidXRlKFwiZGF0YS1waHgtYXV0by11cGxvYWRcIikgIT09IG51bGwpe1xuICAgICAgICBpZihMaXZlVXBsb2FkZXIuZmlsZXNBd2FpdGluZ1ByZWZsaWdodChpbnB1dEVsKS5sZW5ndGggPiAwKXtcbiAgICAgICAgICBsZXQgW3JlZiwgX2Vsc10gPSByZWZHZW5lcmF0b3IoKVxuICAgICAgICAgIHRoaXMudXBsb2FkRmlsZXMoaW5wdXRFbC5mb3JtLCB0YXJnZXRDdHgsIHJlZiwgY2lkLCAoX3VwbG9hZHMpID0+IHtcbiAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKHJlc3ApXG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJBd2FpdGluZ1N1Ym1pdChpbnB1dEVsLmZvcm0pXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2socmVzcClcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgdHJpZ2dlckF3YWl0aW5nU3VibWl0KGZvcm1FbCl7XG4gICAgbGV0IGF3YWl0aW5nU3VibWl0ID0gdGhpcy5nZXRTY2hlZHVsZWRTdWJtaXQoZm9ybUVsKVxuICAgIGlmKGF3YWl0aW5nU3VibWl0KXtcbiAgICAgIGxldCBbX2VsLCBfcmVmLCBfb3B0cywgY2FsbGJhY2tdID0gYXdhaXRpbmdTdWJtaXRcbiAgICAgIHRoaXMuY2FuY2VsU3VibWl0KGZvcm1FbClcbiAgICAgIGNhbGxiYWNrKClcbiAgICB9XG4gIH1cblxuICBnZXRTY2hlZHVsZWRTdWJtaXQoZm9ybUVsKXtcbiAgICByZXR1cm4gdGhpcy5mb3JtU3VibWl0cy5maW5kKChbZWwsIF9yZWYsIF9vcHRzLCBfY2FsbGJhY2tdKSA9PiBlbC5pc1NhbWVOb2RlKGZvcm1FbCkpXG4gIH1cblxuICBzY2hlZHVsZVN1Ym1pdChmb3JtRWwsIHJlZiwgb3B0cywgY2FsbGJhY2spe1xuICAgIGlmKHRoaXMuZ2V0U2NoZWR1bGVkU3VibWl0KGZvcm1FbCkpeyByZXR1cm4gdHJ1ZSB9XG4gICAgdGhpcy5mb3JtU3VibWl0cy5wdXNoKFtmb3JtRWwsIHJlZiwgb3B0cywgY2FsbGJhY2tdKVxuICB9XG5cbiAgY2FuY2VsU3VibWl0KGZvcm1FbCl7XG4gICAgdGhpcy5mb3JtU3VibWl0cyA9IHRoaXMuZm9ybVN1Ym1pdHMuZmlsdGVyKChbZWwsIHJlZiwgX2NhbGxiYWNrXSkgPT4ge1xuICAgICAgaWYoZWwuaXNTYW1lTm9kZShmb3JtRWwpKXtcbiAgICAgICAgdGhpcy51bmRvUmVmcyhyZWYpXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgZGlzYWJsZUZvcm0oZm9ybUVsLCBvcHRzID0ge30pe1xuICAgIGxldCBmaWx0ZXJJZ25vcmVkID0gZWwgPT4ge1xuICAgICAgbGV0IHVzZXJJZ25vcmVkID0gY2xvc2VzdFBoeEJpbmRpbmcoZWwsIGAke3RoaXMuYmluZGluZyhQSFhfVVBEQVRFKX09aWdub3JlYCwgZWwuZm9ybSlcbiAgICAgIHJldHVybiAhKHVzZXJJZ25vcmVkIHx8IGNsb3Nlc3RQaHhCaW5kaW5nKGVsLCBcImRhdGEtcGh4LXVwZGF0ZT1pZ25vcmVcIiwgZWwuZm9ybSkpXG4gICAgfVxuICAgIGxldCBmaWx0ZXJEaXNhYmxlcyA9IGVsID0+IHtcbiAgICAgIHJldHVybiBlbC5oYXNBdHRyaWJ1dGUodGhpcy5iaW5kaW5nKFBIWF9ESVNBQkxFX1dJVEgpKVxuICAgIH1cbiAgICBsZXQgZmlsdGVyQnV0dG9uID0gZWwgPT4gZWwudGFnTmFtZSA9PSBcIkJVVFRPTlwiXG5cbiAgICBsZXQgZmlsdGVySW5wdXQgPSBlbCA9PiBbXCJJTlBVVFwiLCBcIlRFWFRBUkVBXCIsIFwiU0VMRUNUXCJdLmluY2x1ZGVzKGVsLnRhZ05hbWUpXG5cbiAgICBsZXQgZm9ybUVsZW1lbnRzID0gQXJyYXkuZnJvbShmb3JtRWwuZWxlbWVudHMpXG4gICAgbGV0IGRpc2FibGVzID0gZm9ybUVsZW1lbnRzLmZpbHRlcihmaWx0ZXJEaXNhYmxlcylcbiAgICBsZXQgYnV0dG9ucyA9IGZvcm1FbGVtZW50cy5maWx0ZXIoZmlsdGVyQnV0dG9uKS5maWx0ZXIoZmlsdGVySWdub3JlZClcbiAgICBsZXQgaW5wdXRzID0gZm9ybUVsZW1lbnRzLmZpbHRlcihmaWx0ZXJJbnB1dCkuZmlsdGVyKGZpbHRlcklnbm9yZWQpXG5cbiAgICBidXR0b25zLmZvckVhY2goYnV0dG9uID0+IHtcbiAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoUEhYX0RJU0FCTEVELCBidXR0b24uZGlzYWJsZWQpXG4gICAgICBidXR0b24uZGlzYWJsZWQgPSB0cnVlXG4gICAgfSlcbiAgICBpbnB1dHMuZm9yRWFjaChpbnB1dCA9PiB7XG4gICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoUEhYX1JFQURPTkxZLCBpbnB1dC5yZWFkT25seSlcbiAgICAgIGlucHV0LnJlYWRPbmx5ID0gdHJ1ZVxuICAgICAgaWYoaW5wdXQuZmlsZXMpe1xuICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoUEhYX0RJU0FCTEVELCBpbnB1dC5kaXNhYmxlZClcbiAgICAgICAgaW5wdXQuZGlzYWJsZWQgPSB0cnVlXG4gICAgICB9XG4gICAgfSlcbiAgICBmb3JtRWwuc2V0QXR0cmlidXRlKHRoaXMuYmluZGluZyhQSFhfUEFHRV9MT0FESU5HKSwgXCJcIilcbiAgICByZXR1cm4gdGhpcy5wdXRSZWYoW2Zvcm1FbF0uY29uY2F0KGRpc2FibGVzKS5jb25jYXQoYnV0dG9ucykuY29uY2F0KGlucHV0cyksIFwic3VibWl0XCIsIG9wdHMpXG4gIH1cblxuICBwdXNoRm9ybVN1Ym1pdChmb3JtRWwsIHRhcmdldEN0eCwgcGh4RXZlbnQsIG9wdHMsIG9uUmVwbHkpe1xuICAgIGxldCByZWZHZW5lcmF0b3IgPSAoKSA9PiB0aGlzLmRpc2FibGVGb3JtKGZvcm1FbCwgb3B0cylcbiAgICBsZXQgY2lkID0gdGhpcy50YXJnZXRDb21wb25lbnRJRChmb3JtRWwsIHRhcmdldEN0eClcbiAgICBpZihMaXZlVXBsb2FkZXIuaGFzVXBsb2Fkc0luUHJvZ3Jlc3MoZm9ybUVsKSl7XG4gICAgICBsZXQgW3JlZiwgX2Vsc10gPSByZWZHZW5lcmF0b3IoKVxuICAgICAgbGV0IHB1c2ggPSAoKSA9PiB0aGlzLnB1c2hGb3JtU3VibWl0KGZvcm1FbCwgdGFyZ2V0Q3R4LCBwaHhFdmVudCwgb3B0cywgb25SZXBseSlcbiAgICAgIHJldHVybiB0aGlzLnNjaGVkdWxlU3VibWl0KGZvcm1FbCwgcmVmLCBvcHRzLCBwdXNoKVxuICAgIH0gZWxzZSBpZihMaXZlVXBsb2FkZXIuaW5wdXRzQXdhaXRpbmdQcmVmbGlnaHQoZm9ybUVsKS5sZW5ndGggPiAwKXtcbiAgICAgIGxldCBbcmVmLCBlbHNdID0gcmVmR2VuZXJhdG9yKClcbiAgICAgIGxldCBwcm94eVJlZkdlbiA9ICgpID0+IFtyZWYsIGVscywgb3B0c11cbiAgICAgIHRoaXMudXBsb2FkRmlsZXMoZm9ybUVsLCB0YXJnZXRDdHgsIHJlZiwgY2lkLCAoX3VwbG9hZHMpID0+IHtcbiAgICAgICAgbGV0IGZvcm1EYXRhID0gc2VyaWFsaXplRm9ybShmb3JtRWwsIHt9KVxuICAgICAgICB0aGlzLnB1c2hXaXRoUmVwbHkocHJveHlSZWZHZW4sIFwiZXZlbnRcIiwge1xuICAgICAgICAgIHR5cGU6IFwiZm9ybVwiLFxuICAgICAgICAgIGV2ZW50OiBwaHhFdmVudCxcbiAgICAgICAgICB2YWx1ZTogZm9ybURhdGEsXG4gICAgICAgICAgY2lkOiBjaWRcbiAgICAgICAgfSwgb25SZXBseSlcbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBmb3JtRGF0YSA9IHNlcmlhbGl6ZUZvcm0oZm9ybUVsLCB7fSlcbiAgICAgIHRoaXMucHVzaFdpdGhSZXBseShyZWZHZW5lcmF0b3IsIFwiZXZlbnRcIiwge1xuICAgICAgICB0eXBlOiBcImZvcm1cIixcbiAgICAgICAgZXZlbnQ6IHBoeEV2ZW50LFxuICAgICAgICB2YWx1ZTogZm9ybURhdGEsXG4gICAgICAgIGNpZDogY2lkXG4gICAgICB9LCBvblJlcGx5KVxuICAgIH1cbiAgfVxuXG4gIHVwbG9hZEZpbGVzKGZvcm1FbCwgdGFyZ2V0Q3R4LCByZWYsIGNpZCwgb25Db21wbGV0ZSl7XG4gICAgbGV0IGpvaW5Db3VudEF0VXBsb2FkID0gdGhpcy5qb2luQ291bnRcbiAgICBsZXQgaW5wdXRFbHMgPSBMaXZlVXBsb2FkZXIuYWN0aXZlRmlsZUlucHV0cyhmb3JtRWwpXG4gICAgbGV0IG51bUZpbGVJbnB1dHNJblByb2dyZXNzID0gaW5wdXRFbHMubGVuZ3RoXG5cbiAgICAvLyBnZXQgZWFjaCBmaWxlIGlucHV0XG4gICAgaW5wdXRFbHMuZm9yRWFjaChpbnB1dEVsID0+IHtcbiAgICAgIGxldCB1cGxvYWRlciA9IG5ldyBMaXZlVXBsb2FkZXIoaW5wdXRFbCwgdGhpcywgKCkgPT4ge1xuICAgICAgICBudW1GaWxlSW5wdXRzSW5Qcm9ncmVzcy0tXG4gICAgICAgIGlmKG51bUZpbGVJbnB1dHNJblByb2dyZXNzID09PSAwKXsgb25Db21wbGV0ZSgpIH1cbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLnVwbG9hZGVyc1tpbnB1dEVsXSA9IHVwbG9hZGVyXG4gICAgICBsZXQgZW50cmllcyA9IHVwbG9hZGVyLmVudHJpZXMoKS5tYXAoZW50cnkgPT4gZW50cnkudG9QcmVmbGlnaHRQYXlsb2FkKCkpXG5cbiAgICAgIGxldCBwYXlsb2FkID0ge1xuICAgICAgICByZWY6IGlucHV0RWwuZ2V0QXR0cmlidXRlKFBIWF9VUExPQURfUkVGKSxcbiAgICAgICAgZW50cmllczogZW50cmllcyxcbiAgICAgICAgY2lkOiB0aGlzLnRhcmdldENvbXBvbmVudElEKGlucHV0RWwuZm9ybSwgdGFyZ2V0Q3R4KVxuICAgICAgfVxuXG4gICAgICB0aGlzLmxvZyhcInVwbG9hZFwiLCAoKSA9PiBbXCJzZW5kaW5nIHByZWZsaWdodCByZXF1ZXN0XCIsIHBheWxvYWRdKVxuXG4gICAgICB0aGlzLnB1c2hXaXRoUmVwbHkobnVsbCwgXCJhbGxvd191cGxvYWRcIiwgcGF5bG9hZCwgcmVzcCA9PiB7XG4gICAgICAgIHRoaXMubG9nKFwidXBsb2FkXCIsICgpID0+IFtcImdvdCBwcmVmbGlnaHQgcmVzcG9uc2VcIiwgcmVzcF0pXG4gICAgICAgIGlmKHJlc3AuZXJyb3Ipe1xuICAgICAgICAgIHRoaXMudW5kb1JlZnMocmVmKVxuICAgICAgICAgIGxldCBbZW50cnlfcmVmLCByZWFzb25dID0gcmVzcC5lcnJvclxuICAgICAgICAgIHRoaXMubG9nKFwidXBsb2FkXCIsICgpID0+IFtgZXJyb3IgZm9yIGVudHJ5ICR7ZW50cnlfcmVmfWAsIHJlYXNvbl0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGV0IG9uRXJyb3IgPSAoY2FsbGJhY2spID0+IHtcbiAgICAgICAgICAgIHRoaXMuY2hhbm5lbC5vbkVycm9yKCgpID0+IHtcbiAgICAgICAgICAgICAgaWYodGhpcy5qb2luQ291bnQgPT09IGpvaW5Db3VudEF0VXBsb2FkKXsgY2FsbGJhY2soKSB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgICB1cGxvYWRlci5pbml0QWRhcHRlclVwbG9hZChyZXNwLCBvbkVycm9yLCB0aGlzLmxpdmVTb2NrZXQpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIGRpc3BhdGNoVXBsb2FkcyhuYW1lLCBmaWxlc09yQmxvYnMpe1xuICAgIGxldCBpbnB1dHMgPSBET00uZmluZFVwbG9hZElucHV0cyh0aGlzLmVsKS5maWx0ZXIoZWwgPT4gZWwubmFtZSA9PT0gbmFtZSlcbiAgICBpZihpbnB1dHMubGVuZ3RoID09PSAwKXsgbG9nRXJyb3IoYG5vIGxpdmUgZmlsZSBpbnB1dHMgZm91bmQgbWF0Y2hpbmcgdGhlIG5hbWUgXCIke25hbWV9XCJgKSB9XG4gICAgZWxzZSBpZihpbnB1dHMubGVuZ3RoID4gMSl7IGxvZ0Vycm9yKGBkdXBsaWNhdGUgbGl2ZSBmaWxlIGlucHV0cyBmb3VuZCBtYXRjaGluZyB0aGUgbmFtZSBcIiR7bmFtZX1cImApIH1cbiAgICBlbHNlIHsgRE9NLmRpc3BhdGNoRXZlbnQoaW5wdXRzWzBdLCBQSFhfVFJBQ0tfVVBMT0FEUywge2RldGFpbDoge2ZpbGVzOiBmaWxlc09yQmxvYnN9fSkgfVxuICB9XG5cbiAgcHVzaEZvcm1SZWNvdmVyeShmb3JtLCBuZXdDaWQsIGNhbGxiYWNrKXtcbiAgICB0aGlzLmxpdmVTb2NrZXQud2l0aGluT3duZXJzKGZvcm0sICh2aWV3LCB0YXJnZXRDdHgpID0+IHtcbiAgICAgIGxldCBpbnB1dCA9IGZvcm0uZWxlbWVudHNbMF1cbiAgICAgIGxldCBwaHhFdmVudCA9IGZvcm0uZ2V0QXR0cmlidXRlKHRoaXMuYmluZGluZyhQSFhfQVVUT19SRUNPVkVSKSkgfHwgZm9ybS5nZXRBdHRyaWJ1dGUodGhpcy5iaW5kaW5nKFwiY2hhbmdlXCIpKVxuXG4gICAgICBKUy5leGVjKFwiY2hhbmdlXCIsIHBoeEV2ZW50LCB2aWV3LCBpbnB1dCwgW1wicHVzaFwiLCB7X3RhcmdldDogaW5wdXQubmFtZSwgbmV3Q2lkOiBuZXdDaWQsIGNhbGxiYWNrOiBjYWxsYmFja31dKVxuICAgIH0pXG4gIH1cblxuICBwdXNoTGlua1BhdGNoKGhyZWYsIHRhcmdldEVsLCBjYWxsYmFjayl7XG4gICAgbGV0IGxpbmtSZWYgPSB0aGlzLmxpdmVTb2NrZXQuc2V0UGVuZGluZ0xpbmsoaHJlZilcbiAgICBsZXQgcmVmR2VuID0gdGFyZ2V0RWwgPyAoKSA9PiB0aGlzLnB1dFJlZihbdGFyZ2V0RWxdLCBcImNsaWNrXCIpIDogbnVsbFxuICAgIGxldCBmYWxsYmFjayA9ICgpID0+IHRoaXMubGl2ZVNvY2tldC5yZWRpcmVjdCh3aW5kb3cubG9jYXRpb24uaHJlZilcblxuICAgIGxldCBwdXNoID0gdGhpcy5wdXNoV2l0aFJlcGx5KHJlZkdlbiwgXCJsaXZlX3BhdGNoXCIsIHt1cmw6IGhyZWZ9LCByZXNwID0+IHtcbiAgICAgIHRoaXMubGl2ZVNvY2tldC5yZXF1ZXN0RE9NVXBkYXRlKCgpID0+IHtcbiAgICAgICAgaWYocmVzcC5saW5rX3JlZGlyZWN0KXtcbiAgICAgICAgICB0aGlzLmxpdmVTb2NrZXQucmVwbGFjZU1haW4oaHJlZiwgbnVsbCwgY2FsbGJhY2ssIGxpbmtSZWYpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYodGhpcy5saXZlU29ja2V0LmNvbW1pdFBlbmRpbmdMaW5rKGxpbmtSZWYpKXtcbiAgICAgICAgICAgIHRoaXMuaHJlZiA9IGhyZWZcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5hcHBseVBlbmRpbmdVcGRhdGVzKClcbiAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhsaW5rUmVmKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0pXG5cbiAgICBpZihwdXNoKXtcbiAgICAgIHB1c2gucmVjZWl2ZShcInRpbWVvdXRcIiwgZmFsbGJhY2spXG4gICAgfSBlbHNlIHtcbiAgICAgIGZhbGxiYWNrKClcbiAgICB9XG4gIH1cblxuICBmb3Jtc0ZvclJlY292ZXJ5KGh0bWwpe1xuICAgIGlmKHRoaXMuam9pbkNvdW50ID09PSAwKXsgcmV0dXJuIFtdIH1cblxuICAgIGxldCBwaHhDaGFuZ2UgPSB0aGlzLmJpbmRpbmcoXCJjaGFuZ2VcIilcbiAgICBsZXQgdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGVtcGxhdGVcIilcbiAgICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSBodG1sXG5cbiAgICByZXR1cm4gKFxuICAgICAgRE9NLmFsbCh0aGlzLmVsLCBgZm9ybVske3BoeENoYW5nZX1dYClcbiAgICAgICAgLmZpbHRlcihmb3JtID0+IGZvcm0uaWQgJiYgdGhpcy5vd25zRWxlbWVudChmb3JtKSlcbiAgICAgICAgLmZpbHRlcihmb3JtID0+IGZvcm0uZWxlbWVudHMubGVuZ3RoID4gMClcbiAgICAgICAgLmZpbHRlcihmb3JtID0+IGZvcm0uZ2V0QXR0cmlidXRlKHRoaXMuYmluZGluZyhQSFhfQVVUT19SRUNPVkVSKSkgIT09IFwiaWdub3JlXCIpXG4gICAgICAgIC5tYXAoZm9ybSA9PiB7XG4gICAgICAgICAgbGV0IG5ld0Zvcm0gPSB0ZW1wbGF0ZS5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoYGZvcm1baWQ9XCIke2Zvcm0uaWR9XCJdWyR7cGh4Q2hhbmdlfT1cIiR7Zm9ybS5nZXRBdHRyaWJ1dGUocGh4Q2hhbmdlKX1cIl1gKVxuICAgICAgICAgIGlmKG5ld0Zvcm0pe1xuICAgICAgICAgICAgcmV0dXJuIFtmb3JtLCBuZXdGb3JtLCB0aGlzLnRhcmdldENvbXBvbmVudElEKG5ld0Zvcm0pXVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gW2Zvcm0sIG51bGwsIG51bGxdXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuZmlsdGVyKChbZm9ybSwgbmV3Rm9ybSwgbmV3Q2lkXSkgPT4gbmV3Rm9ybSlcbiAgICApXG4gIH1cblxuICBtYXliZVB1c2hDb21wb25lbnRzRGVzdHJveWVkKGRlc3Ryb3llZENJRHMpe1xuICAgIGxldCB3aWxsRGVzdHJveUNJRHMgPSBkZXN0cm95ZWRDSURzLmZpbHRlcihjaWQgPT4ge1xuICAgICAgcmV0dXJuIERPTS5maW5kQ29tcG9uZW50Tm9kZUxpc3QodGhpcy5lbCwgY2lkKS5sZW5ndGggPT09IDBcbiAgICB9KVxuICAgIGlmKHdpbGxEZXN0cm95Q0lEcy5sZW5ndGggPiAwKXtcbiAgICAgIHRoaXMucHJ1bmluZ0NJRHMucHVzaCguLi53aWxsRGVzdHJveUNJRHMpXG5cbiAgICAgIHRoaXMucHVzaFdpdGhSZXBseShudWxsLCBcImNpZHNfd2lsbF9kZXN0cm95XCIsIHtjaWRzOiB3aWxsRGVzdHJveUNJRHN9LCAoKSA9PiB7XG4gICAgICAgIC8vIFRoZSBjaWRzIGFyZSBlaXRoZXIgYmFjayBvbiB0aGUgcGFnZSBvciB0aGV5IHdpbGwgYmUgZnVsbHkgcmVtb3ZlZCxcbiAgICAgICAgLy8gc28gd2UgY2FuIHJlbW92ZSB0aGVtIGZyb20gdGhlIHBydW5pbmdDSURzLlxuICAgICAgICB0aGlzLnBydW5pbmdDSURzID0gdGhpcy5wcnVuaW5nQ0lEcy5maWx0ZXIoY2lkID0+IHdpbGxEZXN0cm95Q0lEcy5pbmRleE9mKGNpZCkgIT09IC0xKVxuXG4gICAgICAgIC8vIFNlZSBpZiBhbnkgb2YgdGhlIGNpZHMgd2Ugd2FudGVkIHRvIGRlc3Ryb3kgd2VyZSBhZGRlZCBiYWNrLFxuICAgICAgICAvLyBpZiB0aGV5IHdlcmUgYWRkZWQgYmFjaywgd2UgZG9uJ3QgYWN0dWFsbHkgZGVzdHJveSB0aGVtLlxuICAgICAgICBsZXQgY29tcGxldGVseURlc3Ryb3lDSURzID0gd2lsbERlc3Ryb3lDSURzLmZpbHRlcihjaWQgPT4ge1xuICAgICAgICAgIHJldHVybiBET00uZmluZENvbXBvbmVudE5vZGVMaXN0KHRoaXMuZWwsIGNpZCkubGVuZ3RoID09PSAwXG4gICAgICAgIH0pXG5cbiAgICAgICAgaWYoY29tcGxldGVseURlc3Ryb3lDSURzLmxlbmd0aCA+IDApe1xuICAgICAgICAgIHRoaXMucHVzaFdpdGhSZXBseShudWxsLCBcImNpZHNfZGVzdHJveWVkXCIsIHtjaWRzOiBjb21wbGV0ZWx5RGVzdHJveUNJRHN9LCAocmVzcCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlZC5wcnVuZUNJRHMocmVzcC5jaWRzKVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgb3duc0VsZW1lbnQoZWwpe1xuICAgIHJldHVybiB0aGlzLmlzRGVhZCB8fCBlbC5nZXRBdHRyaWJ1dGUoUEhYX1BBUkVOVF9JRCkgPT09IHRoaXMuaWQgfHxcbiAgICAgIG1heWJlKGVsLmNsb3Nlc3QoUEhYX1ZJRVdfU0VMRUNUT1IpLCBub2RlID0+IG5vZGUuaWQpID09PSB0aGlzLmlkXG4gIH1cblxuICBzdWJtaXRGb3JtKGZvcm0sIHRhcmdldEN0eCwgcGh4RXZlbnQsIG9wdHMgPSB7fSl7XG4gICAgRE9NLnB1dFByaXZhdGUoZm9ybSwgUEhYX0hBU19TVUJNSVRURUQsIHRydWUpXG4gICAgbGV0IHBoeEZlZWRiYWNrID0gdGhpcy5saXZlU29ja2V0LmJpbmRpbmcoUEhYX0ZFRURCQUNLX0ZPUilcbiAgICBsZXQgaW5wdXRzID0gQXJyYXkuZnJvbShmb3JtLmVsZW1lbnRzKVxuICAgIHRoaXMubGl2ZVNvY2tldC5ibHVyQWN0aXZlRWxlbWVudCh0aGlzKVxuICAgIHRoaXMucHVzaEZvcm1TdWJtaXQoZm9ybSwgdGFyZ2V0Q3R4LCBwaHhFdmVudCwgb3B0cywgKCkgPT4ge1xuICAgICAgaW5wdXRzLmZvckVhY2goaW5wdXQgPT4gRE9NLnNob3dFcnJvcihpbnB1dCwgcGh4RmVlZGJhY2spKVxuICAgICAgdGhpcy5saXZlU29ja2V0LnJlc3RvcmVQcmV2aW91c2x5QWN0aXZlRm9jdXMoKVxuICAgIH0pXG4gIH1cblxuICBiaW5kaW5nKGtpbmQpeyByZXR1cm4gdGhpcy5saXZlU29ja2V0LmJpbmRpbmcoa2luZCkgfVxufVxuIiwgIi8qKiBJbml0aWFsaXplcyB0aGUgTGl2ZVNvY2tldFxuICpcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gZW5kUG9pbnQgLSBUaGUgc3RyaW5nIFdlYlNvY2tldCBlbmRwb2ludCwgaWUsIGBcIndzczovL2V4YW1wbGUuY29tL2xpdmVcImAsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYFwiL2xpdmVcImAgKGluaGVyaXRlZCBob3N0ICYgcHJvdG9jb2wpXG4gKiBAcGFyYW0ge1Bob2VuaXguU29ja2V0fSBzb2NrZXQgLSB0aGUgcmVxdWlyZWQgUGhvZW5peCBTb2NrZXQgY2xhc3MgaW1wb3J0ZWQgZnJvbSBcInBob2VuaXhcIi4gRm9yIGV4YW1wbGU6XG4gKlxuICogICAgIGltcG9ydCB7U29ja2V0fSBmcm9tIFwicGhvZW5peFwiXG4gKiAgICAgaW1wb3J0IHtMaXZlU29ja2V0fSBmcm9tIFwicGhvZW5peF9saXZlX3ZpZXdcIlxuICogICAgIGxldCBsaXZlU29ja2V0ID0gbmV3IExpdmVTb2NrZXQoXCIvbGl2ZVwiLCBTb2NrZXQsIHsuLi59KVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0c10gLSBPcHRpb25hbCBjb25maWd1cmF0aW9uLiBPdXRzaWRlIG9mIGtleXMgbGlzdGVkIGJlbG93LCBhbGxcbiAqIGNvbmZpZ3VyYXRpb24gaXMgcGFzc2VkIGRpcmVjdGx5IHRvIHRoZSBQaG9lbml4IFNvY2tldCBjb25zdHJ1Y3Rvci5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0cy5kZWZhdWx0c10gLSBUaGUgb3B0aW9uYWwgZGVmYXVsdHMgdG8gdXNlIGZvciB2YXJpb3VzIGJpbmRpbmdzLFxuICogc3VjaCBhcyBgcGh4LWRlYm91bmNlYC4gU3VwcG9ydHMgdGhlIGZvbGxvd2luZyBrZXlzOlxuICpcbiAqICAgLSBkZWJvdW5jZSAtIHRoZSBtaWxsaXNlY29uZCBwaHgtZGVib3VuY2UgdGltZS4gRGVmYXVsdHMgMzAwXG4gKiAgIC0gdGhyb3R0bGUgLSB0aGUgbWlsbGlzZWNvbmQgcGh4LXRocm90dGxlIHRpbWUuIERlZmF1bHRzIDMwMFxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRzLnBhcmFtc10gLSBUaGUgb3B0aW9uYWwgZnVuY3Rpb24gZm9yIHBhc3NpbmcgY29ubmVjdCBwYXJhbXMuXG4gKiBUaGUgZnVuY3Rpb24gcmVjZWl2ZXMgdGhlIGVsZW1lbnQgYXNzb2NpYXRlZCB3aXRoIGEgZ2l2ZW4gTGl2ZVZpZXcuIEZvciBleGFtcGxlOlxuICpcbiAqICAgICAoZWwpID0+IHt2aWV3OiBlbC5nZXRBdHRyaWJ1dGUoXCJkYXRhLW15LXZpZXctbmFtZVwiLCB0b2tlbjogd2luZG93Lm15VG9rZW59XG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLmJpbmRpbmdQcmVmaXhdIC0gVGhlIG9wdGlvbmFsIHByZWZpeCB0byB1c2UgZm9yIGFsbCBwaHggRE9NIGFubm90YXRpb25zLlxuICogRGVmYXVsdHMgdG8gXCJwaHgtXCIuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdHMuaG9va3NdIC0gVGhlIG9wdGlvbmFsIG9iamVjdCBmb3IgcmVmZXJlbmNpbmcgTGl2ZVZpZXcgaG9vayBjYWxsYmFja3MuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdHMudXBsb2FkZXJzXSAtIFRoZSBvcHRpb25hbCBvYmplY3QgZm9yIHJlZmVyZW5jaW5nIExpdmVWaWV3IHVwbG9hZGVyIGNhbGxiYWNrcy5cbiAqIEBwYXJhbSB7aW50ZWdlcn0gW29wdHMubG9hZGVyVGltZW91dF0gLSBUaGUgb3B0aW9uYWwgZGVsYXkgaW4gbWlsbGlzZWNvbmRzIHRvIHdhaXQgYmVmb3JlIGFwcGx5XG4gKiBsb2FkaW5nIHN0YXRlcy5cbiAqIEBwYXJhbSB7aW50ZWdlcn0gW29wdHMubWF4UmVsb2Fkc10gLSBUaGUgbWF4aW11bSByZWxvYWRzIGJlZm9yZSBlbnRlcmluZyBmYWlsc2FmZSBtb2RlLlxuICogQHBhcmFtIHtpbnRlZ2VyfSBbb3B0cy5yZWxvYWRKaXR0ZXJNaW5dIC0gVGhlIG1pbmltdW0gdGltZSBiZXR3ZWVuIG5vcm1hbCByZWxvYWQgYXR0ZW1wdHMuXG4gKiBAcGFyYW0ge2ludGVnZXJ9IFtvcHRzLnJlbG9hZEppdHRlck1heF0gLSBUaGUgbWF4aW11bSB0aW1lIGJldHdlZW4gbm9ybWFsIHJlbG9hZCBhdHRlbXB0cy5cbiAqIEBwYXJhbSB7aW50ZWdlcn0gW29wdHMuZmFpbHNhZmVKaXR0ZXJdIC0gVGhlIHRpbWUgYmV0d2VlbiByZWxvYWQgYXR0ZW1wdHMgaW4gZmFpbHNhZmUgbW9kZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRzLnZpZXdMb2dnZXJdIC0gVGhlIG9wdGlvbmFsIGZ1bmN0aW9uIHRvIGxvZyBkZWJ1ZyBpbmZvcm1hdGlvbi4gRm9yIGV4YW1wbGU6XG4gKlxuICogICAgICh2aWV3LCBraW5kLCBtc2csIG9iaikgPT4gY29uc29sZS5sb2coYCR7dmlldy5pZH0gJHtraW5kfTogJHttc2d9IC0gYCwgb2JqKVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0cy5tZXRhZGF0YV0gLSBUaGUgb3B0aW9uYWwgb2JqZWN0IG1hcHBpbmcgZXZlbnQgbmFtZXMgdG8gZnVuY3Rpb25zIGZvclxuICogcG9wdWxhdGluZyBldmVudCBtZXRhZGF0YS4gRm9yIGV4YW1wbGU6XG4gKlxuICogICAgIG1ldGFkYXRhOiB7XG4gKiAgICAgICBjbGljazogKGUsIGVsKSA9PiB7XG4gKiAgICAgICAgIHJldHVybiB7XG4gKiAgICAgICAgICAgY3RybEtleTogZS5jdHJsS2V5LFxuICogICAgICAgICAgIG1ldGFLZXk6IGUubWV0YUtleSxcbiAqICAgICAgICAgICBkZXRhaWw6IGUuZGV0YWlsIHx8IDEsXG4gKiAgICAgICAgIH1cbiAqICAgICAgIH0sXG4gKiAgICAgICBrZXlkb3duOiAoZSwgZWwpID0+IHtcbiAqICAgICAgICAgcmV0dXJuIHtcbiAqICAgICAgICAgICBrZXk6IGUua2V5LFxuICogICAgICAgICAgIGN0cmxLZXk6IGUuY3RybEtleSxcbiAqICAgICAgICAgICBtZXRhS2V5OiBlLm1ldGFLZXksXG4gKiAgICAgICAgICAgc2hpZnRLZXk6IGUuc2hpZnRLZXlcbiAqICAgICAgICAgfVxuICogICAgICAgfVxuICogICAgIH1cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0cy5zZXNzaW9uU3RvcmFnZV0gLSBBbiBvcHRpb25hbCBTdG9yYWdlIGNvbXBhdGlibGUgb2JqZWN0XG4gKiBVc2VmdWwgd2hlbiBMaXZlVmlldyB3b24ndCBoYXZlIGFjY2VzcyB0byBgc2Vzc2lvblN0b3JhZ2VgLiAgRm9yIGV4YW1wbGUsIFRoaXMgY291bGRcbiAqIGhhcHBlbiBpZiBhIHNpdGUgbG9hZHMgYSBjcm9zcy1kb21haW4gTGl2ZVZpZXcgaW4gYW4gaWZyYW1lLiAgRXhhbXBsZSB1c2FnZTpcbiAqXG4gKiAgICAgY2xhc3MgSW5NZW1vcnlTdG9yYWdlIHtcbiAqICAgICAgIGNvbnN0cnVjdG9yKCkgeyB0aGlzLnN0b3JhZ2UgPSB7fSB9XG4gKiAgICAgICBnZXRJdGVtKGtleU5hbWUpIHsgcmV0dXJuIHRoaXMuc3RvcmFnZVtrZXlOYW1lXSB8fCBudWxsIH1cbiAqICAgICAgIHJlbW92ZUl0ZW0oa2V5TmFtZSkgeyBkZWxldGUgdGhpcy5zdG9yYWdlW2tleU5hbWVdIH1cbiAqICAgICAgIHNldEl0ZW0oa2V5TmFtZSwga2V5VmFsdWUpIHsgdGhpcy5zdG9yYWdlW2tleU5hbWVdID0ga2V5VmFsdWUgfVxuICogICAgIH1cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdHMubG9jYWxTdG9yYWdlXSAtIEFuIG9wdGlvbmFsIFN0b3JhZ2UgY29tcGF0aWJsZSBvYmplY3RcbiAqIFVzZWZ1bCBmb3Igd2hlbiBMaXZlVmlldyB3b24ndCBoYXZlIGFjY2VzcyB0byBgbG9jYWxTdG9yYWdlYC5cbiAqIFNlZSBgb3B0cy5zZXNzaW9uU3RvcmFnZWAgZm9yIGV4YW1wbGVzLlxuKi9cblxuaW1wb3J0IHtcbiAgQklORElOR19QUkVGSVgsXG4gIENPTlNFQ1VUSVZFX1JFTE9BRFMsXG4gIERFRkFVTFRTLFxuICBGQUlMU0FGRV9KSVRURVIsXG4gIExPQURFUl9USU1FT1VULFxuICBNQVhfUkVMT0FEUyxcbiAgUEhYX0RFQk9VTkNFLFxuICBQSFhfRFJPUF9UQVJHRVQsXG4gIFBIWF9IQVNfRk9DVVNFRCxcbiAgUEhYX0tFWSxcbiAgUEhYX0xJTktfU1RBVEUsXG4gIFBIWF9MSVZFX0xJTkssXG4gIFBIWF9MVl9ERUJVRyxcbiAgUEhYX0xWX0xBVEVOQ1lfU0lNLFxuICBQSFhfTFZfUFJPRklMRSxcbiAgUEhYX01BSU4sXG4gIFBIWF9QQVJFTlRfSUQsXG4gIFBIWF9WSUVXX1NFTEVDVE9SLFxuICBQSFhfUk9PVF9JRCxcbiAgUEhYX1RIUk9UVExFLFxuICBQSFhfVFJBQ0tfVVBMT0FEUyxcbiAgUEhYX1NFU1NJT04sXG4gIFJFTE9BRF9KSVRURVJfTUlOLFxuICBSRUxPQURfSklUVEVSX01BWCxcbn0gZnJvbSBcIi4vY29uc3RhbnRzXCJcblxuaW1wb3J0IHtcbiAgY2xvbmUsXG4gIGNsb3Nlc3RQaHhCaW5kaW5nLFxuICBjbG9zdXJlLFxuICBkZWJ1ZyxcbiAgaXNPYmplY3QsXG4gIG1heWJlXG59IGZyb20gXCIuL3V0aWxzXCJcblxuaW1wb3J0IEJyb3dzZXIgZnJvbSBcIi4vYnJvd3NlclwiXG5pbXBvcnQgRE9NIGZyb20gXCIuL2RvbVwiXG5pbXBvcnQgSG9va3MgZnJvbSBcIi4vaG9va3NcIlxuaW1wb3J0IExpdmVVcGxvYWRlciBmcm9tIFwiLi9saXZlX3VwbG9hZGVyXCJcbmltcG9ydCBWaWV3IGZyb20gXCIuL3ZpZXdcIlxuaW1wb3J0IEpTIGZyb20gXCIuL2pzXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGl2ZVNvY2tldCB7XG4gIGNvbnN0cnVjdG9yKHVybCwgcGh4U29ja2V0LCBvcHRzID0ge30pe1xuICAgIHRoaXMudW5sb2FkZWQgPSBmYWxzZVxuICAgIGlmKCFwaHhTb2NrZXQgfHwgcGh4U29ja2V0LmNvbnN0cnVjdG9yLm5hbWUgPT09IFwiT2JqZWN0XCIpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBcbiAgICAgIGEgcGhvZW5peCBTb2NrZXQgbXVzdCBiZSBwcm92aWRlZCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IHRvIHRoZSBMaXZlU29ja2V0IGNvbnN0cnVjdG9yLiBGb3IgZXhhbXBsZTpcblxuICAgICAgICAgIGltcG9ydCB7U29ja2V0fSBmcm9tIFwicGhvZW5peFwiXG4gICAgICAgICAgaW1wb3J0IHtMaXZlU29ja2V0fSBmcm9tIFwicGhvZW5peF9saXZlX3ZpZXdcIlxuICAgICAgICAgIGxldCBsaXZlU29ja2V0ID0gbmV3IExpdmVTb2NrZXQoXCIvbGl2ZVwiLCBTb2NrZXQsIHsuLi59KVxuICAgICAgYClcbiAgICB9XG4gICAgdGhpcy5zb2NrZXQgPSBuZXcgcGh4U29ja2V0KHVybCwgb3B0cylcbiAgICB0aGlzLmJpbmRpbmdQcmVmaXggPSBvcHRzLmJpbmRpbmdQcmVmaXggfHwgQklORElOR19QUkVGSVhcbiAgICB0aGlzLm9wdHMgPSBvcHRzXG4gICAgdGhpcy5wYXJhbXMgPSBjbG9zdXJlKG9wdHMucGFyYW1zIHx8IHt9KVxuICAgIHRoaXMudmlld0xvZ2dlciA9IG9wdHMudmlld0xvZ2dlclxuICAgIHRoaXMubWV0YWRhdGFDYWxsYmFja3MgPSBvcHRzLm1ldGFkYXRhIHx8IHt9XG4gICAgdGhpcy5kZWZhdWx0cyA9IE9iamVjdC5hc3NpZ24oY2xvbmUoREVGQVVMVFMpLCBvcHRzLmRlZmF1bHRzIHx8IHt9KVxuICAgIHRoaXMuYWN0aXZlRWxlbWVudCA9IG51bGxcbiAgICB0aGlzLnByZXZBY3RpdmUgPSBudWxsXG4gICAgdGhpcy5zaWxlbmNlZCA9IGZhbHNlXG4gICAgdGhpcy5tYWluID0gbnVsbFxuICAgIHRoaXMub3V0Z29pbmdNYWluRWwgPSBudWxsXG4gICAgdGhpcy5jbGlja1N0YXJ0ZWRBdFRhcmdldCA9IG51bGxcbiAgICB0aGlzLmxpbmtSZWYgPSAxXG4gICAgdGhpcy5yb290cyA9IHt9XG4gICAgdGhpcy5ocmVmID0gd2luZG93LmxvY2F0aW9uLmhyZWZcbiAgICB0aGlzLnBlbmRpbmdMaW5rID0gbnVsbFxuICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gY2xvbmUod2luZG93LmxvY2F0aW9uKVxuICAgIHRoaXMuaG9va3MgPSBvcHRzLmhvb2tzIHx8IHt9XG4gICAgdGhpcy51cGxvYWRlcnMgPSBvcHRzLnVwbG9hZGVycyB8fCB7fVxuICAgIHRoaXMubG9hZGVyVGltZW91dCA9IG9wdHMubG9hZGVyVGltZW91dCB8fCBMT0FERVJfVElNRU9VVFxuICAgIHRoaXMucmVsb2FkV2l0aEppdHRlclRpbWVyID0gbnVsbFxuICAgIHRoaXMubWF4UmVsb2FkcyA9IG9wdHMubWF4UmVsb2FkcyB8fCBNQVhfUkVMT0FEU1xuICAgIHRoaXMucmVsb2FkSml0dGVyTWluID0gb3B0cy5yZWxvYWRKaXR0ZXJNaW4gfHwgUkVMT0FEX0pJVFRFUl9NSU5cbiAgICB0aGlzLnJlbG9hZEppdHRlck1heCA9IG9wdHMucmVsb2FkSml0dGVyTWF4IHx8IFJFTE9BRF9KSVRURVJfTUFYXG4gICAgdGhpcy5mYWlsc2FmZUppdHRlciA9IG9wdHMuZmFpbHNhZmVKaXR0ZXIgfHwgRkFJTFNBRkVfSklUVEVSXG4gICAgdGhpcy5sb2NhbFN0b3JhZ2UgPSBvcHRzLmxvY2FsU3RvcmFnZSB8fCB3aW5kb3cubG9jYWxTdG9yYWdlXG4gICAgdGhpcy5zZXNzaW9uU3RvcmFnZSA9IG9wdHMuc2Vzc2lvblN0b3JhZ2UgfHwgd2luZG93LnNlc3Npb25TdG9yYWdlXG4gICAgdGhpcy5ib3VuZFRvcExldmVsRXZlbnRzID0gZmFsc2VcbiAgICB0aGlzLmRvbUNhbGxiYWNrcyA9IE9iamVjdC5hc3NpZ24oe29uTm9kZUFkZGVkOiBjbG9zdXJlKCksIG9uQmVmb3JlRWxVcGRhdGVkOiBjbG9zdXJlKCl9LCBvcHRzLmRvbSB8fCB7fSlcbiAgICB0aGlzLnRyYW5zaXRpb25zID0gbmV3IFRyYW5zaXRpb25TZXQoKVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicGFnZWhpZGVcIiwgX2UgPT4ge1xuICAgICAgdGhpcy51bmxvYWRlZCA9IHRydWVcbiAgICB9KVxuICAgIHRoaXMuc29ja2V0Lm9uT3BlbigoKSA9PiB7XG4gICAgICBpZih0aGlzLmlzVW5sb2FkZWQoKSl7XG4gICAgICAgIC8vIHJlbG9hZCBwYWdlIGlmIGJlaW5nIHJlc3RvcmVkIGZyb20gYmFjay9mb3J3YXJkIGNhY2hlIGFuZCBicm93c2VyIGRvZXMgbm90IGVtaXQgXCJwYWdlc2hvd1wiXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICAvLyBwdWJsaWNcblxuICBpc1Byb2ZpbGVFbmFibGVkKCl7IHJldHVybiB0aGlzLnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oUEhYX0xWX1BST0ZJTEUpID09PSBcInRydWVcIiB9XG5cbiAgaXNEZWJ1Z0VuYWJsZWQoKXsgcmV0dXJuIHRoaXMuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShQSFhfTFZfREVCVUcpID09PSBcInRydWVcIiB9XG5cbiAgaXNEZWJ1Z0Rpc2FibGVkKCl7IHJldHVybiB0aGlzLnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oUEhYX0xWX0RFQlVHKSA9PT0gXCJmYWxzZVwiIH1cblxuICBlbmFibGVEZWJ1ZygpeyB0aGlzLnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oUEhYX0xWX0RFQlVHLCBcInRydWVcIikgfVxuXG4gIGVuYWJsZVByb2ZpbGluZygpeyB0aGlzLnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oUEhYX0xWX1BST0ZJTEUsIFwidHJ1ZVwiKSB9XG5cbiAgZGlzYWJsZURlYnVnKCl7IHRoaXMuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShQSFhfTFZfREVCVUcsIFwiZmFsc2VcIikgfVxuXG4gIGRpc2FibGVQcm9maWxpbmcoKXsgdGhpcy5zZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKFBIWF9MVl9QUk9GSUxFKSB9XG5cbiAgZW5hYmxlTGF0ZW5jeVNpbSh1cHBlckJvdW5kTXMpe1xuICAgIHRoaXMuZW5hYmxlRGVidWcoKVxuICAgIGNvbnNvbGUubG9nKFwibGF0ZW5jeSBzaW11bGF0b3IgZW5hYmxlZCBmb3IgdGhlIGR1cmF0aW9uIG9mIHRoaXMgYnJvd3NlciBzZXNzaW9uLiBDYWxsIGRpc2FibGVMYXRlbmN5U2ltKCkgdG8gZGlzYWJsZVwiKVxuICAgIHRoaXMuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShQSFhfTFZfTEFURU5DWV9TSU0sIHVwcGVyQm91bmRNcylcbiAgfVxuXG4gIGRpc2FibGVMYXRlbmN5U2ltKCl7IHRoaXMuc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShQSFhfTFZfTEFURU5DWV9TSU0pIH1cblxuICBnZXRMYXRlbmN5U2ltKCl7XG4gICAgbGV0IHN0ciA9IHRoaXMuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShQSFhfTFZfTEFURU5DWV9TSU0pXG4gICAgcmV0dXJuIHN0ciA/IHBhcnNlSW50KHN0cikgOiBudWxsXG4gIH1cblxuICBnZXRTb2NrZXQoKXsgcmV0dXJuIHRoaXMuc29ja2V0IH1cblxuICBjb25uZWN0KCl7XG4gICAgLy8gZW5hYmxlIGRlYnVnIGJ5IGRlZmF1bHQgaWYgb24gbG9jYWxob3N0IGFuZCBub3QgZXhwbGljaXRseSBkaXNhYmxlZFxuICAgIGlmKHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSA9PT0gXCJsb2NhbGhvc3RcIiAmJiAhdGhpcy5pc0RlYnVnRGlzYWJsZWQoKSl7IHRoaXMuZW5hYmxlRGVidWcoKSB9XG4gICAgbGV0IGRvQ29ubmVjdCA9ICgpID0+IHtcbiAgICAgIGlmKHRoaXMuam9pblJvb3RWaWV3cygpKXtcbiAgICAgICAgdGhpcy5iaW5kVG9wTGV2ZWxFdmVudHMoKVxuICAgICAgICB0aGlzLnNvY2tldC5jb25uZWN0KClcbiAgICAgIH0gZWxzZSBpZih0aGlzLm1haW4pe1xuICAgICAgICB0aGlzLnNvY2tldC5jb25uZWN0KClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuam9pbkRlYWRWaWV3KClcbiAgICAgIH1cbiAgICB9XG4gICAgaWYoW1wiY29tcGxldGVcIiwgXCJsb2FkZWRcIiwgXCJpbnRlcmFjdGl2ZVwiXS5pbmRleE9mKGRvY3VtZW50LnJlYWR5U3RhdGUpID49IDApe1xuICAgICAgZG9Db25uZWN0KClcbiAgICB9IGVsc2Uge1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4gZG9Db25uZWN0KCkpXG4gICAgfVxuICB9XG5cbiAgZGlzY29ubmVjdChjYWxsYmFjayl7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMucmVsb2FkV2l0aEppdHRlclRpbWVyKVxuICAgIHRoaXMuc29ja2V0LmRpc2Nvbm5lY3QoY2FsbGJhY2spXG4gIH1cblxuICByZXBsYWNlVHJhbnNwb3J0KHRyYW5zcG9ydCl7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMucmVsb2FkV2l0aEppdHRlclRpbWVyKVxuICAgIHRoaXMuc29ja2V0LnJlcGxhY2VUcmFuc3BvcnQodHJhbnNwb3J0KVxuICAgIHRoaXMuY29ubmVjdCgpXG4gIH1cblxuICBleGVjSlMoZWwsIGVuY29kZWRKUywgZXZlbnRUeXBlID0gbnVsbCl7XG4gICAgdGhpcy5vd25lcihlbCwgdmlldyA9PiBKUy5leGVjKGV2ZW50VHlwZSwgZW5jb2RlZEpTLCB2aWV3LCBlbCkpXG4gIH1cblxuICAvLyBwcml2YXRlXG5cbiAgdHJpZ2dlckRPTShraW5kLCBhcmdzKXsgdGhpcy5kb21DYWxsYmFja3Nba2luZF0oLi4uYXJncykgfVxuXG4gIHRpbWUobmFtZSwgZnVuYyl7XG4gICAgaWYoIXRoaXMuaXNQcm9maWxlRW5hYmxlZCgpIHx8ICFjb25zb2xlLnRpbWUpeyByZXR1cm4gZnVuYygpIH1cbiAgICBjb25zb2xlLnRpbWUobmFtZSlcbiAgICBsZXQgcmVzdWx0ID0gZnVuYygpXG4gICAgY29uc29sZS50aW1lRW5kKG5hbWUpXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgbG9nKHZpZXcsIGtpbmQsIG1zZ0NhbGxiYWNrKXtcbiAgICBpZih0aGlzLnZpZXdMb2dnZXIpe1xuICAgICAgbGV0IFttc2csIG9ial0gPSBtc2dDYWxsYmFjaygpXG4gICAgICB0aGlzLnZpZXdMb2dnZXIodmlldywga2luZCwgbXNnLCBvYmopXG4gICAgfSBlbHNlIGlmKHRoaXMuaXNEZWJ1Z0VuYWJsZWQoKSl7XG4gICAgICBsZXQgW21zZywgb2JqXSA9IG1zZ0NhbGxiYWNrKClcbiAgICAgIGRlYnVnKHZpZXcsIGtpbmQsIG1zZywgb2JqKVxuICAgIH1cbiAgfVxuXG4gIHJlcXVlc3RET01VcGRhdGUoY2FsbGJhY2spe1xuICAgIHRoaXMudHJhbnNpdGlvbnMuYWZ0ZXIoY2FsbGJhY2spXG4gIH1cblxuICB0cmFuc2l0aW9uKHRpbWUsIG9uU3RhcnQsIG9uRG9uZSA9IGZ1bmN0aW9uKCl7fSl7XG4gICAgdGhpcy50cmFuc2l0aW9ucy5hZGRUcmFuc2l0aW9uKHRpbWUsIG9uU3RhcnQsIG9uRG9uZSlcbiAgfVxuXG4gIG9uQ2hhbm5lbChjaGFubmVsLCBldmVudCwgY2Ipe1xuICAgIGNoYW5uZWwub24oZXZlbnQsIGRhdGEgPT4ge1xuICAgICAgbGV0IGxhdGVuY3kgPSB0aGlzLmdldExhdGVuY3lTaW0oKVxuICAgICAgaWYoIWxhdGVuY3kpe1xuICAgICAgICBjYihkYXRhKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiBjYihkYXRhKSwgbGF0ZW5jeSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgd3JhcFB1c2godmlldywgb3B0cywgcHVzaCl7XG4gICAgbGV0IGxhdGVuY3kgPSB0aGlzLmdldExhdGVuY3lTaW0oKVxuICAgIGxldCBvbGRKb2luQ291bnQgPSB2aWV3LmpvaW5Db3VudFxuICAgIGlmKCFsYXRlbmN5KXtcbiAgICAgIGlmKHRoaXMuaXNDb25uZWN0ZWQoKSAmJiBvcHRzLnRpbWVvdXQpe1xuICAgICAgICByZXR1cm4gcHVzaCgpLnJlY2VpdmUoXCJ0aW1lb3V0XCIsICgpID0+IHtcbiAgICAgICAgICBpZih2aWV3LmpvaW5Db3VudCA9PT0gb2xkSm9pbkNvdW50ICYmICF2aWV3LmlzRGVzdHJveWVkKCkpe1xuICAgICAgICAgICAgdGhpcy5yZWxvYWRXaXRoSml0dGVyKHZpZXcsICgpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5sb2codmlldywgXCJ0aW1lb3V0XCIsICgpID0+IFtcInJlY2VpdmVkIHRpbWVvdXQgd2hpbGUgY29tbXVuaWNhdGluZyB3aXRoIHNlcnZlci4gRmFsbGluZyBiYWNrIHRvIGhhcmQgcmVmcmVzaCBmb3IgcmVjb3ZlcnlcIl0pXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBwdXNoKClcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgZmFrZVB1c2ggPSB7XG4gICAgICByZWNlaXZlczogW10sXG4gICAgICByZWNlaXZlKGtpbmQsIGNiKXsgdGhpcy5yZWNlaXZlcy5wdXNoKFtraW5kLCBjYl0pIH1cbiAgICB9XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZih2aWV3LmlzRGVzdHJveWVkKCkpeyByZXR1cm4gfVxuICAgICAgZmFrZVB1c2gucmVjZWl2ZXMucmVkdWNlKChhY2MsIFtraW5kLCBjYl0pID0+IGFjYy5yZWNlaXZlKGtpbmQsIGNiKSwgcHVzaCgpKVxuICAgIH0sIGxhdGVuY3kpXG4gICAgcmV0dXJuIGZha2VQdXNoXG4gIH1cblxuICByZWxvYWRXaXRoSml0dGVyKHZpZXcsIGxvZyl7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMucmVsb2FkV2l0aEppdHRlclRpbWVyKVxuICAgIHRoaXMuZGlzY29ubmVjdCgpXG4gICAgbGV0IG1pbk1zID0gdGhpcy5yZWxvYWRKaXR0ZXJNaW5cbiAgICBsZXQgbWF4TXMgPSB0aGlzLnJlbG9hZEppdHRlck1heFxuICAgIGxldCBhZnRlck1zID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heE1zIC0gbWluTXMgKyAxKSkgKyBtaW5Nc1xuICAgIGxldCB0cmllcyA9IEJyb3dzZXIudXBkYXRlTG9jYWwodGhpcy5sb2NhbFN0b3JhZ2UsIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSwgQ09OU0VDVVRJVkVfUkVMT0FEUywgMCwgY291bnQgPT4gY291bnQgKyAxKVxuICAgIGlmKHRyaWVzID4gdGhpcy5tYXhSZWxvYWRzKXtcbiAgICAgIGFmdGVyTXMgPSB0aGlzLmZhaWxzYWZlSml0dGVyXG4gICAgfVxuICAgIHRoaXMucmVsb2FkV2l0aEppdHRlclRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAvLyBpZiB2aWV3IGhhcyByZWNvdmVyZWQsIHN1Y2ggYXMgdHJhbnNwb3J0IHJlcGxhY2VkLCB0aGVuIGNhbmNlbFxuICAgICAgaWYodmlldy5pc0Rlc3Ryb3llZCgpIHx8IHZpZXcuaXNDb25uZWN0ZWQoKSl7IHJldHVybiB9XG4gICAgICB2aWV3LmRlc3Ryb3koKVxuICAgICAgbG9nID8gbG9nKCkgOiB0aGlzLmxvZyh2aWV3LCBcImpvaW5cIiwgKCkgPT4gW2BlbmNvdW50ZXJlZCAke3RyaWVzfSBjb25zZWN1dGl2ZSByZWxvYWRzYF0pXG4gICAgICBpZih0cmllcyA+IHRoaXMubWF4UmVsb2Fkcyl7XG4gICAgICAgIHRoaXMubG9nKHZpZXcsIFwiam9pblwiLCAoKSA9PiBbYGV4Y2VlZGVkICR7dGhpcy5tYXhSZWxvYWRzfSBjb25zZWN1dGl2ZSByZWxvYWRzLiBFbnRlcmluZyBmYWlsc2FmZSBtb2RlYF0pXG4gICAgICB9XG4gICAgICBpZih0aGlzLmhhc1BlbmRpbmdMaW5rKCkpe1xuICAgICAgICB3aW5kb3cubG9jYXRpb24gPSB0aGlzLnBlbmRpbmdMaW5rXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKClcbiAgICAgIH1cbiAgICB9LCBhZnRlck1zKVxuICB9XG5cbiAgZ2V0SG9va0NhbGxiYWNrcyhuYW1lKXtcbiAgICByZXR1cm4gbmFtZSAmJiBuYW1lLnN0YXJ0c1dpdGgoXCJQaG9lbml4LlwiKSA/IEhvb2tzW25hbWUuc3BsaXQoXCIuXCIpWzFdXSA6IHRoaXMuaG9va3NbbmFtZV1cbiAgfVxuXG4gIGlzVW5sb2FkZWQoKXsgcmV0dXJuIHRoaXMudW5sb2FkZWQgfVxuXG4gIGlzQ29ubmVjdGVkKCl7IHJldHVybiB0aGlzLnNvY2tldC5pc0Nvbm5lY3RlZCgpIH1cblxuICBnZXRCaW5kaW5nUHJlZml4KCl7IHJldHVybiB0aGlzLmJpbmRpbmdQcmVmaXggfVxuXG4gIGJpbmRpbmcoa2luZCl7IHJldHVybiBgJHt0aGlzLmdldEJpbmRpbmdQcmVmaXgoKX0ke2tpbmR9YCB9XG5cbiAgY2hhbm5lbCh0b3BpYywgcGFyYW1zKXsgcmV0dXJuIHRoaXMuc29ja2V0LmNoYW5uZWwodG9waWMsIHBhcmFtcykgfVxuXG4gIGpvaW5EZWFkVmlldygpe1xuICAgIHRoaXMuYmluZFRvcExldmVsRXZlbnRzKHtkZWFkOiB0cnVlfSlcbiAgICBsZXQgdmlldyA9IHRoaXMubmV3Um9vdFZpZXcoZG9jdW1lbnQuYm9keSlcbiAgICB2aWV3LnNldEhyZWYodGhpcy5nZXRIcmVmKCkpXG4gICAgdmlldy5qb2luRGVhZCgpXG4gICAgdGhpcy5tYWluID0gdmlld1xuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gdmlldy5leGVjTmV3TW91bnRlZCgpKVxuICB9XG5cbiAgam9pblJvb3RWaWV3cygpe1xuICAgIGxldCByb290c0ZvdW5kID0gZmFsc2VcbiAgICBET00uYWxsKGRvY3VtZW50LCBgJHtQSFhfVklFV19TRUxFQ1RPUn06bm90KFske1BIWF9QQVJFTlRfSUR9XSlgLCByb290RWwgPT4ge1xuICAgICAgaWYoIXRoaXMuZ2V0Um9vdEJ5SWQocm9vdEVsLmlkKSl7XG4gICAgICAgIGxldCB2aWV3ID0gdGhpcy5uZXdSb290Vmlldyhyb290RWwpXG4gICAgICAgIHZpZXcuc2V0SHJlZih0aGlzLmdldEhyZWYoKSlcbiAgICAgICAgdmlldy5qb2luKClcbiAgICAgICAgaWYocm9vdEVsLmdldEF0dHJpYnV0ZShQSFhfTUFJTikpeyB0aGlzLm1haW4gPSB2aWV3IH1cbiAgICAgIH1cbiAgICAgIHJvb3RzRm91bmQgPSB0cnVlXG4gICAgfSlcbiAgICByZXR1cm4gcm9vdHNGb3VuZFxuICB9XG5cbiAgcmVkaXJlY3QodG8sIGZsYXNoKXtcbiAgICB0aGlzLmRpc2Nvbm5lY3QoKVxuICAgIEJyb3dzZXIucmVkaXJlY3QodG8sIGZsYXNoKVxuICB9XG5cbiAgcmVwbGFjZU1haW4oaHJlZiwgZmxhc2gsIGNhbGxiYWNrID0gbnVsbCwgbGlua1JlZiA9IHRoaXMuc2V0UGVuZGluZ0xpbmsoaHJlZikpe1xuICAgIGxldCBsaXZlUmVmZXJlciA9IHRoaXMuY3VycmVudExvY2F0aW9uLmhyZWZcbiAgICB0aGlzLm91dGdvaW5nTWFpbkVsID0gdGhpcy5vdXRnb2luZ01haW5FbCB8fCB0aGlzLm1haW4uZWxcbiAgICBsZXQgbmV3TWFpbkVsID0gRE9NLmNsb25lTm9kZSh0aGlzLm91dGdvaW5nTWFpbkVsLCBcIlwiKVxuICAgIHRoaXMubWFpbi5zaG93TG9hZGVyKHRoaXMubG9hZGVyVGltZW91dClcbiAgICB0aGlzLm1haW4uZGVzdHJveSgpXG5cbiAgICB0aGlzLm1haW4gPSB0aGlzLm5ld1Jvb3RWaWV3KG5ld01haW5FbCwgZmxhc2gsIGxpdmVSZWZlcmVyKVxuICAgIHRoaXMubWFpbi5zZXRSZWRpcmVjdChocmVmKVxuICAgIHRoaXMudHJhbnNpdGlvblJlbW92ZXMoKVxuICAgIHRoaXMubWFpbi5qb2luKChqb2luQ291bnQsIG9uRG9uZSkgPT4ge1xuICAgICAgaWYoam9pbkNvdW50ID09PSAxICYmIHRoaXMuY29tbWl0UGVuZGluZ0xpbmsobGlua1JlZikpe1xuICAgICAgICB0aGlzLnJlcXVlc3RET01VcGRhdGUoKCkgPT4ge1xuICAgICAgICAgIERPTS5maW5kUGh4U3RpY2t5KGRvY3VtZW50KS5mb3JFYWNoKGVsID0+IG5ld01haW5FbC5hcHBlbmRDaGlsZChlbCkpXG4gICAgICAgICAgdGhpcy5vdXRnb2luZ01haW5FbC5yZXBsYWNlV2l0aChuZXdNYWluRWwpXG4gICAgICAgICAgdGhpcy5vdXRnb2luZ01haW5FbCA9IG51bGxcbiAgICAgICAgICBjYWxsYmFjayAmJiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2FsbGJhY2spXG4gICAgICAgICAgb25Eb25lKClcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgdHJhbnNpdGlvblJlbW92ZXMoZWxlbWVudHMpe1xuICAgIGxldCByZW1vdmVBdHRyID0gdGhpcy5iaW5kaW5nKFwicmVtb3ZlXCIpXG4gICAgZWxlbWVudHMgPSBlbGVtZW50cyB8fCBET00uYWxsKGRvY3VtZW50LCBgWyR7cmVtb3ZlQXR0cn1dYClcbiAgICBlbGVtZW50cy5mb3JFYWNoKGVsID0+IHtcbiAgICAgIGlmKGRvY3VtZW50LmJvZHkuY29udGFpbnMoZWwpKXsgLy8gc2tpcCBjaGlsZHJlbiBhbHJlYWR5IHJlbW92ZWRcbiAgICAgICAgdGhpcy5leGVjSlMoZWwsIGVsLmdldEF0dHJpYnV0ZShyZW1vdmVBdHRyKSwgXCJyZW1vdmVcIilcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgaXNQaHhWaWV3KGVsKXsgcmV0dXJuIGVsLmdldEF0dHJpYnV0ZSAmJiBlbC5nZXRBdHRyaWJ1dGUoUEhYX1NFU1NJT04pICE9PSBudWxsIH1cblxuICBuZXdSb290VmlldyhlbCwgZmxhc2gsIGxpdmVSZWZlcmVyKXtcbiAgICBsZXQgdmlldyA9IG5ldyBWaWV3KGVsLCB0aGlzLCBudWxsLCBmbGFzaCwgbGl2ZVJlZmVyZXIpXG4gICAgdGhpcy5yb290c1t2aWV3LmlkXSA9IHZpZXdcbiAgICByZXR1cm4gdmlld1xuICB9XG5cbiAgb3duZXIoY2hpbGRFbCwgY2FsbGJhY2spe1xuICAgIGxldCB2aWV3ID0gbWF5YmUoY2hpbGRFbC5jbG9zZXN0KFBIWF9WSUVXX1NFTEVDVE9SKSwgZWwgPT4gdGhpcy5nZXRWaWV3QnlFbChlbCkpIHx8IHRoaXMubWFpblxuICAgIGlmKHZpZXcpeyBjYWxsYmFjayh2aWV3KSB9XG4gIH1cblxuICB3aXRoaW5Pd25lcnMoY2hpbGRFbCwgY2FsbGJhY2spe1xuICAgIHRoaXMub3duZXIoY2hpbGRFbCwgdmlldyA9PiBjYWxsYmFjayh2aWV3LCBjaGlsZEVsKSlcbiAgfVxuXG4gIGdldFZpZXdCeUVsKGVsKXtcbiAgICBsZXQgcm9vdElkID0gZWwuZ2V0QXR0cmlidXRlKFBIWF9ST09UX0lEKVxuICAgIHJldHVybiBtYXliZSh0aGlzLmdldFJvb3RCeUlkKHJvb3RJZCksIHJvb3QgPT4gcm9vdC5nZXREZXNjZW5kZW50QnlFbChlbCkpXG4gIH1cblxuICBnZXRSb290QnlJZChpZCl7IHJldHVybiB0aGlzLnJvb3RzW2lkXSB9XG5cbiAgZGVzdHJveUFsbFZpZXdzKCl7XG4gICAgZm9yKGxldCBpZCBpbiB0aGlzLnJvb3RzKXtcbiAgICAgIHRoaXMucm9vdHNbaWRdLmRlc3Ryb3koKVxuICAgICAgZGVsZXRlIHRoaXMucm9vdHNbaWRdXG4gICAgfVxuICAgIHRoaXMubWFpbiA9IG51bGxcbiAgfVxuXG4gIGRlc3Ryb3lWaWV3QnlFbChlbCl7XG4gICAgbGV0IHJvb3QgPSB0aGlzLmdldFJvb3RCeUlkKGVsLmdldEF0dHJpYnV0ZShQSFhfUk9PVF9JRCkpXG4gICAgaWYocm9vdCAmJiByb290LmlkID09PSBlbC5pZCl7XG4gICAgICByb290LmRlc3Ryb3koKVxuICAgICAgZGVsZXRlIHRoaXMucm9vdHNbcm9vdC5pZF1cbiAgICB9IGVsc2UgaWYocm9vdCl7XG4gICAgICByb290LmRlc3Ryb3lEZXNjZW5kZW50KGVsLmlkKVxuICAgIH1cbiAgfVxuXG4gIHNldEFjdGl2ZUVsZW1lbnQodGFyZ2V0KXtcbiAgICBpZih0aGlzLmFjdGl2ZUVsZW1lbnQgPT09IHRhcmdldCl7IHJldHVybiB9XG4gICAgdGhpcy5hY3RpdmVFbGVtZW50ID0gdGFyZ2V0XG4gICAgbGV0IGNhbmNlbCA9ICgpID0+IHtcbiAgICAgIGlmKHRhcmdldCA9PT0gdGhpcy5hY3RpdmVFbGVtZW50KXsgdGhpcy5hY3RpdmVFbGVtZW50ID0gbnVsbCB9XG4gICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcylcbiAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgdGhpcylcbiAgICB9XG4gICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIGNhbmNlbClcbiAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsIGNhbmNlbClcbiAgfVxuXG4gIGdldEFjdGl2ZUVsZW1lbnQoKXtcbiAgICBpZihkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBkb2N1bWVudC5ib2R5KXtcbiAgICAgIHJldHVybiB0aGlzLmFjdGl2ZUVsZW1lbnQgfHwgZG9jdW1lbnQuYWN0aXZlRWxlbWVudFxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBkb2N1bWVudC5hY3RpdmVFbGVtZW50IGNhbiBiZSBudWxsIGluIEludGVybmV0IEV4cGxvcmVyIDExXG4gICAgICByZXR1cm4gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCB8fCBkb2N1bWVudC5ib2R5XG4gICAgfVxuICB9XG5cbiAgZHJvcEFjdGl2ZUVsZW1lbnQodmlldyl7XG4gICAgaWYodGhpcy5wcmV2QWN0aXZlICYmIHZpZXcub3duc0VsZW1lbnQodGhpcy5wcmV2QWN0aXZlKSl7XG4gICAgICB0aGlzLnByZXZBY3RpdmUgPSBudWxsXG4gICAgfVxuICB9XG5cbiAgcmVzdG9yZVByZXZpb3VzbHlBY3RpdmVGb2N1cygpe1xuICAgIGlmKHRoaXMucHJldkFjdGl2ZSAmJiB0aGlzLnByZXZBY3RpdmUgIT09IGRvY3VtZW50LmJvZHkpe1xuICAgICAgdGhpcy5wcmV2QWN0aXZlLmZvY3VzKClcbiAgICB9XG4gIH1cblxuICBibHVyQWN0aXZlRWxlbWVudCgpe1xuICAgIHRoaXMucHJldkFjdGl2ZSA9IHRoaXMuZ2V0QWN0aXZlRWxlbWVudCgpXG4gICAgaWYodGhpcy5wcmV2QWN0aXZlICE9PSBkb2N1bWVudC5ib2R5KXsgdGhpcy5wcmV2QWN0aXZlLmJsdXIoKSB9XG4gIH1cblxuICBiaW5kVG9wTGV2ZWxFdmVudHMoe2RlYWR9ID0ge30pe1xuICAgIGlmKHRoaXMuYm91bmRUb3BMZXZlbEV2ZW50cyl7IHJldHVybiB9XG5cbiAgICB0aGlzLmJvdW5kVG9wTGV2ZWxFdmVudHMgPSB0cnVlXG4gICAgLy8gZW50ZXIgZmFpbHNhZmUgcmVsb2FkIGlmIHNlcnZlciBoYXMgZ29uZSBhd2F5IGludGVudGlvbmFsbHksIHN1Y2ggYXMgXCJkaXNjb25uZWN0XCIgYnJvYWRjYXN0XG4gICAgdGhpcy5zb2NrZXQub25DbG9zZShldmVudCA9PiB7XG4gICAgICBpZihldmVudCAmJiBldmVudC5jb2RlID09PSAxMDAwICYmIHRoaXMubWFpbil7XG4gICAgICAgIHRoaXMucmVsb2FkV2l0aEppdHRlcih0aGlzLm1haW4pXG4gICAgICB9XG4gICAgfSlcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKXsgfSkgLy8gZW5zdXJlIGFsbCBjbGljayBldmVudHMgYnViYmxlIGZvciBtb2JpbGUgU2FmYXJpXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwYWdlc2hvd1wiLCBlID0+IHtcbiAgICAgIGlmKGUucGVyc2lzdGVkKXsgLy8gcmVsb2FkIHBhZ2UgaWYgYmVpbmcgcmVzdG9yZWQgZnJvbSBiYWNrL2ZvcndhcmQgY2FjaGVcbiAgICAgICAgdGhpcy5nZXRTb2NrZXQoKS5kaXNjb25uZWN0KClcbiAgICAgICAgdGhpcy53aXRoUGFnZUxvYWRpbmcoe3RvOiB3aW5kb3cubG9jYXRpb24uaHJlZiwga2luZDogXCJyZWRpcmVjdFwifSlcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpXG4gICAgICB9XG4gICAgfSwgdHJ1ZSlcbiAgICBpZighZGVhZCl7IHRoaXMuYmluZE5hdigpIH1cbiAgICB0aGlzLmJpbmRDbGlja3MoKVxuICAgIGlmKCFkZWFkKXsgdGhpcy5iaW5kRm9ybXMoKSB9XG4gICAgdGhpcy5iaW5kKHtrZXl1cDogXCJrZXl1cFwiLCBrZXlkb3duOiBcImtleWRvd25cIn0sIChlLCB0eXBlLCB2aWV3LCB0YXJnZXRFbCwgcGh4RXZlbnQsIGV2ZW50VGFyZ2V0KSA9PiB7XG4gICAgICBsZXQgbWF0Y2hLZXkgPSB0YXJnZXRFbC5nZXRBdHRyaWJ1dGUodGhpcy5iaW5kaW5nKFBIWF9LRVkpKVxuICAgICAgbGV0IHByZXNzZWRLZXkgPSBlLmtleSAmJiBlLmtleS50b0xvd2VyQ2FzZSgpIC8vIGNocm9tZSBjbGlja2VkIGF1dG9jb21wbGV0ZXMgc2VuZCBhIGtleWRvd24gd2l0aG91dCBrZXlcbiAgICAgIGlmKG1hdGNoS2V5ICYmIG1hdGNoS2V5LnRvTG93ZXJDYXNlKCkgIT09IHByZXNzZWRLZXkpeyByZXR1cm4gfVxuXG4gICAgICBsZXQgZGF0YSA9IHtrZXk6IGUua2V5LCAuLi50aGlzLmV2ZW50TWV0YSh0eXBlLCBlLCB0YXJnZXRFbCl9XG4gICAgICBKUy5leGVjKHR5cGUsIHBoeEV2ZW50LCB2aWV3LCB0YXJnZXRFbCwgW1wicHVzaFwiLCB7ZGF0YX1dKVxuICAgIH0pXG4gICAgdGhpcy5iaW5kKHtibHVyOiBcImZvY3Vzb3V0XCIsIGZvY3VzOiBcImZvY3VzaW5cIn0sIChlLCB0eXBlLCB2aWV3LCB0YXJnZXRFbCwgcGh4RXZlbnQsIGV2ZW50VGFyZ2V0KSA9PiB7XG4gICAgICBpZighZXZlbnRUYXJnZXQpe1xuICAgICAgICBsZXQgZGF0YSA9IHtrZXk6IGUua2V5LCAuLi50aGlzLmV2ZW50TWV0YSh0eXBlLCBlLCB0YXJnZXRFbCl9XG4gICAgICAgIEpTLmV4ZWModHlwZSwgcGh4RXZlbnQsIHZpZXcsIHRhcmdldEVsLCBbXCJwdXNoXCIsIHtkYXRhfV0pXG4gICAgICB9XG4gICAgfSlcbiAgICB0aGlzLmJpbmQoe2JsdXI6IFwiYmx1clwiLCBmb2N1czogXCJmb2N1c1wifSwgKGUsIHR5cGUsIHZpZXcsIHRhcmdldEVsLCB0YXJnZXRDdHgsIHBoeEV2ZW50LCBwaHhUYXJnZXQpID0+IHtcbiAgICAgIC8vIGJsdXIgYW5kIGZvY3VzIGFyZSB0cmlnZ2VyZWQgb24gZG9jdW1lbnQgYW5kIHdpbmRvdy4gRGlzY2FyZCBvbmUgdG8gYXZvaWQgZHVwc1xuICAgICAgaWYocGh4VGFyZ2V0ID09PSBcIndpbmRvd1wiKXtcbiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLmV2ZW50TWV0YSh0eXBlLCBlLCB0YXJnZXRFbClcbiAgICAgICAgSlMuZXhlYyh0eXBlLCBwaHhFdmVudCwgdmlldywgdGFyZ2V0RWwsIFtcInB1c2hcIiwge2RhdGF9XSlcbiAgICAgIH1cbiAgICB9KVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ292ZXJcIiwgZSA9PiBlLnByZXZlbnREZWZhdWx0KCkpXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJkcm9wXCIsIGUgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICBsZXQgZHJvcFRhcmdldElkID0gbWF5YmUoY2xvc2VzdFBoeEJpbmRpbmcoZS50YXJnZXQsIHRoaXMuYmluZGluZyhQSFhfRFJPUF9UQVJHRVQpKSwgdHJ1ZVRhcmdldCA9PiB7XG4gICAgICAgIHJldHVybiB0cnVlVGFyZ2V0LmdldEF0dHJpYnV0ZSh0aGlzLmJpbmRpbmcoUEhYX0RST1BfVEFSR0VUKSlcbiAgICAgIH0pXG4gICAgICBsZXQgZHJvcFRhcmdldCA9IGRyb3BUYXJnZXRJZCAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkcm9wVGFyZ2V0SWQpXG4gICAgICBsZXQgZmlsZXMgPSBBcnJheS5mcm9tKGUuZGF0YVRyYW5zZmVyLmZpbGVzIHx8IFtdKVxuICAgICAgaWYoIWRyb3BUYXJnZXQgfHwgZHJvcFRhcmdldC5kaXNhYmxlZCB8fCBmaWxlcy5sZW5ndGggPT09IDAgfHwgIShkcm9wVGFyZ2V0LmZpbGVzIGluc3RhbmNlb2YgRmlsZUxpc3QpKXsgcmV0dXJuIH1cblxuICAgICAgTGl2ZVVwbG9hZGVyLnRyYWNrRmlsZXMoZHJvcFRhcmdldCwgZmlsZXMpXG4gICAgICBkcm9wVGFyZ2V0LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KFwiaW5wdXRcIiwge2J1YmJsZXM6IHRydWV9KSlcbiAgICB9KVxuICAgIHRoaXMub24oUEhYX1RSQUNLX1VQTE9BRFMsIGUgPT4ge1xuICAgICAgbGV0IHVwbG9hZFRhcmdldCA9IGUudGFyZ2V0XG4gICAgICBpZighRE9NLmlzVXBsb2FkSW5wdXQodXBsb2FkVGFyZ2V0KSl7IHJldHVybiB9XG4gICAgICBsZXQgZmlsZXMgPSBBcnJheS5mcm9tKGUuZGV0YWlsLmZpbGVzIHx8IFtdKS5maWx0ZXIoZiA9PiBmIGluc3RhbmNlb2YgRmlsZSB8fCBmIGluc3RhbmNlb2YgQmxvYilcbiAgICAgIExpdmVVcGxvYWRlci50cmFja0ZpbGVzKHVwbG9hZFRhcmdldCwgZmlsZXMpXG4gICAgICB1cGxvYWRUYXJnZXQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJpbnB1dFwiLCB7YnViYmxlczogdHJ1ZX0pKVxuICAgIH0pXG4gIH1cblxuICBldmVudE1ldGEoZXZlbnROYW1lLCBlLCB0YXJnZXRFbCl7XG4gICAgbGV0IGNhbGxiYWNrID0gdGhpcy5tZXRhZGF0YUNhbGxiYWNrc1tldmVudE5hbWVdXG4gICAgcmV0dXJuIGNhbGxiYWNrID8gY2FsbGJhY2soZSwgdGFyZ2V0RWwpIDoge31cbiAgfVxuXG4gIHNldFBlbmRpbmdMaW5rKGhyZWYpe1xuICAgIHRoaXMubGlua1JlZisrXG4gICAgdGhpcy5wZW5kaW5nTGluayA9IGhyZWZcbiAgICByZXR1cm4gdGhpcy5saW5rUmVmXG4gIH1cblxuICBjb21taXRQZW5kaW5nTGluayhsaW5rUmVmKXtcbiAgICBpZih0aGlzLmxpbmtSZWYgIT09IGxpbmtSZWYpe1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaHJlZiA9IHRoaXMucGVuZGluZ0xpbmtcbiAgICAgIHRoaXMucGVuZGluZ0xpbmsgPSBudWxsXG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgfVxuXG4gIGdldEhyZWYoKXsgcmV0dXJuIHRoaXMuaHJlZiB9XG5cbiAgaGFzUGVuZGluZ0xpbmsoKXsgcmV0dXJuICEhdGhpcy5wZW5kaW5nTGluayB9XG5cbiAgYmluZChldmVudHMsIGNhbGxiYWNrKXtcbiAgICBmb3IobGV0IGV2ZW50IGluIGV2ZW50cyl7XG4gICAgICBsZXQgYnJvd3NlckV2ZW50TmFtZSA9IGV2ZW50c1tldmVudF1cblxuICAgICAgdGhpcy5vbihicm93c2VyRXZlbnROYW1lLCBlID0+IHtcbiAgICAgICAgbGV0IGJpbmRpbmcgPSB0aGlzLmJpbmRpbmcoZXZlbnQpXG4gICAgICAgIGxldCB3aW5kb3dCaW5kaW5nID0gdGhpcy5iaW5kaW5nKGB3aW5kb3ctJHtldmVudH1gKVxuICAgICAgICBsZXQgdGFyZ2V0UGh4RXZlbnQgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUgJiYgZS50YXJnZXQuZ2V0QXR0cmlidXRlKGJpbmRpbmcpXG4gICAgICAgIGlmKHRhcmdldFBoeEV2ZW50KXtcbiAgICAgICAgICB0aGlzLmRlYm91bmNlKGUudGFyZ2V0LCBlLCBicm93c2VyRXZlbnROYW1lLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLndpdGhpbk93bmVycyhlLnRhcmdldCwgdmlldyA9PiB7XG4gICAgICAgICAgICAgIGNhbGxiYWNrKGUsIGV2ZW50LCB2aWV3LCBlLnRhcmdldCwgdGFyZ2V0UGh4RXZlbnQsIG51bGwpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgRE9NLmFsbChkb2N1bWVudCwgYFske3dpbmRvd0JpbmRpbmd9XWAsIGVsID0+IHtcbiAgICAgICAgICAgIGxldCBwaHhFdmVudCA9IGVsLmdldEF0dHJpYnV0ZSh3aW5kb3dCaW5kaW5nKVxuICAgICAgICAgICAgdGhpcy5kZWJvdW5jZShlbCwgZSwgYnJvd3NlckV2ZW50TmFtZSwgKCkgPT4ge1xuICAgICAgICAgICAgICB0aGlzLndpdGhpbk93bmVycyhlbCwgdmlldyA9PiB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZSwgZXZlbnQsIHZpZXcsIGVsLCBwaHhFdmVudCwgXCJ3aW5kb3dcIilcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBiaW5kQ2xpY2tzKCl7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgZSA9PiB0aGlzLmNsaWNrU3RhcnRlZEF0VGFyZ2V0ID0gZS50YXJnZXQpXG4gICAgdGhpcy5iaW5kQ2xpY2soXCJjbGlja1wiLCBcImNsaWNrXCIsIGZhbHNlKVxuICAgIHRoaXMuYmluZENsaWNrKFwibW91c2Vkb3duXCIsIFwiY2FwdHVyZS1jbGlja1wiLCB0cnVlKVxuICB9XG5cbiAgYmluZENsaWNrKGV2ZW50TmFtZSwgYmluZGluZ05hbWUsIGNhcHR1cmUpe1xuICAgIGxldCBjbGljayA9IHRoaXMuYmluZGluZyhiaW5kaW5nTmFtZSlcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGUgPT4ge1xuICAgICAgbGV0IHRhcmdldCA9IG51bGxcbiAgICAgIGlmKGNhcHR1cmUpe1xuICAgICAgICB0YXJnZXQgPSBlLnRhcmdldC5tYXRjaGVzKGBbJHtjbGlja31dYCkgPyBlLnRhcmdldCA6IGUudGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoYFske2NsaWNrfV1gKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IGNsaWNrU3RhcnRlZEF0VGFyZ2V0ID0gdGhpcy5jbGlja1N0YXJ0ZWRBdFRhcmdldCB8fCBlLnRhcmdldFxuICAgICAgICB0YXJnZXQgPSBjbG9zZXN0UGh4QmluZGluZyhjbGlja1N0YXJ0ZWRBdFRhcmdldCwgY2xpY2spXG4gICAgICAgIHRoaXMuZGlzcGF0Y2hDbGlja0F3YXkoZSwgY2xpY2tTdGFydGVkQXRUYXJnZXQpXG4gICAgICAgIHRoaXMuY2xpY2tTdGFydGVkQXRUYXJnZXQgPSBudWxsXG4gICAgICB9XG4gICAgICBsZXQgcGh4RXZlbnQgPSB0YXJnZXQgJiYgdGFyZ2V0LmdldEF0dHJpYnV0ZShjbGljaylcbiAgICAgIGlmKCFwaHhFdmVudCl7IHJldHVybiB9XG4gICAgICBpZih0YXJnZXQuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKSA9PT0gXCIjXCIpeyBlLnByZXZlbnREZWZhdWx0KCkgfVxuXG4gICAgICB0aGlzLmRlYm91bmNlKHRhcmdldCwgZSwgXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMud2l0aGluT3duZXJzKHRhcmdldCwgdmlldyA9PiB7XG4gICAgICAgICAgSlMuZXhlYyhcImNsaWNrXCIsIHBoeEV2ZW50LCB2aWV3LCB0YXJnZXQsIFtcInB1c2hcIiwge2RhdGE6IHRoaXMuZXZlbnRNZXRhKFwiY2xpY2tcIiwgZSwgdGFyZ2V0KX1dKVxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9LCBjYXB0dXJlKVxuICB9XG5cbiAgZGlzcGF0Y2hDbGlja0F3YXkoZSwgY2xpY2tTdGFydGVkQXQpe1xuICAgIGxldCBwaHhDbGlja0F3YXkgPSB0aGlzLmJpbmRpbmcoXCJjbGljay1hd2F5XCIpXG4gICAgRE9NLmFsbChkb2N1bWVudCwgYFske3BoeENsaWNrQXdheX1dYCwgZWwgPT4ge1xuICAgICAgaWYoIShlbC5pc1NhbWVOb2RlKGNsaWNrU3RhcnRlZEF0KSB8fCBlbC5jb250YWlucyhjbGlja1N0YXJ0ZWRBdCkpKXtcbiAgICAgICAgdGhpcy53aXRoaW5Pd25lcnMoZS50YXJnZXQsIHZpZXcgPT4ge1xuICAgICAgICAgIGxldCBwaHhFdmVudCA9IGVsLmdldEF0dHJpYnV0ZShwaHhDbGlja0F3YXkpXG4gICAgICAgICAgaWYoSlMuaXNWaXNpYmxlKGVsKSl7XG4gICAgICAgICAgICBKUy5leGVjKFwiY2xpY2tcIiwgcGh4RXZlbnQsIHZpZXcsIGVsLCBbXCJwdXNoXCIsIHtkYXRhOiB0aGlzLmV2ZW50TWV0YShcImNsaWNrXCIsIGUsIGUudGFyZ2V0KX1dKVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgYmluZE5hdigpe1xuICAgIGlmKCFCcm93c2VyLmNhblB1c2hTdGF0ZSgpKXsgcmV0dXJuIH1cbiAgICBpZihoaXN0b3J5LnNjcm9sbFJlc3RvcmF0aW9uKXsgaGlzdG9yeS5zY3JvbGxSZXN0b3JhdGlvbiA9IFwibWFudWFsXCIgfVxuICAgIGxldCBzY3JvbGxUaW1lciA9IG51bGxcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBfZSA9PiB7XG4gICAgICBjbGVhclRpbWVvdXQoc2Nyb2xsVGltZXIpXG4gICAgICBzY3JvbGxUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBCcm93c2VyLnVwZGF0ZUN1cnJlbnRTdGF0ZShzdGF0ZSA9PiBPYmplY3QuYXNzaWduKHN0YXRlLCB7c2Nyb2xsOiB3aW5kb3cuc2Nyb2xsWX0pKVxuICAgICAgfSwgMTAwKVxuICAgIH0pXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwb3BzdGF0ZVwiLCBldmVudCA9PiB7XG4gICAgICBpZighdGhpcy5yZWdpc3Rlck5ld0xvY2F0aW9uKHdpbmRvdy5sb2NhdGlvbikpeyByZXR1cm4gfVxuICAgICAgbGV0IHt0eXBlLCBpZCwgcm9vdCwgc2Nyb2xsfSA9IGV2ZW50LnN0YXRlIHx8IHt9XG4gICAgICBsZXQgaHJlZiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmXG5cbiAgICAgIHRoaXMucmVxdWVzdERPTVVwZGF0ZSgoKSA9PiB7XG4gICAgICAgIGlmKHRoaXMubWFpbi5pc0Nvbm5lY3RlZCgpICYmICh0eXBlID09PSBcInBhdGNoXCIgJiYgaWQgPT09IHRoaXMubWFpbi5pZCkpe1xuICAgICAgICAgIHRoaXMubWFpbi5wdXNoTGlua1BhdGNoKGhyZWYsIG51bGwpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5yZXBsYWNlTWFpbihocmVmLCBudWxsLCAoKSA9PiB7XG4gICAgICAgICAgICBpZihyb290KXsgdGhpcy5yZXBsYWNlUm9vdEhpc3RvcnkoKSB9XG4gICAgICAgICAgICBpZih0eXBlb2Yoc2Nyb2xsKSA9PT0gXCJudW1iZXJcIil7XG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCBzY3JvbGwpXG4gICAgICAgICAgICAgIH0sIDApIC8vIHRoZSBib2R5IG5lZWRzIHRvIHJlbmRlciBiZWZvcmUgd2Ugc2Nyb2xsLlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSwgZmFsc2UpXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBlID0+IHtcbiAgICAgIGxldCB0YXJnZXQgPSBjbG9zZXN0UGh4QmluZGluZyhlLnRhcmdldCwgUEhYX0xJVkVfTElOSylcbiAgICAgIGxldCB0eXBlID0gdGFyZ2V0ICYmIHRhcmdldC5nZXRBdHRyaWJ1dGUoUEhYX0xJVkVfTElOSylcbiAgICAgIGxldCB3YW50c05ld1RhYiA9IGUubWV0YUtleSB8fCBlLmN0cmxLZXkgfHwgZS5idXR0b24gPT09IDFcbiAgICAgIGlmKCF0eXBlIHx8ICF0aGlzLmlzQ29ubmVjdGVkKCkgfHwgIXRoaXMubWFpbiB8fCB3YW50c05ld1RhYil7IHJldHVybiB9XG5cbiAgICAgIGxldCBocmVmID0gdGFyZ2V0LmhyZWZcbiAgICAgIGxldCBsaW5rU3RhdGUgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKFBIWF9MSU5LX1NUQVRFKVxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpIC8vIGRvIG5vdCBidWJibGUgY2xpY2sgdG8gcmVndWxhciBwaHgtY2xpY2sgYmluZGluZ3NcbiAgICAgIGlmKHRoaXMucGVuZGluZ0xpbmsgPT09IGhyZWYpeyByZXR1cm4gfVxuXG4gICAgICB0aGlzLnJlcXVlc3RET01VcGRhdGUoKCkgPT4ge1xuICAgICAgICBpZih0eXBlID09PSBcInBhdGNoXCIpe1xuICAgICAgICAgIHRoaXMucHVzaEhpc3RvcnlQYXRjaChocmVmLCBsaW5rU3RhdGUsIHRhcmdldClcbiAgICAgICAgfSBlbHNlIGlmKHR5cGUgPT09IFwicmVkaXJlY3RcIil7XG4gICAgICAgICAgdGhpcy5oaXN0b3J5UmVkaXJlY3QoaHJlZiwgbGlua1N0YXRlKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgZXhwZWN0ZWQgJHtQSFhfTElWRV9MSU5LfSB0byBiZSBcInBhdGNoXCIgb3IgXCJyZWRpcmVjdFwiLCBnb3Q6ICR7dHlwZX1gKVxuICAgICAgICB9XG4gICAgICAgIGxldCBwaHhDbGljayA9IHRhcmdldC5nZXRBdHRyaWJ1dGUodGhpcy5iaW5kaW5nKFwiY2xpY2tcIikpXG4gICAgICAgIGlmKHBoeENsaWNrKXtcbiAgICAgICAgICB0aGlzLnJlcXVlc3RET01VcGRhdGUoKCkgPT4gdGhpcy5leGVjSlModGFyZ2V0LCBwaHhDbGljaywgXCJjbGlja1wiKSlcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9LCBmYWxzZSlcbiAgfVxuXG4gIGRpc3BhdGNoRXZlbnQoZXZlbnQsIHBheWxvYWQgPSB7fSl7XG4gICAgRE9NLmRpc3BhdGNoRXZlbnQod2luZG93LCBgcGh4OiR7ZXZlbnR9YCwge2RldGFpbDogcGF5bG9hZH0pXG4gIH1cblxuICBkaXNwYXRjaEV2ZW50cyhldmVudHMpe1xuICAgIGV2ZW50cy5mb3JFYWNoKChbZXZlbnQsIHBheWxvYWRdKSA9PiB0aGlzLmRpc3BhdGNoRXZlbnQoZXZlbnQsIHBheWxvYWQpKVxuICB9XG5cbiAgd2l0aFBhZ2VMb2FkaW5nKGluZm8sIGNhbGxiYWNrKXtcbiAgICBET00uZGlzcGF0Y2hFdmVudCh3aW5kb3csIFwicGh4OnBhZ2UtbG9hZGluZy1zdGFydFwiLCB7ZGV0YWlsOiBpbmZvfSlcbiAgICBsZXQgZG9uZSA9ICgpID0+IERPTS5kaXNwYXRjaEV2ZW50KHdpbmRvdywgXCJwaHg6cGFnZS1sb2FkaW5nLXN0b3BcIiwge2RldGFpbDogaW5mb30pXG4gICAgcmV0dXJuIGNhbGxiYWNrID8gY2FsbGJhY2soZG9uZSkgOiBkb25lXG4gIH1cblxuICBwdXNoSGlzdG9yeVBhdGNoKGhyZWYsIGxpbmtTdGF0ZSwgdGFyZ2V0RWwpe1xuICAgIGlmKCF0aGlzLmlzQ29ubmVjdGVkKCkpeyByZXR1cm4gQnJvd3Nlci5yZWRpcmVjdChocmVmKSB9XG5cbiAgICB0aGlzLndpdGhQYWdlTG9hZGluZyh7dG86IGhyZWYsIGtpbmQ6IFwicGF0Y2hcIn0sIGRvbmUgPT4ge1xuICAgICAgdGhpcy5tYWluLnB1c2hMaW5rUGF0Y2goaHJlZiwgdGFyZ2V0RWwsIGxpbmtSZWYgPT4ge1xuICAgICAgICB0aGlzLmhpc3RvcnlQYXRjaChocmVmLCBsaW5rU3RhdGUsIGxpbmtSZWYpXG4gICAgICAgIGRvbmUoKVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgaGlzdG9yeVBhdGNoKGhyZWYsIGxpbmtTdGF0ZSwgbGlua1JlZiA9IHRoaXMuc2V0UGVuZGluZ0xpbmsoaHJlZikpe1xuICAgIGlmKCF0aGlzLmNvbW1pdFBlbmRpbmdMaW5rKGxpbmtSZWYpKXsgcmV0dXJuIH1cblxuICAgIEJyb3dzZXIucHVzaFN0YXRlKGxpbmtTdGF0ZSwge3R5cGU6IFwicGF0Y2hcIiwgaWQ6IHRoaXMubWFpbi5pZH0sIGhyZWYpXG4gICAgdGhpcy5yZWdpc3Rlck5ld0xvY2F0aW9uKHdpbmRvdy5sb2NhdGlvbilcbiAgfVxuXG4gIGhpc3RvcnlSZWRpcmVjdChocmVmLCBsaW5rU3RhdGUsIGZsYXNoKXtcbiAgICAvLyBjb252ZXJ0IHRvIGZ1bGwgaHJlZiBpZiBvbmx5IHBhdGggcHJlZml4XG4gICAgaWYoIXRoaXMuaXNDb25uZWN0ZWQoKSl7IHJldHVybiBCcm93c2VyLnJlZGlyZWN0KGhyZWYsIGZsYXNoKSB9XG4gICAgaWYoL15cXC9bXlxcL10rLiokLy50ZXN0KGhyZWYpKXtcbiAgICAgIGxldCB7cHJvdG9jb2wsIGhvc3R9ID0gd2luZG93LmxvY2F0aW9uXG4gICAgICBocmVmID0gYCR7cHJvdG9jb2x9Ly8ke2hvc3R9JHtocmVmfWBcbiAgICB9XG4gICAgbGV0IHNjcm9sbCA9IHdpbmRvdy5zY3JvbGxZXG4gICAgdGhpcy53aXRoUGFnZUxvYWRpbmcoe3RvOiBocmVmLCBraW5kOiBcInJlZGlyZWN0XCJ9LCBkb25lID0+IHtcbiAgICAgIHRoaXMucmVwbGFjZU1haW4oaHJlZiwgZmxhc2gsICgpID0+IHtcbiAgICAgICAgQnJvd3Nlci5wdXNoU3RhdGUobGlua1N0YXRlLCB7dHlwZTogXCJyZWRpcmVjdFwiLCBpZDogdGhpcy5tYWluLmlkLCBzY3JvbGw6IHNjcm9sbH0sIGhyZWYpXG4gICAgICAgIHRoaXMucmVnaXN0ZXJOZXdMb2NhdGlvbih3aW5kb3cubG9jYXRpb24pXG4gICAgICAgIGRvbmUoKVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgcmVwbGFjZVJvb3RIaXN0b3J5KCl7XG4gICAgQnJvd3Nlci5wdXNoU3RhdGUoXCJyZXBsYWNlXCIsIHtyb290OiB0cnVlLCB0eXBlOiBcInBhdGNoXCIsIGlkOiB0aGlzLm1haW4uaWR9KVxuICB9XG5cbiAgcmVnaXN0ZXJOZXdMb2NhdGlvbihuZXdMb2NhdGlvbil7XG4gICAgbGV0IHtwYXRobmFtZSwgc2VhcmNofSA9IHRoaXMuY3VycmVudExvY2F0aW9uXG4gICAgaWYocGF0aG5hbWUgKyBzZWFyY2ggPT09IG5ld0xvY2F0aW9uLnBhdGhuYW1lICsgbmV3TG9jYXRpb24uc2VhcmNoKXtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmN1cnJlbnRMb2NhdGlvbiA9IGNsb25lKG5ld0xvY2F0aW9uKVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gIH1cblxuICBiaW5kRm9ybXMoKXtcbiAgICBsZXQgaXRlcmF0aW9ucyA9IDBcbiAgICBsZXQgZXh0ZXJuYWxGb3JtU3VibWl0dGVkID0gZmFsc2VcblxuICAgIC8vIGRpc2FibGUgZm9ybXMgb24gc3VibWl0IHRoYXQgdHJhY2sgcGh4LWNoYW5nZSBidXQgcGVyZm9ybSBleHRlcm5hbCBzdWJtaXRcbiAgICB0aGlzLm9uKFwic3VibWl0XCIsIGUgPT4ge1xuICAgICAgbGV0IHBoeFN1Ym1pdCA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSh0aGlzLmJpbmRpbmcoXCJzdWJtaXRcIikpXG4gICAgICBsZXQgcGh4Q2hhbmdlID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKHRoaXMuYmluZGluZyhcImNoYW5nZVwiKSlcbiAgICAgIGlmKCFleHRlcm5hbEZvcm1TdWJtaXR0ZWQgJiYgcGh4Q2hhbmdlICYmICFwaHhTdWJtaXQpe1xuICAgICAgICBleHRlcm5hbEZvcm1TdWJtaXR0ZWQgPSB0cnVlXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICB0aGlzLndpdGhpbk93bmVycyhlLnRhcmdldCwgdmlldyA9PiB7XG4gICAgICAgICAgdmlldy5kaXNhYmxlRm9ybShlLnRhcmdldClcbiAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IGUudGFyZ2V0LnN1Ym1pdCgpKSAvLyBzYWZhcmkgbmVlZHMgbmV4dCB0aWNrXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSwgdHJ1ZSlcblxuICAgIHRoaXMub24oXCJzdWJtaXRcIiwgZSA9PiB7XG4gICAgICBsZXQgcGh4RXZlbnQgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUodGhpcy5iaW5kaW5nKFwic3VibWl0XCIpKVxuICAgICAgaWYoIXBoeEV2ZW50KXsgcmV0dXJuIH1cbiAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgZS50YXJnZXQuZGlzYWJsZWQgPSB0cnVlXG4gICAgICB0aGlzLndpdGhpbk93bmVycyhlLnRhcmdldCwgdmlldyA9PiB7XG4gICAgICAgIEpTLmV4ZWMoXCJzdWJtaXRcIiwgcGh4RXZlbnQsIHZpZXcsIGUudGFyZ2V0LCBbXCJwdXNoXCIsIHt9XSlcbiAgICAgIH0pXG4gICAgfSwgZmFsc2UpXG5cbiAgICBmb3IobGV0IHR5cGUgb2YgW1wiY2hhbmdlXCIsIFwiaW5wdXRcIl0pe1xuICAgICAgdGhpcy5vbih0eXBlLCBlID0+IHtcbiAgICAgICAgbGV0IHBoeENoYW5nZSA9IHRoaXMuYmluZGluZyhcImNoYW5nZVwiKVxuICAgICAgICBsZXQgaW5wdXQgPSBlLnRhcmdldFxuICAgICAgICBsZXQgaW5wdXRFdmVudCA9IGlucHV0LmdldEF0dHJpYnV0ZShwaHhDaGFuZ2UpXG4gICAgICAgIGxldCBmb3JtRXZlbnQgPSBpbnB1dC5mb3JtICYmIGlucHV0LmZvcm0uZ2V0QXR0cmlidXRlKHBoeENoYW5nZSlcbiAgICAgICAgbGV0IHBoeEV2ZW50ID0gaW5wdXRFdmVudCB8fCBmb3JtRXZlbnRcbiAgICAgICAgaWYoIXBoeEV2ZW50KXsgcmV0dXJuIH1cbiAgICAgICAgaWYoaW5wdXQudHlwZSA9PT0gXCJudW1iZXJcIiAmJiBpbnB1dC52YWxpZGl0eSAmJiBpbnB1dC52YWxpZGl0eS5iYWRJbnB1dCl7IHJldHVybiB9XG5cbiAgICAgICAgbGV0IGRpc3BhdGNoZXIgPSBpbnB1dEV2ZW50ID8gaW5wdXQgOiBpbnB1dC5mb3JtXG4gICAgICAgIGxldCBjdXJyZW50SXRlcmF0aW9ucyA9IGl0ZXJhdGlvbnNcbiAgICAgICAgaXRlcmF0aW9ucysrXG4gICAgICAgIGxldCB7YXQ6IGF0LCB0eXBlOiBsYXN0VHlwZX0gPSBET00ucHJpdmF0ZShpbnB1dCwgXCJwcmV2LWl0ZXJhdGlvblwiKSB8fCB7fVxuICAgICAgICAvLyBkZXRlY3QgZHVwIGJlY2F1c2Ugc29tZSBicm93c2VycyBkaXNwYXRjaCBib3RoIFwiaW5wdXRcIiBhbmQgXCJjaGFuZ2VcIlxuICAgICAgICBpZihhdCA9PT0gY3VycmVudEl0ZXJhdGlvbnMgLSAxICYmIHR5cGUgIT09IGxhc3RUeXBlKXsgcmV0dXJuIH1cblxuICAgICAgICBET00ucHV0UHJpdmF0ZShpbnB1dCwgXCJwcmV2LWl0ZXJhdGlvblwiLCB7YXQ6IGN1cnJlbnRJdGVyYXRpb25zLCB0eXBlOiB0eXBlfSlcblxuICAgICAgICB0aGlzLmRlYm91bmNlKGlucHV0LCBlLCB0eXBlLCAoKSA9PiB7XG4gICAgICAgICAgdGhpcy53aXRoaW5Pd25lcnMoZGlzcGF0Y2hlciwgdmlldyA9PiB7XG4gICAgICAgICAgICBET00ucHV0UHJpdmF0ZShpbnB1dCwgUEhYX0hBU19GT0NVU0VELCB0cnVlKVxuICAgICAgICAgICAgaWYoIURPTS5pc1RleHR1YWxJbnB1dChpbnB1dCkpe1xuICAgICAgICAgICAgICB0aGlzLnNldEFjdGl2ZUVsZW1lbnQoaW5wdXQpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBKUy5leGVjKFwiY2hhbmdlXCIsIHBoeEV2ZW50LCB2aWV3LCBpbnB1dCwgW1wicHVzaFwiLCB7X3RhcmdldDogZS50YXJnZXQubmFtZSwgZGlzcGF0Y2hlcjogZGlzcGF0Y2hlcn1dKVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICB9LCBmYWxzZSlcbiAgICB9XG4gIH1cblxuICBkZWJvdW5jZShlbCwgZXZlbnQsIGV2ZW50VHlwZSwgY2FsbGJhY2spe1xuICAgIGlmKGV2ZW50VHlwZSA9PT0gXCJibHVyXCIgfHwgZXZlbnRUeXBlID09PSBcImZvY3Vzb3V0XCIpeyByZXR1cm4gY2FsbGJhY2soKSB9XG5cbiAgICBsZXQgcGh4RGVib3VuY2UgPSB0aGlzLmJpbmRpbmcoUEhYX0RFQk9VTkNFKVxuICAgIGxldCBwaHhUaHJvdHRsZSA9IHRoaXMuYmluZGluZyhQSFhfVEhST1RUTEUpXG4gICAgbGV0IGRlZmF1bHREZWJvdW5jZSA9IHRoaXMuZGVmYXVsdHMuZGVib3VuY2UudG9TdHJpbmcoKVxuICAgIGxldCBkZWZhdWx0VGhyb3R0bGUgPSB0aGlzLmRlZmF1bHRzLnRocm90dGxlLnRvU3RyaW5nKClcblxuICAgIHRoaXMud2l0aGluT3duZXJzKGVsLCB2aWV3ID0+IHtcbiAgICAgIGxldCBhc3luY0ZpbHRlciA9ICgpID0+ICF2aWV3LmlzRGVzdHJveWVkKCkgJiYgZG9jdW1lbnQuYm9keS5jb250YWlucyhlbClcbiAgICAgIERPTS5kZWJvdW5jZShlbCwgZXZlbnQsIHBoeERlYm91bmNlLCBkZWZhdWx0RGVib3VuY2UsIHBoeFRocm90dGxlLCBkZWZhdWx0VGhyb3R0bGUsIGFzeW5jRmlsdGVyLCAoKSA9PiB7XG4gICAgICAgIGNhbGxiYWNrKClcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIHNpbGVuY2VFdmVudHMoY2FsbGJhY2spe1xuICAgIHRoaXMuc2lsZW5jZWQgPSB0cnVlXG4gICAgY2FsbGJhY2soKVxuICAgIHRoaXMuc2lsZW5jZWQgPSBmYWxzZVxuICB9XG5cbiAgb24oZXZlbnQsIGNhbGxiYWNrKXtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgZSA9PiB7XG4gICAgICBpZighdGhpcy5zaWxlbmNlZCl7IGNhbGxiYWNrKGUpIH1cbiAgICB9KVxuICB9XG59XG5cbmNsYXNzIFRyYW5zaXRpb25TZXQge1xuICBjb25zdHJ1Y3Rvcigpe1xuICAgIHRoaXMudHJhbnNpdGlvbnMgPSBuZXcgU2V0KClcbiAgICB0aGlzLnBlbmRpbmdPcHMgPSBbXVxuICAgIHRoaXMucmVzZXQoKVxuICB9XG5cbiAgcmVzZXQoKXtcbiAgICB0aGlzLnRyYW5zaXRpb25zLmZvckVhY2godGltZXIgPT4ge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKVxuICAgICAgdGhpcy50cmFuc2l0aW9ucy5kZWxldGUodGltZXIpXG4gICAgfSlcbiAgICB0aGlzLmZsdXNoUGVuZGluZ09wcygpXG4gIH1cblxuICBhZnRlcihjYWxsYmFjayl7XG4gICAgaWYodGhpcy5zaXplKCkgPT09IDApe1xuICAgICAgY2FsbGJhY2soKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnB1c2hQZW5kaW5nT3AoY2FsbGJhY2spXG4gICAgfVxuICB9XG5cbiAgYWRkVHJhbnNpdGlvbih0aW1lLCBvblN0YXJ0LCBvbkRvbmUpe1xuICAgIG9uU3RhcnQoKVxuICAgIGxldCB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy50cmFuc2l0aW9ucy5kZWxldGUodGltZXIpXG4gICAgICBvbkRvbmUoKVxuICAgICAgaWYodGhpcy5zaXplKCkgPT09IDApeyB0aGlzLmZsdXNoUGVuZGluZ09wcygpIH1cbiAgICB9LCB0aW1lKVxuICAgIHRoaXMudHJhbnNpdGlvbnMuYWRkKHRpbWVyKVxuICB9XG5cbiAgcHVzaFBlbmRpbmdPcChvcCl7IHRoaXMucGVuZGluZ09wcy5wdXNoKG9wKSB9XG5cbiAgc2l6ZSgpeyByZXR1cm4gdGhpcy50cmFuc2l0aW9ucy5zaXplIH1cblxuICBmbHVzaFBlbmRpbmdPcHMoKXtcbiAgICB0aGlzLnBlbmRpbmdPcHMuZm9yRWFjaChvcCA9PiBvcCgpKVxuICAgIHRoaXMucGVuZGluZ09wcyA9IFtdXG4gIH1cbn1cbiIsICJjb25zdCBDT0xPUlMgPSB7XG4gIHBob2VuaXg6IFsyNDIsIDExMCwgNjRdLFxuICBlbGl4aXI6IFs3NSwgNjgsIDExNV0sXG4gIHJlZDogWzI1NSwgOTksIDEzMl0sXG4gIG9yYW5nZTogWzI1NSwgMTU5LCA2NF0sXG4gIHllbGxvdzogWzI1NSwgMjA1LCA4Nl0sXG4gIGdyZWVuOiBbNzUsIDE5MiwgMTkyXSxcbiAgYmx1ZTogWzU0LCAxNjIsIDI1M10sXG4gIHB1cnBsZTogWzE1MywgMTAyLCAyNTVdLFxuICBncmV5OiBbMjAxLCAyMDMsIDIwN10sXG59XG5cbmNvbnN0IENPTE9SX05BTUVTID0gT2JqZWN0LmtleXMoQ09MT1JTKVxuXG5leHBvcnQgY29uc3QgQ29sb3JXaGVlbCA9IHtcbiAgYXQ6IChpKSA9PiB7XG4gICAgY29uc3QgW3IsIGcsIGJdID0gQ29sb3JXaGVlbC5yZ2IoaSlcbiAgICByZXR1cm4gYHJnYigke3J9LCAke2d9LCAke2J9KWBcbiAgfSxcbiAgcmdiOiAoaSkgPT4gQ09MT1JTW0NPTE9SX05BTUVTW2kgJSBDT0xPUl9OQU1FUy5sZW5ndGhdXSxcbn1cblxuZXhwb3J0IGNvbnN0IExpbmVDb2xvciA9IHtcbiAgYXQ6IChpKSA9PiB7XG4gICAgY29uc3QgW3IsIGcsIGJdID0gQ29sb3JXaGVlbC5yZ2IoaSlcbiAgICByZXR1cm4ge1xuICAgICAgc3Ryb2tlOiBgcmdiKCR7cn0sICR7Z30sICR7Yn0pYCxcbiAgICAgIGZpbGw6IGByZ2IoJHtyfSwgJHtnfSwgJHtifSwgMC4xKWBcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29sb3JXaGVlbFxuIiwgIi8qKlxuKiBDb3B5cmlnaHQgKGMpIDIwMjAsIExlb24gU29yb2tpblxuKiBBbGwgcmlnaHRzIHJlc2VydmVkLiAoTUlUIExpY2Vuc2VkKVxuKlxuKiB1UGxvdC5qcyAoXHUwM0JDUGxvdClcbiogQSBzbWFsbCwgZmFzdCBjaGFydCBmb3IgdGltZSBzZXJpZXMsIGxpbmVzLCBhcmVhcywgb2hsYyAmIGJhcnNcbiogaHR0cHM6Ly9naXRodWIuY29tL2xlZW9uaXlhL3VQbG90ICh2MS4wLjExKVxuKi9cblxuZnVuY3Rpb24gZGVib3VuY2UoZm4sIHRpbWUpIHtcblx0bGV0IHBlbmRpbmcgPSBudWxsO1xuXG5cdGZ1bmN0aW9uIHJ1bigpIHtcblx0XHRwZW5kaW5nID0gbnVsbDtcblx0XHRmbigpO1xuXHR9XG5cblx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHRcdGNsZWFyVGltZW91dChwZW5kaW5nKTtcblx0XHRwZW5kaW5nID0gc2V0VGltZW91dChydW4sIHRpbWUpO1xuXHR9XG59XG5cbi8vIGJpbmFyeSBzZWFyY2ggZm9yIGluZGV4IG9mIGNsb3Nlc3QgdmFsdWVcbmZ1bmN0aW9uIGNsb3Nlc3RJZHgobnVtLCBhcnIsIGxvLCBoaSkge1xuXHRsZXQgbWlkO1xuXHRsbyA9IGxvIHx8IDA7XG5cdGhpID0gaGkgfHwgYXJyLmxlbmd0aCAtIDE7XG5cdGxldCBiaXR3aXNlID0gaGkgPD0gMjE0NzQ4MzY0NztcblxuXHR3aGlsZSAoaGkgLSBsbyA+IDEpIHtcblx0XHRtaWQgPSBiaXR3aXNlID8gKGxvICsgaGkpID4+IDEgOiBmbG9vcigobG8gKyBoaSkgLyAyKTtcblxuXHRcdGlmIChhcnJbbWlkXSA8IG51bSlcblx0XHRcdGxvID0gbWlkO1xuXHRcdGVsc2Vcblx0XHRcdGhpID0gbWlkO1xuXHR9XG5cblx0aWYgKG51bSAtIGFycltsb10gPD0gYXJyW2hpXSAtIG51bSlcblx0XHRyZXR1cm4gbG87XG5cblx0cmV0dXJuIGhpO1xufVxuXG5mdW5jdGlvbiBnZXRNaW5NYXgoZGF0YSwgX2kwLCBfaTEpIHtcbi8vXHRjb25zb2xlLmxvZyhcImdldE1pbk1heCgpXCIpO1xuXG5cdGxldCBfbWluID0gaW5mO1xuXHRsZXQgX21heCA9IC1pbmY7XG5cblx0Zm9yIChsZXQgaSA9IF9pMDsgaSA8PSBfaTE7IGkrKykge1xuXHRcdGlmIChkYXRhW2ldICE9IG51bGwpIHtcblx0XHRcdF9taW4gPSBtaW4oX21pbiwgZGF0YVtpXSk7XG5cdFx0XHRfbWF4ID0gbWF4KF9tYXgsIGRhdGFbaV0pO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBbX21pbiwgX21heF07XG59XG5cbi8vIHRoaXMgZW5zdXJlcyB0aGF0IG5vbi10ZW1wb3JhbC9udW1lcmljIHktYXhlcyBnZXQgbXVsdGlwbGUtc25hcHBlZCBwYWRkaW5nIGFkZGVkIGFib3ZlL2JlbG93XG4vLyBUT0RPOiBhbHNvIGFjY291bnQgZm9yIGluY3JzIHdoZW4gc25hcHBpbmcgdG8gZW5zdXJlIHRvcCBvZiBheGlzIGdldHMgYSB0aWNrICYgdmFsdWVcbmZ1bmN0aW9uIHJhbmdlTnVtKG1pbiwgbWF4LCBtdWx0LCBleHRyYSkge1xuXHQvLyBhdXRvLXNjYWxlIFlcblx0Y29uc3QgZGVsdGEgPSBtYXggLSBtaW47XG5cdGNvbnN0IG1hZyA9IGxvZzEwKGRlbHRhIHx8IGFicyhtYXgpIHx8IDEpO1xuXHRjb25zdCBleHAgPSBmbG9vcihtYWcpO1xuXHRjb25zdCBpbmNyID0gcG93KDEwLCBleHApICogbXVsdDtcblx0Y29uc3QgYnVmID0gZGVsdGEgPT0gMCA/IGluY3IgOiAwO1xuXG5cdGxldCBzbmFwcGVkTWluID0gcm91bmQ2KGluY3JSb3VuZERuKG1pbiAtIGJ1ZiwgaW5jcikpO1xuXHRsZXQgc25hcHBlZE1heCA9IHJvdW5kNihpbmNyUm91bmRVcChtYXggKyBidWYsIGluY3IpKTtcblxuXHRpZiAoZXh0cmEpIHtcblx0XHQvLyBmb3IgZmxhdCBkYXRhLCBhbHdheXMgdXNlIDAgYXMgb25lIGNoYXJ0IGV4dHJlbWUgJiBwbGFjZSBkYXRhIGluIGNlbnRlclxuXHRcdGlmIChkZWx0YSA9PSAwKSB7XG5cdFx0XHRpZiAobWF4ID4gMCkge1xuXHRcdFx0XHRzbmFwcGVkTWluID0gMDtcblx0XHRcdFx0c25hcHBlZE1heCA9IG1heCAqIDI7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmIChtYXggPCAwKSB7XG5cdFx0XHRcdHNuYXBwZWRNYXggPSAwO1xuXHRcdFx0XHRzbmFwcGVkTWluID0gbWluICogMjtcblx0XHRcdH1cblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHQvLyBpZiBidWZmZXIgaXMgdG9vIHNtYWxsLCBpbmNyZWFzZSBpdFxuXHRcdFx0aWYgKHNuYXBwZWRNYXggLSBtYXggPCBpbmNyKVxuXHRcdFx0XHRzbmFwcGVkTWF4ICs9IGluY3I7XG5cblx0XHRcdGlmIChtaW4gLSBzbmFwcGVkTWluIDwgaW5jcilcblx0XHRcdFx0c25hcHBlZE1pbiAtPSBpbmNyO1xuXG5cdFx0XHQvLyBpZiBvcmlnaW5hbCBkYXRhIG5ldmVyIGNyb3NzZXMgMCwgdXNlIDAgYXMgb25lIGNoYXJ0IGV4dHJlbWVcblx0XHRcdGlmIChtaW4gPj0gMCAmJiBzbmFwcGVkTWluIDwgMClcblx0XHRcdFx0c25hcHBlZE1pbiA9IDA7XG5cblx0XHRcdGlmIChtYXggPD0gMCAmJiBzbmFwcGVkTWF4ID4gMClcblx0XHRcdFx0c25hcHBlZE1heCA9IDA7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIFtzbmFwcGVkTWluLCBzbmFwcGVkTWF4XTtcbn1cblxuY29uc3QgTSA9IE1hdGg7XG5cbmNvbnN0IGFicyA9IE0uYWJzO1xuY29uc3QgZmxvb3IgPSBNLmZsb29yO1xuY29uc3Qgcm91bmQgPSBNLnJvdW5kO1xuY29uc3QgY2VpbCA9IE0uY2VpbDtcbmNvbnN0IG1pbiA9IE0ubWluO1xuY29uc3QgbWF4ID0gTS5tYXg7XG5jb25zdCBwb3cgPSBNLnBvdztcbmNvbnN0IGxvZzEwID0gTS5sb2cxMDtcbmNvbnN0IFBJID0gTS5QSTtcblxuY29uc3QgaW5mID0gSW5maW5pdHk7XG5cbmZ1bmN0aW9uIGluY3JSb3VuZChudW0sIGluY3IpIHtcblx0cmV0dXJuIHJvdW5kKG51bS9pbmNyKSppbmNyO1xufVxuXG5mdW5jdGlvbiBjbGFtcChudW0sIF9taW4sIF9tYXgpIHtcblx0cmV0dXJuIG1pbihtYXgobnVtLCBfbWluKSwgX21heCk7XG59XG5cbmZ1bmN0aW9uIGZuT3JTZWxmKHYpIHtcblx0cmV0dXJuIHR5cGVvZiB2ID09IFwiZnVuY3Rpb25cIiA/IHYgOiAoKSA9PiB2O1xufVxuXG5mdW5jdGlvbiBpbmNyUm91bmRVcChudW0sIGluY3IpIHtcblx0cmV0dXJuIGNlaWwobnVtL2luY3IpKmluY3I7XG59XG5cbmZ1bmN0aW9uIGluY3JSb3VuZERuKG51bSwgaW5jcikge1xuXHRyZXR1cm4gZmxvb3IobnVtL2luY3IpKmluY3I7XG59XG5cbmZ1bmN0aW9uIHJvdW5kMyh2YWwpIHtcblx0cmV0dXJuIHJvdW5kKHZhbCAqIDFlMykgLyAxZTM7XG59XG5cbmZ1bmN0aW9uIHJvdW5kNih2YWwpIHtcblx0cmV0dXJuIHJvdW5kKHZhbCAqIDFlNikgLyAxZTY7XG59XG5cbi8vZXhwb3J0IGNvbnN0IGFzc2lnbiA9IE9iamVjdC5hc3NpZ247XG5cbmNvbnN0IGlzQXJyID0gQXJyYXkuaXNBcnJheTtcblxuZnVuY3Rpb24gaXNTdHIodikge1xuXHRyZXR1cm4gdHlwZW9mIHYgPT09ICdzdHJpbmcnO1xufVxuXG5mdW5jdGlvbiBpc09iaih2KSB7XG5cdHJldHVybiB0eXBlb2YgdiA9PT0gJ29iamVjdCcgJiYgdiAhPT0gbnVsbDtcbn1cblxuZnVuY3Rpb24gY29weShvKSB7XG5cdGxldCBvdXQ7XG5cblx0aWYgKGlzQXJyKG8pKVxuXHRcdG91dCA9IG8ubWFwKGNvcHkpO1xuXHRlbHNlIGlmIChpc09iaihvKSkge1xuXHRcdG91dCA9IHt9O1xuXHRcdGZvciAodmFyIGsgaW4gbylcblx0XHRcdG91dFtrXSA9IGNvcHkob1trXSk7XG5cdH1cblx0ZWxzZVxuXHRcdG91dCA9IG87XG5cblx0cmV0dXJuIG91dDtcbn1cblxuZnVuY3Rpb24gYXNzaWduKHRhcmcpIHtcblx0bGV0IGFyZ3MgPSBhcmd1bWVudHM7XG5cblx0Zm9yIChsZXQgaSA9IDE7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG5cdFx0bGV0IHNyYyA9IGFyZ3NbaV07XG5cblx0XHRmb3IgKGxldCBrZXkgaW4gc3JjKSB7XG5cdFx0XHRpZiAoaXNPYmoodGFyZ1trZXldKSlcblx0XHRcdFx0YXNzaWduKHRhcmdba2V5XSwgY29weShzcmNba2V5XSkpO1xuXHRcdFx0ZWxzZVxuXHRcdFx0XHR0YXJnW2tleV0gPSBjb3B5KHNyY1trZXldKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gdGFyZztcbn1cblxuY29uc3QgV0lEVEggPSBcIndpZHRoXCI7XG5jb25zdCBIRUlHSFQgPSBcImhlaWdodFwiO1xuY29uc3QgVE9QID0gXCJ0b3BcIjtcbmNvbnN0IEJPVFRPTSA9IFwiYm90dG9tXCI7XG5jb25zdCBMRUZUID0gXCJsZWZ0XCI7XG5jb25zdCBSSUdIVCA9IFwicmlnaHRcIjtcbmNvbnN0IGZpcnN0Q2hpbGQgPSBcImZpcnN0Q2hpbGRcIjtcbmNvbnN0IGNyZWF0ZUVsZW1lbnQgPSBcImNyZWF0ZUVsZW1lbnRcIjtcbmNvbnN0IGhleEJsYWNrID0gXCIjMDAwXCI7XG5jb25zdCBjbGFzc0xpc3QgPSBcImNsYXNzTGlzdFwiO1xuXG5jb25zdCBtb3VzZW1vdmUgPSBcIm1vdXNlbW92ZVwiO1xuY29uc3QgbW91c2Vkb3duID0gXCJtb3VzZWRvd25cIjtcbmNvbnN0IG1vdXNldXAgPSBcIm1vdXNldXBcIjtcbmNvbnN0IG1vdXNlZW50ZXIgPSBcIm1vdXNlZW50ZXJcIjtcbmNvbnN0IG1vdXNlbGVhdmUgPSBcIm1vdXNlbGVhdmVcIjtcbmNvbnN0IGRibGNsaWNrID0gXCJkYmxjbGlja1wiO1xuY29uc3QgcmVzaXplID0gXCJyZXNpemVcIjtcbmNvbnN0IHNjcm9sbCA9IFwic2Nyb2xsXCI7XG5cbmNvbnN0IHJBRiA9IHJlcXVlc3RBbmltYXRpb25GcmFtZTtcbmNvbnN0IGRvYyA9IGRvY3VtZW50O1xuY29uc3Qgd2luID0gd2luZG93O1xuY29uc3QgcHhSYXRpbyA9IGRldmljZVBpeGVsUmF0aW87XG5cbmZ1bmN0aW9uIGFkZENsYXNzKGVsLCBjKSB7XG5cdGMgIT0gbnVsbCAmJiBlbFtjbGFzc0xpc3RdLmFkZChjKTtcbn1cblxuZnVuY3Rpb24gcmVtQ2xhc3MoZWwsIGMpIHtcblx0ZWxbY2xhc3NMaXN0XS5yZW1vdmUoYyk7XG59XG5cbmZ1bmN0aW9uIHNldFN0eWxlUHgoZWwsIG5hbWUsIHZhbHVlKSB7XG5cdGVsLnN0eWxlW25hbWVdID0gdmFsdWUgKyBcInB4XCI7XG59XG5cbmZ1bmN0aW9uIHBsYWNlVGFnKHRhZywgY2xzLCB0YXJnLCByZWZFbCkge1xuXHRsZXQgZWwgPSBkb2NbY3JlYXRlRWxlbWVudF0odGFnKTtcblxuXHRpZiAoY2xzICE9IG51bGwpXG5cdFx0YWRkQ2xhc3MoZWwsIGNscyk7XG5cblx0aWYgKHRhcmcgIT0gbnVsbClcblx0XHR0YXJnLmluc2VydEJlZm9yZShlbCwgcmVmRWwpO1xuXG5cdHJldHVybiBlbDtcbn1cblxuZnVuY3Rpb24gcGxhY2VEaXYoY2xzLCB0YXJnKSB7XG5cdHJldHVybiBwbGFjZVRhZyhcImRpdlwiLCBjbHMsIHRhcmcpO1xufVxuXG5mdW5jdGlvbiB0cmFucyhlbCwgeFBvcywgeVBvcykge1xuXHRlbC5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZShcIiArIHhQb3MgKyBcInB4LFwiICsgeVBvcyArIFwicHgpXCI7XG59XG5cbmNvbnN0IGV2T3B0cyA9IHtwYXNzaXZlOiB0cnVlfTtcblxuZnVuY3Rpb24gb24oZXYsIGVsLCBjYikge1xuXHRlbC5hZGRFdmVudExpc3RlbmVyKGV2LCBjYiwgZXZPcHRzKTtcbn1cblxuZnVuY3Rpb24gb2ZmKGV2LCBlbCwgY2IpIHtcblx0ZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldiwgY2IsIGV2T3B0cyk7XG59XG5cbmNvbnN0IG1vbnRocyA9IFtcblx0XCJKYW51YXJ5XCIsXG5cdFwiRmVicnVhcnlcIixcblx0XCJNYXJjaFwiLFxuXHRcIkFwcmlsXCIsXG5cdFwiTWF5XCIsXG5cdFwiSnVuZVwiLFxuXHRcIkp1bHlcIixcblx0XCJBdWd1c3RcIixcblx0XCJTZXB0ZW1iZXJcIixcblx0XCJPY3RvYmVyXCIsXG5cdFwiTm92ZW1iZXJcIixcblx0XCJEZWNlbWJlclwiLFxuXTtcblxuY29uc3QgZGF5cyA9IFtcblx0XCJTdW5kYXlcIixcblx0XCJNb25kYXlcIixcblx0XCJUdWVzZGF5XCIsXG5cdFwiV2VkbmVzZGF5XCIsXG5cdFwiVGh1cnNkYXlcIixcblx0XCJGcmlkYXlcIixcblx0XCJTYXR1cmRheVwiLFxuXTtcblxuZnVuY3Rpb24gc2xpY2UzKHN0cikge1xuXHRyZXR1cm4gc3RyLnNsaWNlKDAsIDMpO1xufVxuXG5jb25zdCBkYXlzMyA9ICBkYXlzLm1hcChzbGljZTMpO1xuXG5jb25zdCBtb250aHMzID0gIG1vbnRocy5tYXAoc2xpY2UzKTtcblxuY29uc3QgZW5nTmFtZXMgPSB7XG5cdE1NTU06IG1vbnRocyxcblx0TU1NOiAgbW9udGhzMyxcblx0V1dXVzogZGF5cyxcblx0V1dXOiAgZGF5czMsXG59O1xuXG5mdW5jdGlvbiB6ZXJvUGFkMihpbnQpIHtcblx0cmV0dXJuIChpbnQgPCAxMCA/ICcwJyA6ICcnKSArIGludDtcbn1cblxuZnVuY3Rpb24gemVyb1BhZDMoaW50KSB7XG5cdHJldHVybiAoaW50IDwgMTAgPyAnMDAnIDogaW50IDwgMTAwID8gJzAnIDogJycpICsgaW50O1xufVxuXG4vKlxuZnVuY3Rpb24gc3VmZml4KGludCkge1xuXHRsZXQgbW9kMTAgPSBpbnQgJSAxMDtcblxuXHRyZXR1cm4gaW50ICsgKFxuXHRcdG1vZDEwID09IDEgJiYgaW50ICE9IDExID8gXCJzdFwiIDpcblx0XHRtb2QxMCA9PSAyICYmIGludCAhPSAxMiA/IFwibmRcIiA6XG5cdFx0bW9kMTAgPT0gMyAmJiBpbnQgIT0gMTMgPyBcInJkXCIgOiBcInRoXCJcblx0KTtcbn1cbiovXG5cbmNvbnN0IGdldEZ1bGxZZWFyID0gJ2dldEZ1bGxZZWFyJztcbmNvbnN0IGdldE1vbnRoID0gJ2dldE1vbnRoJztcbmNvbnN0IGdldERhdGUgPSAnZ2V0RGF0ZSc7XG5jb25zdCBnZXREYXkgPSAnZ2V0RGF5JztcbmNvbnN0IGdldEhvdXJzID0gJ2dldEhvdXJzJztcbmNvbnN0IGdldE1pbnV0ZXMgPSAnZ2V0TWludXRlcyc7XG5jb25zdCBnZXRTZWNvbmRzID0gJ2dldFNlY29uZHMnO1xuY29uc3QgZ2V0TWlsbGlzZWNvbmRzID0gJ2dldE1pbGxpc2Vjb25kcyc7XG5cbmNvbnN0IHN1YnMgPSB7XG5cdC8vIDIwMTlcblx0WVlZWTpcdGQgPT4gZFtnZXRGdWxsWWVhcl0oKSxcblx0Ly8gMTlcblx0WVk6XHRcdGQgPT4gKGRbZ2V0RnVsbFllYXJdKCkrJycpLnNsaWNlKDIpLFxuXHQvLyBKdWx5XG5cdE1NTU06XHQoZCwgbmFtZXMpID0+IG5hbWVzLk1NTU1bZFtnZXRNb250aF0oKV0sXG5cdC8vIEp1bFxuXHRNTU06XHQoZCwgbmFtZXMpID0+IG5hbWVzLk1NTVtkW2dldE1vbnRoXSgpXSxcblx0Ly8gMDdcblx0TU06XHRcdGQgPT4gemVyb1BhZDIoZFtnZXRNb250aF0oKSsxKSxcblx0Ly8gN1xuXHRNOlx0XHRkID0+IGRbZ2V0TW9udGhdKCkrMSxcblx0Ly8gMDlcblx0REQ6XHRcdGQgPT4gemVyb1BhZDIoZFtnZXREYXRlXSgpKSxcblx0Ly8gOVxuXHREOlx0XHRkID0+IGRbZ2V0RGF0ZV0oKSxcblx0Ly8gTW9uZGF5XG5cdFdXV1c6XHQoZCwgbmFtZXMpID0+IG5hbWVzLldXV1dbZFtnZXREYXldKCldLFxuXHQvLyBNb25cblx0V1dXOlx0KGQsIG5hbWVzKSA9PiBuYW1lcy5XV1dbZFtnZXREYXldKCldLFxuXHQvLyAwM1xuXHRISDpcdFx0ZCA9PiB6ZXJvUGFkMihkW2dldEhvdXJzXSgpKSxcblx0Ly8gM1xuXHRIOlx0XHRkID0+IGRbZ2V0SG91cnNdKCksXG5cdC8vIDkgKDEyaHIsIHVucGFkZGVkKVxuXHRoOlx0XHRkID0+IHtsZXQgaCA9IGRbZ2V0SG91cnNdKCk7IHJldHVybiBoID09IDAgPyAxMiA6IGggPiAxMiA/IGggLSAxMiA6IGg7fSxcblx0Ly8gQU1cblx0QUE6XHRcdGQgPT4gZFtnZXRIb3Vyc10oKSA+PSAxMiA/ICdQTScgOiAnQU0nLFxuXHQvLyBhbVxuXHRhYTpcdFx0ZCA9PiBkW2dldEhvdXJzXSgpID49IDEyID8gJ3BtJyA6ICdhbScsXG5cdC8vIGFcblx0YTpcdFx0ZCA9PiBkW2dldEhvdXJzXSgpID49IDEyID8gJ3AnIDogJ2EnLFxuXHQvLyAwOVxuXHRtbTpcdFx0ZCA9PiB6ZXJvUGFkMihkW2dldE1pbnV0ZXNdKCkpLFxuXHQvLyA5XG5cdG06XHRcdGQgPT4gZFtnZXRNaW51dGVzXSgpLFxuXHQvLyAwOVxuXHRzczpcdFx0ZCA9PiB6ZXJvUGFkMihkW2dldFNlY29uZHNdKCkpLFxuXHQvLyA5XG5cdHM6XHRcdGQgPT4gZFtnZXRTZWNvbmRzXSgpLFxuXHQvLyAzNzRcblx0ZmZmOlx0ZCA9PiB6ZXJvUGFkMyhkW2dldE1pbGxpc2Vjb25kc10oKSksXG59O1xuXG5mdW5jdGlvbiBmbXREYXRlKHRwbCwgbmFtZXMpIHtcblx0bmFtZXMgPSBuYW1lcyB8fCBlbmdOYW1lcztcblx0bGV0IHBhcnRzID0gW107XG5cblx0bGV0IFIgPSAvXFx7KFthLXpdKylcXH18W157XSsvZ2ksIG07XG5cblx0d2hpbGUgKG0gPSBSLmV4ZWModHBsKSlcblx0XHRwYXJ0cy5wdXNoKG1bMF1bMF0gPT0gJ3snID8gc3Vic1ttWzFdXSA6IG1bMF0pO1xuXG5cdHJldHVybiBkID0+IHtcblx0XHRsZXQgb3V0ID0gJyc7XG5cblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKVxuXHRcdFx0b3V0ICs9IHR5cGVvZiBwYXJ0c1tpXSA9PSBcInN0cmluZ1wiID8gcGFydHNbaV0gOiBwYXJ0c1tpXShkLCBuYW1lcyk7XG5cblx0XHRyZXR1cm4gb3V0O1xuXHR9XG59XG5cbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE1MTQxNzYyL2hvdy10by1pbml0aWFsaXplLWEtamF2YXNjcmlwdC1kYXRlLXRvLWEtcGFydGljdWxhci10aW1lLXpvbmUvNTM2NTIxMzEjNTM2NTIxMzFcbmZ1bmN0aW9uIHR6RGF0ZShkYXRlLCB0eikge1xuXHRsZXQgZGF0ZTI7XG5cblx0Ly8gcGVyZiBvcHRpbWl6YXRpb25cblx0aWYgKHR6ID09ICdFdGMvVVRDJylcblx0XHRkYXRlMiA9IG5ldyBEYXRlKCtkYXRlICsgZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpICogNmU0KTtcblx0ZWxzZSB7XG5cdFx0ZGF0ZTIgPSBuZXcgRGF0ZShkYXRlLnRvTG9jYWxlU3RyaW5nKCdlbi1VUycsIHt0aW1lWm9uZTogdHp9KSk7XG5cdFx0ZGF0ZTIuc2V0TWlsbGlzZWNvbmRzKGRhdGVbZ2V0TWlsbGlzZWNvbmRzXSgpKTtcblx0fVxuXG5cdHJldHVybiBkYXRlMjtcbn1cblxuLy9leHBvcnQgY29uc3Qgc2VyaWVzID0gW107XG5cbi8vIGRlZmF1bHQgZm9ybWF0dGVyczpcblxuZnVuY3Rpb24gZ2VuSW5jcnMobWluRXhwLCBtYXhFeHAsIG11bHRzKSB7XG5cdGxldCBpbmNycyA9IFtdO1xuXG5cdGZvciAobGV0IGV4cCA9IG1pbkV4cDsgZXhwIDwgbWF4RXhwOyBleHArKykge1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbXVsdHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGxldCBpbmNyID0gbXVsdHNbaV0gKiBwb3coMTAsIGV4cCk7XG5cdFx0XHRpbmNycy5wdXNoKCtpbmNyLnRvRml4ZWQoYWJzKGV4cCkpKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gaW5jcnM7XG59XG5cbmNvbnN0IGluY3JNdWx0cyA9IFsxLDIsNV07XG5cbmNvbnN0IGRlY0luY3JzID0gZ2VuSW5jcnMoLTEyLCAwLCBpbmNyTXVsdHMpO1xuXG5jb25zdCBpbnRJbmNycyA9IGdlbkluY3JzKDAsIDEyLCBpbmNyTXVsdHMpO1xuXG5jb25zdCBudW1JbmNycyA9IGRlY0luY3JzLmNvbmNhdChpbnRJbmNycyk7XG5cbmxldCBzID0gMSxcblx0bSA9IDYwLFxuXHRoID0gbSAqIG0sXG5cdGQgPSBoICogMjQsXG5cdG1vID0gZCAqIDMwLFxuXHR5ID0gZCAqIDM2NTtcblxuLy8gc3RhcnRpbmcgYmVsb3cgMWUtMyBpcyBhIGhhY2sgdG8gYWxsb3cgdGhlIGluY3IgZmluZGVyIHRvIGNob29zZSAmIGJhaWwgb3V0IGF0IGluY3IgPCAxbXNcbmNvbnN0IHRpbWVJbmNycyA9ICBbNWUtNF0uY29uY2F0KGdlbkluY3JzKC0zLCAwLCBpbmNyTXVsdHMpLCBbXG5cdC8vIG1pbnV0ZSBkaXZpc29ycyAoIyBvZiBzZWNzKVxuXHQxLFxuXHQ1LFxuXHQxMCxcblx0MTUsXG5cdDMwLFxuXHQvLyBob3VyIGRpdmlzb3JzICgjIG9mIG1pbnMpXG5cdG0sXG5cdG0gKiA1LFxuXHRtICogMTAsXG5cdG0gKiAxNSxcblx0bSAqIDMwLFxuXHQvLyBkYXkgZGl2aXNvcnMgKCMgb2YgaHJzKVxuXHRoLFxuXHRoICogMixcblx0aCAqIDMsXG5cdGggKiA0LFxuXHRoICogNixcblx0aCAqIDgsXG5cdGggKiAxMixcblx0Ly8gbW9udGggZGl2aXNvcnMgVE9ETzogbmVlZCBtb3JlP1xuXHRkLFxuXHRkICogMixcblx0ZCAqIDMsXG5cdGQgKiA0LFxuXHRkICogNSxcblx0ZCAqIDYsXG5cdGQgKiA3LFxuXHRkICogOCxcblx0ZCAqIDksXG5cdGQgKiAxMCxcblx0ZCAqIDE1LFxuXHQvLyB5ZWFyIGRpdmlzb3JzICgjIG1vbnRocywgYXBwcm94KVxuXHRtbyxcblx0bW8gKiAyLFxuXHRtbyAqIDMsXG5cdG1vICogNCxcblx0bW8gKiA2LFxuXHQvLyBjZW50dXJ5IGRpdmlzb3JzXG5cdHksXG5cdHkgKiAyLFxuXHR5ICogNSxcblx0eSAqIDEwLFxuXHR5ICogMjUsXG5cdHkgKiA1MCxcblx0eSAqIDEwMCxcbl0pO1xuXG5mdW5jdGlvbiB0aW1lQXhpc1N0YW1wcyhzdGFtcENmZywgZm10RGF0ZSkge1xuXHRyZXR1cm4gc3RhbXBDZmcubWFwKHMgPT4gW1xuXHRcdHNbMF0sXG5cdFx0Zm10RGF0ZShzWzFdKSxcblx0XHRzWzJdLFxuXHRcdGZtdERhdGUoc1s0XSA/IHNbMV0gKyBzWzNdIDogc1szXSksXG5cdF0pO1xufVxuXG5jb25zdCB5eXl5ID0gXCJ7WVlZWX1cIjtcbmNvbnN0IE5MeXl5eSA9IFwiXFxuXCIgKyB5eXl5O1xuY29uc3QgbWQgPSBcIntNfS97RH1cIjtcbmNvbnN0IE5MbWQgPSBcIlxcblwiICsgbWQ7XG5cbmNvbnN0IGFhID0gXCJ7YWF9XCI7XG5jb25zdCBobW0gPSBcIntofTp7bW19XCI7XG5jb25zdCBobW1hYSA9IGhtbSArIGFhO1xuY29uc3Qgc3MgPSBcIjp7c3N9XCI7XG5cbi8vIFswXTogbWluaW11bSBudW0gc2VjcyBpbiB0aGUgdGljayBpbmNyXG4vLyBbMV06IG5vcm1hbCB0aWNrIGZvcm1hdFxuLy8gWzJdOiB3aGVuIGEgZGlmZmVyaW5nIDx4PiBpcyBlbmNvdW50ZXJlZCAtIDE6IHNlYywgMjogbWluLCAzOiBob3VyLCA0OiBkYXksIDU6IHdlZWssIDY6IG1vbnRoLCA3OiB5ZWFyXG4vLyBbM106IHVzZSBhIGxvbmdlciBtb3JlIGNvbnRleHR1YWwgZm9ybWF0XG4vLyBbNF06IG1vZGVzOiAwOiByZXBsYWNlIFsxXSAtPiBbM10sIDE6IGNvbmNhdCBbMV0gKyBbM11cbmNvbnN0IF90aW1lQXhpc1N0YW1wcyA9IFtcblx0W3ksICAgICAgICB5eXl5LCAgICAgICAgICAgIDcsICAgXCJcIiwgICAgICAgICAgICAgICAgICAgIDFdLFxuXHRbZCAqIDI4LCAgIFwie01NTX1cIiwgICAgICAgICA3LCAgIE5MeXl5eSwgICAgICAgICAgICAgICAgMV0sXG5cdFtkLCAgICAgICAgbWQsICAgICAgICAgICAgICA3LCAgIE5MeXl5eSwgICAgICAgICAgICAgICAgMV0sXG5cdFtoLCAgICAgICAgXCJ7aH1cIiArIGFhLCAgICAgIDQsICAgTkxtZCwgICAgICAgICAgICAgICAgICAxXSxcblx0W20sICAgICAgICBobW1hYSwgICAgICAgICAgIDQsICAgTkxtZCwgICAgICAgICAgICAgICAgICAxXSxcblx0W3MsICAgICAgICBzcywgICAgICAgICAgICAgIDIsICAgTkxtZCAgKyBcIiBcIiArIGhtbWFhLCAgIDFdLFxuXHRbMWUtMywgICAgIHNzICsgXCIue2ZmZn1cIiwgICAyLCAgIE5MbWQgICsgXCIgXCIgKyBobW1hYSwgICAxXSxcbl07XG5cbi8vIFRPRE86IHdpbGwgbmVlZCB0byBhY2NlcHQgc3BhY2VzW10gYW5kIHB1bGwgaW5jciBpbnRvIHRoZSBsb29wIHdoZW4gZ3JpZCB3aWxsIGJlIG5vbi11bmlmb3JtLCBlZyBmb3IgbG9nIHNjYWxlcy5cbi8vIGN1cnJlbnRseSB3ZSBpZ25vcmUgdGhpcyBmb3IgbW9udGhzIHNpbmNlIHRoZXkncmUgKm5lYXJseSogdW5pZm9ybSBhbmQgdGhlIGFkZGVkIGNvbXBsZXhpdHkgaXMgbm90IHdvcnRoIGl0XG5mdW5jdGlvbiB0aW1lQXhpc1ZhbHModHpEYXRlLCBzdGFtcHMpIHtcblx0cmV0dXJuIChzZWxmLCBzcGxpdHMsIHNwYWNlLCBpbmNyKSA9PiB7XG5cdFx0bGV0IHMgPSBzdGFtcHMuZmluZChlID0+IGluY3IgPj0gZVswXSkgfHwgc3RhbXBzW3N0YW1wcy5sZW5ndGggLSAxXTtcblxuXHRcdC8vIHRoZXNlIHRyYWNrIGJvdW5kYXJpZXMgd2hlbiBhIGZ1bGwgbGFiZWwgaXMgbmVlZGVkIGFnYWluXG5cdFx0bGV0IHByZXZZZWFyID0gbnVsbDtcblx0XHRsZXQgcHJldkRhdGUgPSBudWxsO1xuXHRcdGxldCBwcmV2TWludSA9IG51bGw7XG5cblx0XHRyZXR1cm4gc3BsaXRzLm1hcCgoc3BsaXQsIGkpID0+IHtcblx0XHRcdGxldCBkYXRlID0gdHpEYXRlKHNwbGl0KTtcblxuXHRcdFx0bGV0IG5ld1llYXIgPSBkYXRlW2dldEZ1bGxZZWFyXSgpO1xuXHRcdFx0bGV0IG5ld0RhdGUgPSBkYXRlW2dldERhdGVdKCk7XG5cdFx0XHRsZXQgbmV3TWludSA9IGRhdGVbZ2V0TWludXRlc10oKTtcblxuXHRcdFx0bGV0IGRpZmZZZWFyID0gbmV3WWVhciAhPSBwcmV2WWVhcjtcblx0XHRcdGxldCBkaWZmRGF0ZSA9IG5ld0RhdGUgIT0gcHJldkRhdGU7XG5cdFx0XHRsZXQgZGlmZk1pbnUgPSBuZXdNaW51ICE9IHByZXZNaW51O1xuXG5cdFx0XHRsZXQgc3RhbXAgPSBzWzJdID09IDcgJiYgZGlmZlllYXIgfHwgc1syXSA9PSA0ICYmIGRpZmZEYXRlIHx8IHNbMl0gPT0gMiAmJiBkaWZmTWludSA/IHNbM10gOiBzWzFdO1xuXG5cdFx0XHRwcmV2WWVhciA9IG5ld1llYXI7XG5cdFx0XHRwcmV2RGF0ZSA9IG5ld0RhdGU7XG5cdFx0XHRwcmV2TWludSA9IG5ld01pbnU7XG5cblx0XHRcdHJldHVybiBzdGFtcChkYXRlKTtcblx0XHR9KTtcblx0fVxufVxuXG5mdW5jdGlvbiBta0RhdGUoeSwgbSwgZCkge1xuXHRyZXR1cm4gbmV3IERhdGUoeSwgbSwgZCk7XG59XG5cbi8vIHRoZSBlbnN1cmVzIHRoYXQgYXhpcyB0aWNrcywgdmFsdWVzICYgZ3JpZCBhcmUgYWxpZ25lZCB0byBsb2dpY2FsIHRlbXBvcmFsIGJyZWFrcG9pbnRzIGFuZCBub3QgYW4gYXJiaXRyYXJ5IHRpbWVzdGFtcFxuLy8gaHR0cHM6Ly93d3cudGltZWFuZGRhdGUuY29tL3RpbWUvZHN0L1xuLy8gaHR0cHM6Ly93d3cudGltZWFuZGRhdGUuY29tL3RpbWUvZHN0LzIwMTkuaHRtbFxuLy8gaHR0cHM6Ly93d3cuZXBvY2hjb252ZXJ0ZXIuY29tL3RpbWV6b25lc1xuZnVuY3Rpb24gdGltZUF4aXNTcGxpdHModHpEYXRlKSB7XG5cdHJldHVybiAoc2VsZiwgc2NhbGVNaW4sIHNjYWxlTWF4LCBpbmNyLCBwY3RTcGFjZSkgPT4ge1xuXHRcdGxldCBzcGxpdHMgPSBbXTtcblx0XHRsZXQgaXNNbyA9IGluY3IgPj0gbW8gJiYgaW5jciA8IHk7XG5cblx0XHQvLyBnZXQgdGhlIHRpbWV6b25lLWFkanVzdGVkIGRhdGVcblx0XHRsZXQgbWluRGF0ZSA9IHR6RGF0ZShzY2FsZU1pbik7XG5cdFx0bGV0IG1pbkRhdGVUcyA9IG1pbkRhdGUgLyAxZTM7XG5cblx0XHQvLyBnZXQgdHMgb2YgMTJhbSAodGhpcyBsYW5kcyB1cyBhdCBvciBiZWZvcmUgdGhlIG9yaWdpbmFsIHNjYWxlTWluKVxuXHRcdGxldCBtaW5NaW4gPSBta0RhdGUobWluRGF0ZVtnZXRGdWxsWWVhcl0oKSwgbWluRGF0ZVtnZXRNb250aF0oKSwgaXNNbyA/IDEgOiBtaW5EYXRlW2dldERhdGVdKCkpO1xuXHRcdGxldCBtaW5NaW5UcyA9IG1pbk1pbiAvIDFlMztcblxuXHRcdGlmIChpc01vKSB7XG5cdFx0XHRsZXQgbW9JbmNyID0gaW5jciAvIG1vO1xuXHRcdC8vXHRsZXQgdHpPZmZzZXQgPSBzY2FsZU1pbiAtIG1pbkRhdGVUcztcdFx0Ly8gbmVlZGVkP1xuXHRcdFx0bGV0IHNwbGl0ID0gbWluRGF0ZVRzID09IG1pbk1pblRzID8gbWluRGF0ZVRzIDogbWtEYXRlKG1pbk1pbltnZXRGdWxsWWVhcl0oKSwgbWluTWluW2dldE1vbnRoXSgpICsgbW9JbmNyLCAxKSAvIDFlMztcblx0XHRcdGxldCBzcGxpdERhdGUgPSBuZXcgRGF0ZShzcGxpdCAqIDFlMyk7XG5cdFx0XHRsZXQgYmFzZVllYXIgPSBzcGxpdERhdGVbZ2V0RnVsbFllYXJdKCk7XG5cdFx0XHRsZXQgYmFzZU1vbnRoID0gc3BsaXREYXRlW2dldE1vbnRoXSgpO1xuXG5cdFx0XHRmb3IgKGxldCBpID0gMDsgc3BsaXQgPD0gc2NhbGVNYXg7IGkrKykge1xuXHRcdFx0XHRsZXQgbmV4dCA9IG1rRGF0ZShiYXNlWWVhciwgYmFzZU1vbnRoICsgbW9JbmNyICogaSwgMSk7XG5cdFx0XHRcdGxldCBvZmZzID0gbmV4dCAtIHR6RGF0ZShuZXh0IC8gMWUzKTtcblxuXHRcdFx0XHRzcGxpdCA9ICgrbmV4dCArIG9mZnMpIC8gMWUzO1xuXG5cdFx0XHRcdGlmIChzcGxpdCA8PSBzY2FsZU1heClcblx0XHRcdFx0XHRzcGxpdHMucHVzaChzcGxpdCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0bGV0IGluY3IwID0gaW5jciA+PSBkID8gZCA6IGluY3I7XG5cdFx0XHRsZXQgdHpPZmZzZXQgPSBmbG9vcihzY2FsZU1pbikgLSBmbG9vcihtaW5EYXRlVHMpO1xuXHRcdFx0bGV0IHNwbGl0ID0gbWluTWluVHMgKyB0ek9mZnNldCArIGluY3JSb3VuZFVwKG1pbkRhdGVUcyAtIG1pbk1pblRzLCBpbmNyMCk7XG5cdFx0XHRzcGxpdHMucHVzaChzcGxpdCk7XG5cblx0XHRcdGxldCBkYXRlMCA9IHR6RGF0ZShzcGxpdCk7XG5cblx0XHRcdGxldCBwcmV2SG91ciA9IGRhdGUwW2dldEhvdXJzXSgpICsgKGRhdGUwW2dldE1pbnV0ZXNdKCkgLyBtKSArIChkYXRlMFtnZXRTZWNvbmRzXSgpIC8gaCk7XG5cdFx0XHRsZXQgaW5jckhvdXJzID0gaW5jciAvIGg7XG5cblx0XHRcdHdoaWxlICgxKSB7XG5cdFx0XHRcdHNwbGl0ID0gcm91bmQzKHNwbGl0ICsgaW5jcik7XG5cblx0XHRcdFx0bGV0IGV4cGVjdGVkSG91ciA9IGZsb29yKHJvdW5kNihwcmV2SG91ciArIGluY3JIb3VycykpICUgMjQ7XG5cdFx0XHRcdGxldCBzcGxpdERhdGUgPSB0ekRhdGUoc3BsaXQpO1xuXHRcdFx0XHRsZXQgYWN0dWFsSG91ciA9IHNwbGl0RGF0ZS5nZXRIb3VycygpO1xuXG5cdFx0XHRcdGxldCBkc3RTaGlmdCA9IGFjdHVhbEhvdXIgLSBleHBlY3RlZEhvdXI7XG5cblx0XHRcdFx0aWYgKGRzdFNoaWZ0ID4gMSlcblx0XHRcdFx0XHRkc3RTaGlmdCA9IC0xO1xuXG5cdFx0XHRcdHNwbGl0IC09IGRzdFNoaWZ0ICogaDtcblxuXHRcdFx0XHRpZiAoc3BsaXQgPiBzY2FsZU1heClcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRwcmV2SG91ciA9IChwcmV2SG91ciArIGluY3JIb3VycykgJSAyNDtcblxuXHRcdFx0XHQvLyBhZGQgYSB0aWNrIG9ubHkgaWYgaXQncyBmdXJ0aGVyIHRoYW4gNzAlIG9mIHRoZSBtaW4gYWxsb3dlZCBsYWJlbCBzcGFjaW5nXG5cdFx0XHRcdGxldCBwcmV2U3BsaXQgPSBzcGxpdHNbc3BsaXRzLmxlbmd0aCAtIDFdO1xuXHRcdFx0XHRsZXQgcGN0SW5jciA9IHJvdW5kMygoc3BsaXQgLSBwcmV2U3BsaXQpIC8gaW5jcik7XG5cblx0XHRcdFx0aWYgKHBjdEluY3IgKiBwY3RTcGFjZSA+PSAuNylcblx0XHRcdFx0XHRzcGxpdHMucHVzaChzcGxpdCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHNwbGl0cztcblx0fVxufVxuXG5mdW5jdGlvbiB0aW1lU2VyaWVzU3RhbXAoc3RhbXBDZmcsIGZtdERhdGUpIHtcblx0cmV0dXJuIGZtdERhdGUoc3RhbXBDZmcpO1xufVxuY29uc3QgX3RpbWVTZXJpZXNTdGFtcCA9ICd7WVlZWX0te01NfS17RER9IHtofTp7bW19e2FhfSc7XG5cbmZ1bmN0aW9uIHRpbWVTZXJpZXNWYWwodHpEYXRlLCBzdGFtcCkge1xuXHRyZXR1cm4gKHNlbGYsIHZhbCkgPT4gc3RhbXAodHpEYXRlKHZhbCkpO1xufVxuXG5mdW5jdGlvbiBjdXJzb3JQb2ludChzZWxmLCBzaSkge1xuXHRsZXQgcyA9IHNlbGYuc2VyaWVzW3NpXTtcblxuXHRsZXQgcHQgPSBwbGFjZURpdigpO1xuXG5cdHB0LnN0eWxlLmJhY2tncm91bmQgPSBzLnN0cm9rZSB8fCBoZXhCbGFjaztcblxuXHRsZXQgZGlhID0gcHREaWEocy53aWR0aCwgMSk7XG5cdGxldCBtYXIgPSAoZGlhIC0gMSkgLyAtMjtcblxuXHRzZXRTdHlsZVB4KHB0LCBXSURUSCwgZGlhKTtcblx0c2V0U3R5bGVQeChwdCwgSEVJR0hULCBkaWEpO1xuXHRzZXRTdHlsZVB4KHB0LCBcIm1hcmdpbkxlZnRcIiwgbWFyKTtcblx0c2V0U3R5bGVQeChwdCwgXCJtYXJnaW5Ub3BcIiwgbWFyKTtcblxuXHRyZXR1cm4gcHQ7XG59XG5cbmNvbnN0IGN1cnNvck9wdHMgPSB7XG5cdHNob3c6IHRydWUsXG5cdHg6IHRydWUsXG5cdHk6IHRydWUsXG5cdGxvY2s6IGZhbHNlLFxuXHRwb2ludHM6IHtcblx0XHRzaG93OiBjdXJzb3JQb2ludCxcblx0fSxcblxuXHRkcmFnOiB7XG5cdFx0c2V0U2NhbGU6IHRydWUsXG5cdFx0eDogdHJ1ZSxcblx0XHR5OiBmYWxzZSxcblx0XHRkaXN0OiAwLFxuXHRcdHVuaTogbnVsbCxcblx0XHRfeDogZmFsc2UsXG5cdFx0X3k6IGZhbHNlLFxuXHR9LFxuXG5cdGZvY3VzOiB7XG5cdFx0cHJveDogLTEsXG5cdH0sXG5cblx0bG9ja2VkOiBmYWxzZSxcblx0bGVmdDogLTEwLFxuXHR0b3A6IC0xMCxcblx0aWR4OiBudWxsLFxufTtcblxuY29uc3QgZ3JpZCA9IHtcblx0c2hvdzogdHJ1ZSxcblx0c3Ryb2tlOiBcInJnYmEoMCwwLDAsMC4wNylcIixcblx0d2lkdGg6IDIsXG4vL1x0ZGFzaDogW10sXG59O1xuXG5jb25zdCB0aWNrcyA9IGFzc2lnbih7fSwgZ3JpZCwge3NpemU6IDEwfSk7XG5cbmNvbnN0IGZvbnQgICAgICA9ICcxMnB4IC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgXCJTZWdvZSBVSVwiLCBSb2JvdG8sIFwiSGVsdmV0aWNhIE5ldWVcIiwgQXJpYWwsIFwiTm90byBTYW5zXCIsIHNhbnMtc2VyaWYsIFwiQXBwbGUgQ29sb3IgRW1vamlcIiwgXCJTZWdvZSBVSSBFbW9qaVwiLCBcIlNlZ29lIFVJIFN5bWJvbFwiLCBcIk5vdG8gQ29sb3IgRW1vamlcIic7XG5jb25zdCBsYWJlbEZvbnQgPSBcImJvbGQgXCIgKyBmb250O1xuY29uc3QgbGluZU11bHQgPSAxLjU7XHRcdC8vIGZvbnQtc2l6ZSBtdWx0aXBsaWVyXG5cbmNvbnN0IHhBeGlzT3B0cyA9IHtcblx0dHlwZTogXCJ4XCIsXG5cdHNob3c6IHRydWUsXG5cdHNjYWxlOiBcInhcIixcblx0c3BhY2U6IDUwLFxuXHRnYXA6IDUsXG5cdHNpemU6IDUwLFxuXHRsYWJlbFNpemU6IDMwLFxuXHRsYWJlbEZvbnQsXG5cdHNpZGU6IDIsXG4vL1x0Y2xhc3M6IFwieC12YWxzXCIsXG4vL1x0aW5jcnM6IHRpbWVJbmNycyxcbi8vXHR2YWx1ZXM6IHRpbWVWYWxzLFxuXHRncmlkLFxuXHR0aWNrcyxcblx0Zm9udCxcblx0cm90YXRlOiAwLFxufTtcblxuY29uc3QgbnVtU2VyaWVzTGFiZWwgPSBcIlZhbHVlXCI7XG5jb25zdCB0aW1lU2VyaWVzTGFiZWwgPSBcIlRpbWVcIjtcblxuY29uc3QgeFNlcmllc09wdHMgPSB7XG5cdHNob3c6IHRydWUsXG5cdHNjYWxlOiBcInhcIixcbi8vXHRsYWJlbDogXCJUaW1lXCIsXG4vL1x0dmFsdWU6IHYgPT4gc3RhbXAobmV3IERhdGUodiAqIDFlMykpLFxuXG5cdC8vIGludGVybmFsIGNhY2hlc1xuXHRtaW46IGluZixcblx0bWF4OiAtaW5mLFxuXHRpZHhzOiBbXSxcbn07XG5cbi8vIGFsdGVybmF0aXZlOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjI1NDg5NlxubGV0IGZtdE51bSA9IG5ldyBJbnRsLk51bWJlckZvcm1hdChuYXZpZ2F0b3IubGFuZ3VhZ2UpO1xuXG5mdW5jdGlvbiBudW1BeGlzVmFscyhzZWxmLCBzcGxpdHMsIHNwYWNlLCBpbmNyKSB7XG5cdHJldHVybiBzcGxpdHMubWFwKGZtdE51bS5mb3JtYXQpO1xufVxuXG5mdW5jdGlvbiBudW1BeGlzU3BsaXRzKHNlbGYsIHNjYWxlTWluLCBzY2FsZU1heCwgaW5jciwgcGN0U3BhY2UsIGZvcmNlTWluKSB7XG5cdHNjYWxlTWluID0gZm9yY2VNaW4gPyBzY2FsZU1pbiA6ICtpbmNyUm91bmRVcChzY2FsZU1pbiwgaW5jcikudG9GaXhlZCgxMik7XG5cblx0bGV0IHNwbGl0cyA9IFtdO1xuXG5cdGZvciAobGV0IHZhbCA9IHNjYWxlTWluOyB2YWwgPD0gc2NhbGVNYXg7IHZhbCA9ICsodmFsICsgaW5jcikudG9GaXhlZCgxMikpXG5cdFx0c3BsaXRzLnB1c2godmFsKTtcblxuXHRyZXR1cm4gc3BsaXRzO1xufVxuXG5mdW5jdGlvbiBudW1TZXJpZXNWYWwoc2VsZiwgdmFsKSB7XG5cdHJldHVybiB2YWw7XG59XG5cbmNvbnN0IHlBeGlzT3B0cyA9IHtcblx0dHlwZTogXCJ5XCIsXG5cdHNob3c6IHRydWUsXG5cdHNjYWxlOiBcInlcIixcblx0c3BhY2U6IDQwLFxuXHRnYXA6IDUsXG5cdHNpemU6IDUwLFxuXHRsYWJlbFNpemU6IDMwLFxuXHRsYWJlbEZvbnQsXG5cdHNpZGU6IDMsXG4vL1x0Y2xhc3M6IFwieS12YWxzXCIsXG4vL1x0aW5jcnM6IG51bUluY3JzLFxuLy9cdHZhbHVlczogKHZhbHMsIHNwYWNlKSA9PiB2YWxzLFxuXHRncmlkLFxuXHR0aWNrcyxcblx0Zm9udCxcblx0cm90YXRlOiAwLFxufTtcblxuLy8gdGFrZXMgc3Ryb2tlIHdpZHRoXG5mdW5jdGlvbiBwdERpYSh3aWR0aCwgbXVsdCkge1xuXHRsZXQgZGlhID0gMyArICh3aWR0aCB8fCAxKSAqIDI7XG5cdHJldHVybiByb3VuZDMoZGlhICogbXVsdCk7XG59XG5cbmZ1bmN0aW9uIHNlcmllc1BvaW50cyhzZWxmLCBzaSkge1xuXHRjb25zdCBkaWEgPSBwdERpYShzZWxmLnNlcmllc1tzaV0ud2lkdGgsIHB4UmF0aW8pO1xuXHRsZXQgbWF4UHRzID0gc2VsZi5iYm94LndpZHRoIC8gZGlhIC8gMjtcblx0bGV0IGlkeHMgPSBzZWxmLnNlcmllc1swXS5pZHhzO1xuXHRyZXR1cm4gaWR4c1sxXSAtIGlkeHNbMF0gPD0gbWF4UHRzO1xufVxuXG5jb25zdCB5U2VyaWVzT3B0cyA9IHtcbi8vXHR0eXBlOiBcIm5cIixcblx0c2NhbGU6IFwieVwiLFxuXHRzaG93OiB0cnVlLFxuXHRiYW5kOiBmYWxzZSxcblx0c3BhbkdhcHM6IGZhbHNlLFxuXHRhbHBoYTogMSxcblx0cG9pbnRzOiB7XG5cdFx0c2hvdzogc2VyaWVzUG9pbnRzLFxuXHQvL1x0c3Ryb2tlOiBcIiMwMDBcIixcblx0Ly9cdGZpbGw6IFwiI2ZmZlwiLFxuXHQvL1x0d2lkdGg6IDEsXG5cdC8vXHRzaXplOiAxMCxcblx0fSxcbi8vXHRsYWJlbDogXCJWYWx1ZVwiLFxuLy9cdHZhbHVlOiB2ID0+IHYsXG5cdHZhbHVlczogbnVsbCxcblxuXHQvLyBpbnRlcm5hbCBjYWNoZXNcblx0bWluOiBpbmYsXG5cdG1heDogLWluZixcblx0aWR4czogW10sXG5cblx0cGF0aDogbnVsbCxcblx0Y2xpcDogbnVsbCxcbn07XG5cbmNvbnN0IHhTY2FsZU9wdHMgPSB7XG5cdHRpbWU6IHRydWUsXG5cdGF1dG86IGZhbHNlLFxuXHRkaXN0cjogMSxcblx0bWluOiBudWxsLFxuXHRtYXg6IG51bGwsXG59O1xuXG5jb25zdCB5U2NhbGVPcHRzID0gYXNzaWduKHt9LCB4U2NhbGVPcHRzLCB7XG5cdHRpbWU6IGZhbHNlLFxuXHRhdXRvOiB0cnVlLFxufSk7XG5cbmNvbnN0IHN5bmNzID0ge307XG5cbmZ1bmN0aW9uIF9zeW5jKG9wdHMpIHtcblx0bGV0IGNsaWVudHMgPSBbXTtcblxuXHRyZXR1cm4ge1xuXHRcdHN1YihjbGllbnQpIHtcblx0XHRcdGNsaWVudHMucHVzaChjbGllbnQpO1xuXHRcdH0sXG5cdFx0dW5zdWIoY2xpZW50KSB7XG5cdFx0XHRjbGllbnRzID0gY2xpZW50cy5maWx0ZXIoYyA9PiBjICE9IGNsaWVudCk7XG5cdFx0fSxcblx0XHRwdWIodHlwZSwgc2VsZiwgeCwgeSwgdywgaCwgaSkge1xuXHRcdFx0aWYgKGNsaWVudHMubGVuZ3RoID4gMSkge1xuXHRcdFx0XHRjbGllbnRzLmZvckVhY2goY2xpZW50ID0+IHtcblx0XHRcdFx0XHRjbGllbnQgIT0gc2VsZiAmJiBjbGllbnQucHViKHR5cGUsIHNlbGYsIHgsIHksIHcsIGgsIGkpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIHNldERlZmF1bHRzKGQsIHhvLCB5bywgaW5pdFkpIHtcblx0bGV0IGQyID0gaW5pdFkgPyBbZFswXSwgZFsxXV0uY29uY2F0KGQuc2xpY2UoMikpIDogW2RbMF1dLmNvbmNhdChkLnNsaWNlKDEpKTtcblx0cmV0dXJuIGQyLm1hcCgobywgaSkgPT4gc2V0RGVmYXVsdChvLCBpLCB4bywgeW8pKTtcbn1cblxuZnVuY3Rpb24gc2V0RGVmYXVsdChvLCBpLCB4bywgeW8pIHtcblx0cmV0dXJuIGFzc2lnbih7fSwgKGkgPT0gMCB8fCBvICYmIG8uc2lkZSAlIDIgPT0gMCA/IHhvIDogeW8pLCBvKTtcbn1cblxuZnVuY3Rpb24gZ2V0WVBvcyh2YWwsIHNjYWxlLCBoZ3QsIHRvcCkge1xuXHRsZXQgcGN0WSA9ICh2YWwgLSBzY2FsZS5taW4pIC8gKHNjYWxlLm1heCAtIHNjYWxlLm1pbik7XG5cdHJldHVybiB0b3AgKyAoMSAtIHBjdFkpICogaGd0O1xufVxuXG5mdW5jdGlvbiBnZXRYUG9zKHZhbCwgc2NhbGUsIHdpZCwgbGZ0KSB7XG5cdGxldCBwY3RYID0gKHZhbCAtIHNjYWxlLm1pbikgLyAoc2NhbGUubWF4IC0gc2NhbGUubWluKTtcblx0cmV0dXJuIGxmdCArIHBjdFggKiB3aWQ7XG59XG5cbmZ1bmN0aW9uIHNuYXBUaW1lWChzZWxmLCBkYXRhTWluLCBkYXRhTWF4KSB7XG5cdHJldHVybiBbZGF0YU1pbiwgZGF0YU1heCA+IGRhdGFNaW4gPyBkYXRhTWF4IDogZGF0YU1heCArIDg2NDAwXTtcbn1cblxuZnVuY3Rpb24gc25hcE51bVgoc2VsZiwgZGF0YU1pbiwgZGF0YU1heCkge1xuXHRjb25zdCBkZWx0YSA9IGRhdGFNYXggLSBkYXRhTWluO1xuXG5cdGlmIChkZWx0YSA9PSAwKSB7XG5cdFx0Y29uc3QgbWFnID0gbG9nMTAoZGVsdGEgfHwgYWJzKGRhdGFNYXgpIHx8IDEpO1xuXHRcdGNvbnN0IGV4cCA9IGZsb29yKG1hZykgKyAxO1xuXHRcdHJldHVybiBbZGF0YU1pbiwgaW5jclJvdW5kVXAoZGF0YU1heCwgcG93KDEwLCBleHApKV07XG5cdH1cblx0ZWxzZVxuXHRcdHJldHVybiBbZGF0YU1pbiwgZGF0YU1heF07XG59XG5cbi8vIHRoaXMgZW5zdXJlcyB0aGF0IG5vbi10ZW1wb3JhbC9udW1lcmljIHktYXhlcyBnZXQgbXVsdGlwbGUtc25hcHBlZCBwYWRkaW5nIGFkZGVkIGFib3ZlL2JlbG93XG4vLyBUT0RPOiBhbHNvIGFjY291bnQgZm9yIGluY3JzIHdoZW4gc25hcHBpbmcgdG8gZW5zdXJlIHRvcCBvZiBheGlzIGdldHMgYSB0aWNrICYgdmFsdWVcbmZ1bmN0aW9uIHNuYXBOdW1ZKHNlbGYsIGRhdGFNaW4sIGRhdGFNYXgpIHtcblx0cmV0dXJuIHJhbmdlTnVtKGRhdGFNaW4sIGRhdGFNYXgsIDAuMiwgdHJ1ZSk7XG59XG5cbi8vIGRpbSBpcyBsb2dpY2FsIChnZXRDbGllbnRCb3VuZGluZ1JlY3QpIHBpeGVscywgbm90IGNhbnZhcyBwaXhlbHNcbmZ1bmN0aW9uIGZpbmRJbmNyKHZhbERlbHRhLCBpbmNycywgZGltLCBtaW5TcGFjZSkge1xuXHRsZXQgcHhQZXJVbml0ID0gZGltIC8gdmFsRGVsdGE7XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBpbmNycy5sZW5ndGg7IGkrKykge1xuXHRcdGxldCBzcGFjZSA9IGluY3JzW2ldICogcHhQZXJVbml0O1xuXG5cdFx0aWYgKHNwYWNlID49IG1pblNwYWNlKVxuXHRcdFx0cmV0dXJuIFtpbmNyc1tpXSwgc3BhY2VdO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGZpbHRNb3VzZShlKSB7XG5cdHJldHVybiBlLmJ1dHRvbiA9PSAwO1xufVxuXG5mdW5jdGlvbiBweFJhdGlvRm9udChmb250KSB7XG5cdGxldCBmb250U2l6ZTtcblx0Zm9udCA9IGZvbnQucmVwbGFjZSgvXFxkKy8sIG0gPT4gKGZvbnRTaXplID0gcm91bmQobSAqIHB4UmF0aW8pKSk7XG5cdHJldHVybiBbZm9udCwgZm9udFNpemVdO1xufVxuXG5mdW5jdGlvbiB1UGxvdChvcHRzLCBkYXRhLCB0aGVuKSB7XG5cdGNvbnN0IHNlbGYgPSB7fTtcblxuXHRjb25zdCByb290ID0gc2VsZi5yb290ID0gcGxhY2VEaXYoXCJ1cGxvdFwiKTtcblxuXHRpZiAob3B0cy5pZCAhPSBudWxsKVxuXHRcdHJvb3QuaWQgPSBvcHRzLmlkO1xuXG5cdGFkZENsYXNzKHJvb3QsIG9wdHMuY2xhc3MpO1xuXG5cdGlmIChvcHRzLnRpdGxlKSB7XG5cdFx0bGV0IHRpdGxlID0gcGxhY2VEaXYoXCJ0aXRsZVwiLCByb290KTtcblx0XHR0aXRsZS50ZXh0Q29udGVudCA9IG9wdHMudGl0bGU7XG5cdH1cblxuXHRjb25zdCBjYW4gPSBwbGFjZVRhZyhcImNhbnZhc1wiKTtcblx0Y29uc3QgY3R4ID0gc2VsZi5jdHggPSBjYW4uZ2V0Q29udGV4dChcIjJkXCIpO1xuXG5cdGNvbnN0IHdyYXAgPSBwbGFjZURpdihcIndyYXBcIiwgcm9vdCk7XG5cdGNvbnN0IHVuZGVyID0gcGxhY2VEaXYoXCJ1bmRlclwiLCB3cmFwKTtcblx0d3JhcC5hcHBlbmRDaGlsZChjYW4pO1xuXHRjb25zdCBvdmVyID0gcGxhY2VEaXYoXCJvdmVyXCIsIHdyYXApO1xuXG5cdG9wdHMgPSBjb3B5KG9wdHMpO1xuXG5cdChvcHRzLnBsdWdpbnMgfHwgW10pLmZvckVhY2gocCA9PiB7XG5cdFx0aWYgKHAub3B0cylcblx0XHRcdG9wdHMgPSBwLm9wdHMoc2VsZiwgb3B0cykgfHwgb3B0cztcblx0fSk7XG5cblx0bGV0IHJlYWR5ID0gZmFsc2U7XG5cblx0Y29uc3Qgc2VyaWVzICA9IHNlbGYuc2VyaWVzID0gc2V0RGVmYXVsdHMob3B0cy5zZXJpZXMgfHwgW10sIHhTZXJpZXNPcHRzLCB5U2VyaWVzT3B0cywgZmFsc2UpO1xuXHRjb25zdCBheGVzICAgID0gc2VsZi5heGVzICAgPSBzZXREZWZhdWx0cyhvcHRzLmF4ZXMgICB8fCBbXSwgeEF4aXNPcHRzLCAgIHlBeGlzT3B0cywgICAgdHJ1ZSk7XG5cdGNvbnN0IHNjYWxlcyAgPSBzZWxmLnNjYWxlcyA9IGFzc2lnbih7fSwge3g6IHhTY2FsZU9wdHMsIHk6IHlTY2FsZU9wdHN9LCBvcHRzLnNjYWxlcyk7XG5cblx0Y29uc3QgZ3V0dGVycyA9IGFzc2lnbih7XG5cdFx0eDogcm91bmQoeUF4aXNPcHRzLnNpemUgLyAyKSxcblx0XHR5OiByb3VuZCh4QXhpc09wdHMuc2l6ZSAvIDMpLFxuXHR9LCBvcHRzLmd1dHRlcnMpO1xuXG4vL1x0c2VsZi50eiA9IG9wdHMudHogfHwgSW50bC5EYXRlVGltZUZvcm1hdCgpLnJlc29sdmVkT3B0aW9ucygpLnRpbWVab25lO1xuXHRjb25zdCBfdHpEYXRlICA9ICAob3B0cy50ekRhdGUgfHwgKHRzID0+IG5ldyBEYXRlKHRzICogMWUzKSkpO1xuXHRjb25zdCBfZm10RGF0ZSA9ICAob3B0cy5mbXREYXRlIHx8IGZtdERhdGUpO1xuXG5cdGNvbnN0IF90aW1lQXhpc1NwbGl0cyA9ICB0aW1lQXhpc1NwbGl0cyhfdHpEYXRlKTtcblx0Y29uc3QgX3RpbWVBeGlzVmFscyAgID0gIHRpbWVBeGlzVmFscyhfdHpEYXRlLCB0aW1lQXhpc1N0YW1wcyhfdGltZUF4aXNTdGFtcHMsIF9mbXREYXRlKSk7XG5cdGNvbnN0IF90aW1lU2VyaWVzVmFsICA9ICB0aW1lU2VyaWVzVmFsKF90ekRhdGUsIHRpbWVTZXJpZXNTdGFtcChfdGltZVNlcmllc1N0YW1wLCBfZm10RGF0ZSkpO1xuXG5cdGNvbnN0IHBlbmRTY2FsZXMgPSB7fTtcblxuXHQvLyBleHBsaWNpdGx5LXNldCBpbml0aWFsIHNjYWxlc1xuXHRmb3IgKGxldCBrIGluIHNjYWxlcykge1xuXHRcdGxldCBzYyA9IHNjYWxlc1trXTtcblxuXHRcdGlmIChzYy5taW4gIT0gbnVsbCB8fCBzYy5tYXggIT0gbnVsbClcblx0XHRcdHBlbmRTY2FsZXNba10gPSB7bWluOiBzYy5taW4sIG1heDogc2MubWF4fTtcblx0fVxuXG5cdGNvbnN0IGxlZ2VuZCAgICAgPSAgYXNzaWduKHtzaG93OiB0cnVlfSwgb3B0cy5sZWdlbmQpO1xuXHRjb25zdCBzaG93TGVnZW5kID0gIGxlZ2VuZC5zaG93O1xuXG5cdGxldCBsZWdlbmRFbDtcblx0bGV0IGxlZ2VuZFJvd3MgPSBbXTtcblx0bGV0IGxlZ2VuZENvbHM7XG5cdGxldCBtdWx0aVZhbExlZ2VuZCA9IGZhbHNlO1xuXG5cdGlmIChzaG93TGVnZW5kKSB7XG5cdFx0bGVnZW5kRWwgPSBwbGFjZVRhZyhcInRhYmxlXCIsIFwibGVnZW5kXCIsIHJvb3QpO1xuXG5cdFx0Y29uc3QgZ2V0TXVsdGlWYWxzID0gc2VyaWVzWzFdID8gc2VyaWVzWzFdLnZhbHVlcyA6IG51bGw7XG5cdFx0bXVsdGlWYWxMZWdlbmQgPSBnZXRNdWx0aVZhbHMgIT0gbnVsbDtcblxuXHRcdGlmIChtdWx0aVZhbExlZ2VuZCkge1xuXHRcdFx0bGV0IGhlYWQgPSBwbGFjZVRhZyhcInRyXCIsIFwibGFiZWxzXCIsIGxlZ2VuZEVsKTtcblx0XHRcdHBsYWNlVGFnKFwidGhcIiwgbnVsbCwgaGVhZCk7XG5cdFx0XHRsZWdlbmRDb2xzID0gZ2V0TXVsdGlWYWxzKHNlbGYsIDEsIDApO1xuXG5cdFx0XHRmb3IgKHZhciBrZXkgaW4gbGVnZW5kQ29scylcblx0XHRcdFx0cGxhY2VUYWcoXCJ0aFwiLCBudWxsLCBoZWFkKS50ZXh0Q29udGVudCA9IGtleTtcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHRsZWdlbmRDb2xzID0ge186IDB9O1xuXHRcdFx0YWRkQ2xhc3MobGVnZW5kRWwsIFwiaW5saW5lXCIpO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIGluaXRMZWdlbmRSb3cocywgaSkge1xuXHRcdGlmIChpID09IDAgJiYgbXVsdGlWYWxMZWdlbmQpXG5cdFx0XHRyZXR1cm4gbnVsbDtcblxuXHRcdGxldCBfcm93ID0gW107XG5cblx0XHRsZXQgcm93ID0gcGxhY2VUYWcoXCJ0clwiLCBcInNlcmllc1wiLCBsZWdlbmRFbCwgbGVnZW5kRWwuY2hpbGROb2Rlc1tpXSk7XG5cblx0XHRhZGRDbGFzcyhyb3csIHMuY2xhc3MpO1xuXG5cdFx0aWYgKCFzLnNob3cpXG5cdFx0XHRhZGRDbGFzcyhyb3csIFwib2ZmXCIpO1xuXG5cdFx0bGV0IGxhYmVsID0gcGxhY2VUYWcoXCJ0aFwiLCBudWxsLCByb3cpO1xuXG5cdFx0bGV0IGluZGljID0gcGxhY2VEaXYoXCJpZGVudFwiLCBsYWJlbCk7XG5cdFx0cy53aWR0aCAmJiAoaW5kaWMuc3R5bGUuYm9yZGVyQ29sb3IgPSBzLnN0cm9rZSk7XG5cdFx0aW5kaWMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gcy5maWxsO1xuXG5cdFx0bGV0IHRleHQgPSBwbGFjZURpdihcInRleHRcIiwgbGFiZWwpO1xuXHRcdHRleHQudGV4dENvbnRlbnQgPSBzLmxhYmVsO1xuXG5cdFx0aWYgKGkgPiAwKSB7XG5cdFx0XHRvbihcImNsaWNrXCIsIGxhYmVsLCBlID0+IHtcblx0XHRcdFx0aWYgKCBjdXJzb3IubG9ja2VkKVxuXHRcdFx0XHRcdHJldHVybjtcblxuXHRcdFx0XHRmaWx0TW91c2UoZSkgJiYgc2V0U2VyaWVzKHNlcmllcy5pbmRleE9mKHMpLCB7c2hvdzogIXMuc2hvd30sICBzeW5jT3B0cy5zZXRTZXJpZXMpO1xuXHRcdFx0fSk7XG5cblx0XHRcdGlmIChjdXJzb3JGb2N1cykge1xuXHRcdFx0XHRvbihtb3VzZWVudGVyLCBsYWJlbCwgZSA9PiB7XG5cdFx0XHRcdFx0aWYgKGN1cnNvci5sb2NrZWQpXG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cblx0XHRcdFx0XHRzZXRTZXJpZXMoc2VyaWVzLmluZGV4T2YocyksIHtmb2N1czogdHJ1ZX0sIHN5bmNPcHRzLnNldFNlcmllcyk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGZvciAodmFyIGtleSBpbiBsZWdlbmRDb2xzKSB7XG5cdFx0XHRsZXQgdiA9IHBsYWNlVGFnKFwidGRcIiwgbnVsbCwgcm93KTtcblx0XHRcdHYudGV4dENvbnRlbnQgPSBcIi0tXCI7XG5cdFx0XHRfcm93LnB1c2godik7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIF9yb3c7XG5cdH1cblxuXHRjb25zdCBjdXJzb3IgPSAgKHNlbGYuY3Vyc29yID0gYXNzaWduKHt9LCBjdXJzb3JPcHRzLCBvcHRzLmN1cnNvcikpO1xuXG5cdCAoY3Vyc29yLnBvaW50cy5zaG93ID0gZm5PclNlbGYoY3Vyc29yLnBvaW50cy5zaG93KSk7XG5cblx0Y29uc3QgZm9jdXMgPSBzZWxmLmZvY3VzID0gYXNzaWduKHt9LCBvcHRzLmZvY3VzIHx8IHthbHBoYTogMC4zfSwgIGN1cnNvci5mb2N1cyk7XG5cdGNvbnN0IGN1cnNvckZvY3VzID0gIGZvY3VzLnByb3ggPj0gMDtcblxuXHQvLyBzZXJpZXMtaW50ZXJzZWN0aW9uIG1hcmtlcnNcblx0bGV0IGN1cnNvclB0cyA9IFtudWxsXTtcblxuXHRmdW5jdGlvbiBpbml0Q3Vyc29yUHQocywgc2kpIHtcblx0XHRpZiAoc2kgPiAwKSB7XG5cdFx0XHRsZXQgcHQgPSBjdXJzb3IucG9pbnRzLnNob3coc2VsZiwgc2kpO1xuXG5cdFx0XHRpZiAocHQpIHtcblx0XHRcdFx0YWRkQ2xhc3MocHQsIFwiY3Vyc29yLXB0XCIpO1xuXHRcdFx0XHRhZGRDbGFzcyhwdCwgcy5jbGFzcyk7XG5cdFx0XHRcdHRyYW5zKHB0LCAtMTAsIC0xMCk7XG5cdFx0XHRcdG92ZXIuaW5zZXJ0QmVmb3JlKHB0LCBjdXJzb3JQdHNbc2ldKTtcblxuXHRcdFx0XHRyZXR1cm4gcHQ7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gaW5pdFNlcmllcyhzLCBpKSB7XG5cdFx0Ly8gaW5pdCBzY2FsZXMgJiBkZWZhdWx0c1xuXHRcdGNvbnN0IHNjS2V5ID0gcy5zY2FsZTtcblxuXHRcdGNvbnN0IHNjID0gc2NhbGVzW3NjS2V5XSA9IGFzc2lnbih7fSwgKGkgPT0gMCA/IHhTY2FsZU9wdHMgOiB5U2NhbGVPcHRzKSwgc2NhbGVzW3NjS2V5XSk7XG5cblx0XHRsZXQgaXNUaW1lID0gIHNjLnRpbWU7XG5cblx0XHRzYy5yYW5nZSA9IGZuT3JTZWxmKHNjLnJhbmdlIHx8IChpc1RpbWUgPyBzbmFwVGltZVggOiBpID09IDAgPyBzbmFwTnVtWCA6IHNuYXBOdW1ZKSk7XG5cblx0XHRsZXQgc3YgPSBzLnZhbHVlO1xuXHRcdHMudmFsdWUgPSBpc1RpbWUgPyAoaXNTdHIoc3YpID8gdGltZVNlcmllc1ZhbChfdHpEYXRlLCB0aW1lU2VyaWVzU3RhbXAoc3YsIF9mbXREYXRlKSkgOiBzdiB8fCBfdGltZVNlcmllc1ZhbCkgOiBzdiB8fCBudW1TZXJpZXNWYWw7XG5cdFx0cy5sYWJlbCA9IHMubGFiZWwgfHwgKGlzVGltZSA/IHRpbWVTZXJpZXNMYWJlbCA6IG51bVNlcmllc0xhYmVsKTtcblxuXHRcdGlmIChpID4gMCkge1xuXHRcdFx0cy53aWR0aCA9IHMud2lkdGggPT0gbnVsbCA/IDEgOiBzLndpZHRoO1xuXHRcdFx0cy5wYXRocyA9IHMucGF0aHMgfHwgKCBidWlsZFBhdGhzKTtcblx0XHRcdGxldCBfcHREaWEgPSBwdERpYShzLndpZHRoLCAxKTtcblx0XHRcdHMucG9pbnRzID0gYXNzaWduKHt9LCB7XG5cdFx0XHRcdHNpemU6IF9wdERpYSxcblx0XHRcdFx0d2lkdGg6IG1heCgxLCBfcHREaWEgKiAuMiksXG5cdFx0XHR9LCBzLnBvaW50cyk7XG5cdFx0XHRzLnBvaW50cy5zaG93ID0gZm5PclNlbGYocy5wb2ludHMuc2hvdyk7XG5cdFx0XHRzLl9wYXRocyA9IG51bGw7XG5cdFx0fVxuXG5cdFx0aWYgKHNob3dMZWdlbmQpXG5cdFx0XHRsZWdlbmRSb3dzLnNwbGljZShpLCAwLCBpbml0TGVnZW5kUm93KHMsIGkpKTtcblxuXHRcdGlmICggY3Vyc29yLnNob3cpIHtcblx0XHRcdGxldCBwdCA9IGluaXRDdXJzb3JQdChzLCBpKTtcblx0XHRcdHB0ICYmIGN1cnNvclB0cy5zcGxpY2UoaSwgMCwgcHQpO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIGFkZFNlcmllcyhvcHRzLCBzaSkge1xuXHRcdHNpID0gc2kgPT0gbnVsbCA/IHNlcmllcy5sZW5ndGggOiBzaTtcblxuXHRcdG9wdHMgPSBzZXREZWZhdWx0KG9wdHMsIHNpLCB4U2VyaWVzT3B0cywgeVNlcmllc09wdHMpO1xuXHRcdHNlcmllcy5zcGxpY2Uoc2ksIDAsIG9wdHMpO1xuXHRcdGluaXRTZXJpZXMoc2VyaWVzW3NpXSwgc2kpO1xuXHR9XG5cblx0c2VsZi5hZGRTZXJpZXMgPSBhZGRTZXJpZXM7XG5cblx0ZnVuY3Rpb24gZGVsU2VyaWVzKGkpIHtcblx0XHRzZXJpZXMuc3BsaWNlKGksIDEpO1xuXHRcdCBzaG93TGVnZW5kICYmIGxlZ2VuZFJvd3Muc3BsaWNlKGksIDEpWzBdWzBdLnBhcmVudE5vZGUucmVtb3ZlKCk7XG5cdFx0IGN1cnNvclB0cy5sZW5ndGggPiAxICYmIGN1cnNvclB0cy5zcGxpY2UoaSwgMSlbMF0ucmVtb3ZlKCk7XG5cblx0XHQvLyBUT0RPOiBkZS1pbml0IG5vLWxvbmdlci1uZWVkZWQgc2NhbGVzP1xuXHR9XG5cblx0c2VsZi5kZWxTZXJpZXMgPSBkZWxTZXJpZXM7XG5cblx0c2VyaWVzLmZvckVhY2goaW5pdFNlcmllcyk7XG5cblx0Ly8gZGVwZW5kZW50IHNjYWxlcyBpbmhlcml0XG5cdGZvciAobGV0IGsgaW4gc2NhbGVzKSB7XG5cdFx0bGV0IHNjID0gc2NhbGVzW2tdO1xuXG5cdFx0aWYgKHNjLmZyb20gIT0gbnVsbClcblx0XHRcdHNjYWxlc1trXSA9IGFzc2lnbih7fSwgc2NhbGVzW3NjLmZyb21dLCBzYyk7XG5cdH1cblxuXHRjb25zdCB4U2NhbGVLZXkgPSBzZXJpZXNbMF0uc2NhbGU7XG5cdGNvbnN0IHhTY2FsZURpc3RyID0gc2NhbGVzW3hTY2FsZUtleV0uZGlzdHI7XG5cblx0ZnVuY3Rpb24gaW5pdEF4aXMoYXhpcywgaSkge1xuXHRcdGlmIChheGlzLnNob3cpIHtcblx0XHRcdGxldCBpc1Z0ID0gYXhpcy5zaWRlICUgMjtcblxuXHRcdFx0bGV0IHNjID0gc2NhbGVzW2F4aXMuc2NhbGVdO1xuXG5cdFx0XHQvLyB0aGlzIGNhbiBvY2N1ciBpZiBhbGwgc2VyaWVzIHNwZWNpZnkgbm9uLWRlZmF1bHQgc2NhbGVzXG5cdFx0XHRpZiAoc2MgPT0gbnVsbCkge1xuXHRcdFx0XHRheGlzLnNjYWxlID0gaXNWdCA/IHNlcmllc1sxXS5zY2FsZSA6IHhTY2FsZUtleTtcblx0XHRcdFx0c2MgPSBzY2FsZXNbYXhpcy5zY2FsZV07XG5cdFx0XHR9XG5cblx0XHRcdC8vIGFsc28gc2V0IGRlZmF1bHRzIGZvciBpbmNycyAmIHZhbHVlcyBiYXNlZCBvbiBheGlzIGRpc3RyXG5cdFx0XHRsZXQgaXNUaW1lID0gIHNjLnRpbWU7XG5cblx0XHRcdGF4aXMuc3BhY2UgPSBmbk9yU2VsZihheGlzLnNwYWNlKTtcblx0XHRcdGF4aXMucm90YXRlID0gZm5PclNlbGYoYXhpcy5yb3RhdGUpO1xuXHRcdFx0YXhpcy5pbmNycyA9IGZuT3JTZWxmKGF4aXMuaW5jcnMgfHwgKCAgICAgICAgICBzYy5kaXN0ciA9PSAyID8gaW50SW5jcnMgOiAoaXNUaW1lID8gdGltZUluY3JzIDogbnVtSW5jcnMpKSk7XG5cdFx0XHRheGlzLnNwbGl0ID0gZm5PclNlbGYoYXhpcy5zcGxpdCB8fCAoaXNUaW1lICYmIHNjLmRpc3RyID09IDEgPyBfdGltZUF4aXNTcGxpdHMgOiBudW1BeGlzU3BsaXRzKSk7XG5cdFx0XHRsZXQgYXYgPSBheGlzLnZhbHVlcztcblx0XHRcdGF4aXMudmFsdWVzID0gaXNUaW1lID8gKGlzQXJyKGF2KSA/IHRpbWVBeGlzVmFscyhfdHpEYXRlLCB0aW1lQXhpc1N0YW1wcyhhdiwgX2ZtdERhdGUpKSA6IGF2IHx8IF90aW1lQXhpc1ZhbHMpIDogYXYgfHwgbnVtQXhpc1ZhbHM7XG5cblx0XHRcdGF4aXMuZm9udCAgICAgID0gcHhSYXRpb0ZvbnQoYXhpcy5mb250KTtcblx0XHRcdGF4aXMubGFiZWxGb250ID0gcHhSYXRpb0ZvbnQoYXhpcy5sYWJlbEZvbnQpO1xuXHRcdH1cblx0fVxuXG5cdC8vIHNldCBheGlzIGRlZmF1bHRzXG5cdGF4ZXMuZm9yRWFjaChpbml0QXhpcyk7XG5cblx0bGV0IGRhdGFMZW47XG5cblx0Ly8gcmVuZGVyZWQgZGF0YSB3aW5kb3dcblx0bGV0IGkwID0gbnVsbDtcblx0bGV0IGkxID0gbnVsbDtcblx0Y29uc3QgaWR4cyA9IHNlcmllc1swXS5pZHhzO1xuXG5cdGxldCBkYXRhMCA9IG51bGw7XG5cblx0ZnVuY3Rpb24gc2V0RGF0YShfZGF0YSwgX3Jlc2V0U2NhbGVzKSB7XG5cdFx0X2RhdGEgPSBfZGF0YSB8fCBbXTtcblx0XHRfZGF0YVswXSA9IF9kYXRhWzBdIHx8IFtdO1xuXG5cdFx0c2VsZi5kYXRhID0gX2RhdGE7XG5cdFx0ZGF0YSA9IF9kYXRhLnNsaWNlKCk7XG5cdFx0ZGF0YTAgPSBkYXRhWzBdO1xuXHRcdGRhdGFMZW4gPSBkYXRhMC5sZW5ndGg7XG5cblx0XHRpZiAoeFNjYWxlRGlzdHIgPT0gMilcblx0XHRcdGRhdGFbMF0gPSBkYXRhMC5tYXAoKHYsIGkpID0+IGkpO1xuXG5cdFx0cmVzZXRZU2VyaWVzKCk7XG5cblx0XHRmaXJlKFwic2V0RGF0YVwiKTtcblxuXHRcdF9yZXNldFNjYWxlcyAhPT0gZmFsc2UgJiYgYXV0b1NjYWxlWCgpO1xuXHR9XG5cblx0c2VsZi5zZXREYXRhID0gc2V0RGF0YTtcblxuXHRmdW5jdGlvbiBhdXRvU2NhbGVYKCkge1xuXHRcdGkwID0gaWR4c1swXSA9IDA7XG5cdFx0aTEgPSBpZHhzWzFdID0gZGF0YUxlbiAtIDE7XG5cblx0XHRsZXQgX21pbiA9IHhTY2FsZURpc3RyID09IDIgPyBpMCA6IGRhdGFbMF1baTBdLFxuXHRcdFx0X21heCA9IHhTY2FsZURpc3RyID09IDIgPyBpMSA6IGRhdGFbMF1baTFdO1xuXG5cdFx0X3NldFNjYWxlKHhTY2FsZUtleSwgX21pbiwgX21heCk7XG5cdH1cblxuXHRmdW5jdGlvbiBzZXRDdHhTdHlsZShzdHJva2UsIHdpZHRoLCBkYXNoLCBmaWxsKSB7XG5cdFx0Y3R4LnN0cm9rZVN0eWxlID0gc3Ryb2tlIHx8IGhleEJsYWNrO1xuXHRcdGN0eC5saW5lV2lkdGggPSB3aWR0aDtcblx0XHRjdHgubGluZUpvaW4gPSBcInJvdW5kXCI7XG5cdFx0Y3R4LnNldExpbmVEYXNoKGRhc2ggfHwgW10pO1xuXHRcdGN0eC5maWxsU3R5bGUgPSBmaWxsIHx8IGhleEJsYWNrO1xuXHR9XG5cblx0bGV0IGZ1bGxXaWRDc3M7XG5cdGxldCBmdWxsSGd0Q3NzO1xuXG5cdGxldCBwbG90V2lkQ3NzO1xuXHRsZXQgcGxvdEhndENzcztcblxuXHQvLyBwbG90IG1hcmdpbnMgdG8gYWNjb3VudCBmb3IgYXhlc1xuXHRsZXQgcGxvdExmdENzcztcblx0bGV0IHBsb3RUb3BDc3M7XG5cblx0bGV0IHBsb3RMZnQ7XG5cdGxldCBwbG90VG9wO1xuXHRsZXQgcGxvdFdpZDtcblx0bGV0IHBsb3RIZ3Q7XG5cblx0c2VsZi5iYm94ID0ge307XG5cblx0ZnVuY3Rpb24gX3NldFNpemUod2lkdGgsIGhlaWdodCkge1xuXHRcdHNlbGYud2lkdGggID0gZnVsbFdpZENzcyA9IHBsb3RXaWRDc3MgPSB3aWR0aDtcblx0XHRzZWxmLmhlaWdodCA9IGZ1bGxIZ3RDc3MgPSBwbG90SGd0Q3NzID0gaGVpZ2h0O1xuXHRcdHBsb3RMZnRDc3MgID0gcGxvdFRvcENzcyA9IDA7XG5cblx0XHRjYWxjUGxvdFJlY3QoKTtcblx0XHRjYWxjQXhlc1JlY3RzKCk7XG5cblx0XHRsZXQgYmIgPSBzZWxmLmJib3g7XG5cblx0XHRwbG90TGZ0ID0gYmJbTEVGVF0gICA9IGluY3JSb3VuZChwbG90TGZ0Q3NzICogcHhSYXRpbywgMC41KTtcblx0XHRwbG90VG9wID0gYmJbVE9QXSAgICA9IGluY3JSb3VuZChwbG90VG9wQ3NzICogcHhSYXRpbywgMC41KTtcblx0XHRwbG90V2lkID0gYmJbV0lEVEhdICA9IGluY3JSb3VuZChwbG90V2lkQ3NzICogcHhSYXRpbywgMC41KTtcblx0XHRwbG90SGd0ID0gYmJbSEVJR0hUXSA9IGluY3JSb3VuZChwbG90SGd0Q3NzICogcHhSYXRpbywgMC41KTtcblxuXHRcdHNldFN0eWxlUHgodW5kZXIsIExFRlQsICAgcGxvdExmdENzcyk7XG5cdFx0c2V0U3R5bGVQeCh1bmRlciwgVE9QLCAgICBwbG90VG9wQ3NzKTtcblx0XHRzZXRTdHlsZVB4KHVuZGVyLCBXSURUSCwgIHBsb3RXaWRDc3MpO1xuXHRcdHNldFN0eWxlUHgodW5kZXIsIEhFSUdIVCwgcGxvdEhndENzcyk7XG5cblx0XHRzZXRTdHlsZVB4KG92ZXIsIExFRlQsICAgIHBsb3RMZnRDc3MpO1xuXHRcdHNldFN0eWxlUHgob3ZlciwgVE9QLCAgICAgcGxvdFRvcENzcyk7XG5cdFx0c2V0U3R5bGVQeChvdmVyLCBXSURUSCwgICBwbG90V2lkQ3NzKTtcblx0XHRzZXRTdHlsZVB4KG92ZXIsIEhFSUdIVCwgIHBsb3RIZ3RDc3MpO1xuXG5cdFx0c2V0U3R5bGVQeCh3cmFwLCBXSURUSCwgICBmdWxsV2lkQ3NzKTtcblx0XHRzZXRTdHlsZVB4KHdyYXAsIEhFSUdIVCwgIGZ1bGxIZ3RDc3MpO1xuXG5cdFx0Y2FuW1dJRFRIXSAgPSByb3VuZChmdWxsV2lkQ3NzICogcHhSYXRpbyk7XG5cdFx0Y2FuW0hFSUdIVF0gPSByb3VuZChmdWxsSGd0Q3NzICogcHhSYXRpbyk7XG5cblx0XHRzeW5jUmVjdCgpO1xuXG5cdFx0cmVhZHkgJiYgX3NldFNjYWxlKHhTY2FsZUtleSwgc2NhbGVzW3hTY2FsZUtleV0ubWluLCBzY2FsZXNbeFNjYWxlS2V5XS5tYXgpO1xuXG5cdFx0cmVhZHkgJiYgZmlyZShcInNldFNpemVcIik7XG5cdH1cblxuXHRmdW5jdGlvbiBzZXRTaXplKHt3aWR0aCwgaGVpZ2h0fSkge1xuXHRcdF9zZXRTaXplKHdpZHRoLCBoZWlnaHQpO1xuXHR9XG5cblx0c2VsZi5zZXRTaXplID0gc2V0U2l6ZTtcblxuXHQvLyBhY2N1bXVsYXRlIGF4aXMgb2Zmc2V0cywgcmVkdWNlIGNhbnZhcyB3aWR0aFxuXHRmdW5jdGlvbiBjYWxjUGxvdFJlY3QoKSB7XG5cdFx0Ly8gZWFzZW1lbnRzIGZvciBlZGdlIGxhYmVsc1xuXHRcdGxldCBoYXNUb3BBeGlzID0gZmFsc2U7XG5cdFx0bGV0IGhhc0J0bUF4aXMgPSBmYWxzZTtcblx0XHRsZXQgaGFzUmd0QXhpcyA9IGZhbHNlO1xuXHRcdGxldCBoYXNMZnRBeGlzID0gZmFsc2U7XG5cblx0XHRheGVzLmZvckVhY2goKGF4aXMsIGkpID0+IHtcblx0XHRcdGlmIChheGlzLnNob3cpIHtcblx0XHRcdFx0bGV0IHtzaWRlLCBzaXplfSA9IGF4aXM7XG5cdFx0XHRcdGxldCBpc1Z0ID0gc2lkZSAlIDI7XG5cdFx0XHRcdGxldCBsYWJlbFNpemUgPSBheGlzLmxhYmVsU2l6ZSA9IChheGlzLmxhYmVsICE9IG51bGwgPyAoYXhpcy5sYWJlbFNpemUgfHwgMzApIDogMCk7XG5cblx0XHRcdFx0bGV0IGZ1bGxTaXplID0gc2l6ZSArIGxhYmVsU2l6ZTtcblxuXHRcdFx0XHRpZiAoZnVsbFNpemUgPiAwKSB7XG5cdFx0XHRcdFx0aWYgKGlzVnQpIHtcblx0XHRcdFx0XHRcdHBsb3RXaWRDc3MgLT0gZnVsbFNpemU7XG5cblx0XHRcdFx0XHRcdGlmIChzaWRlID09IDMpIHtcblx0XHRcdFx0XHRcdFx0cGxvdExmdENzcyArPSBmdWxsU2l6ZTtcblx0XHRcdFx0XHRcdFx0aGFzTGZ0QXhpcyA9IHRydWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdGhhc1JndEF4aXMgPSB0cnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdHBsb3RIZ3RDc3MgLT0gZnVsbFNpemU7XG5cblx0XHRcdFx0XHRcdGlmIChzaWRlID09IDApIHtcblx0XHRcdFx0XHRcdFx0cGxvdFRvcENzcyArPSBmdWxsU2l6ZTtcblx0XHRcdFx0XHRcdFx0aGFzVG9wQXhpcyA9IHRydWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdGhhc0J0bUF4aXMgPSB0cnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gaHogZ3V0dGVyc1xuXHRcdGlmIChoYXNUb3BBeGlzIHx8IGhhc0J0bUF4aXMpIHtcblx0XHRcdGlmICghaGFzUmd0QXhpcylcblx0XHRcdFx0cGxvdFdpZENzcyAtPSBndXR0ZXJzLng7XG5cdFx0XHRpZiAoIWhhc0xmdEF4aXMpIHtcblx0XHRcdFx0cGxvdFdpZENzcyAtPSBndXR0ZXJzLng7XG5cdFx0XHRcdHBsb3RMZnRDc3MgKz0gZ3V0dGVycy54O1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIHZ0IGd1dHRlcnNcblx0XHRpZiAoaGFzTGZ0QXhpcyB8fCBoYXNSZ3RBeGlzKSB7XG5cdFx0XHRpZiAoIWhhc0J0bUF4aXMpXG5cdFx0XHRcdHBsb3RIZ3RDc3MgLT0gZ3V0dGVycy55O1xuXHRcdFx0aWYgKCFoYXNUb3BBeGlzKSB7XG5cdFx0XHRcdHBsb3RIZ3RDc3MgLT0gZ3V0dGVycy55O1xuXHRcdFx0XHRwbG90VG9wQ3NzICs9IGd1dHRlcnMueTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBjYWxjQXhlc1JlY3RzKCkge1xuXHRcdC8vIHdpbGwgYWNjdW0gK1xuXHRcdGxldCBvZmYxID0gcGxvdExmdENzcyArIHBsb3RXaWRDc3M7XG5cdFx0bGV0IG9mZjIgPSBwbG90VG9wQ3NzICsgcGxvdEhndENzcztcblx0XHQvLyB3aWxsIGFjY3VtIC1cblx0XHRsZXQgb2ZmMyA9IHBsb3RMZnRDc3M7XG5cdFx0bGV0IG9mZjAgPSBwbG90VG9wQ3NzO1xuXG5cdFx0ZnVuY3Rpb24gaW5jck9mZnNldChzaWRlLCBzaXplKSB7XG5cblx0XHRcdHN3aXRjaCAoc2lkZSkge1xuXHRcdFx0XHRjYXNlIDE6IG9mZjEgKz0gc2l6ZTsgcmV0dXJuIG9mZjEgLSBzaXplO1xuXHRcdFx0XHRjYXNlIDI6IG9mZjIgKz0gc2l6ZTsgcmV0dXJuIG9mZjIgLSBzaXplO1xuXHRcdFx0XHRjYXNlIDM6IG9mZjMgLT0gc2l6ZTsgcmV0dXJuIG9mZjMgKyBzaXplO1xuXHRcdFx0XHRjYXNlIDA6IG9mZjAgLT0gc2l6ZTsgcmV0dXJuIG9mZjAgKyBzaXplO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGF4ZXMuZm9yRWFjaCgoYXhpcywgaSkgPT4ge1xuXHRcdFx0bGV0IHNpZGUgPSBheGlzLnNpZGU7XG5cblx0XHRcdGF4aXMuX3BvcyA9IGluY3JPZmZzZXQoc2lkZSwgYXhpcy5zaXplKTtcblxuXHRcdFx0aWYgKGF4aXMubGFiZWwgIT0gbnVsbClcblx0XHRcdFx0YXhpcy5fbHBvcyA9IGluY3JPZmZzZXQoc2lkZSwgYXhpcy5sYWJlbFNpemUpO1xuXHRcdH0pO1xuXHR9XG5cblx0ZnVuY3Rpb24gc2V0U2NhbGVzKCkge1xuXHRcdGlmIChpbkJhdGNoKSB7XG5cdFx0XHRzaG91bGRTZXRTY2FsZXMgPSB0cnVlO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHQvL1x0bG9nKFwic2V0U2NhbGVzKClcIiwgYXJndW1lbnRzKTtcblxuXHRcdGlmIChkYXRhTGVuID4gMCkge1xuXHRcdFx0Ly8gd2lwIHNjYWxlc1xuXHRcdFx0bGV0IHdpcFNjYWxlcyA9IGNvcHkoc2NhbGVzKTtcblxuXHRcdFx0Zm9yIChsZXQgayBpbiB3aXBTY2FsZXMpIHtcblx0XHRcdFx0bGV0IHdzYyA9IHdpcFNjYWxlc1trXTtcblx0XHRcdFx0bGV0IHBzYyA9IHBlbmRTY2FsZXNba107XG5cblx0XHRcdFx0aWYgKHBzYyAhPSBudWxsKSB7XG5cdFx0XHRcdFx0YXNzaWduKHdzYywgcHNjKTtcblxuXHRcdFx0XHRcdC8vIGV4cGxpY2l0bHkgc2V0dGluZyB0aGUgeC1zY2FsZSBpbnZhbGlkYXRlcyBldmVyeXRoaW5nIChhY3RzIGFzIHJlZHJhdylcblx0XHRcdFx0XHRpZiAoayA9PSB4U2NhbGVLZXkpXG5cdFx0XHRcdFx0XHRyZXNldFlTZXJpZXMoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIGlmIChrICE9IHhTY2FsZUtleSkge1xuXHRcdFx0XHRcdHdzYy5taW4gPSBpbmY7XG5cdFx0XHRcdFx0d3NjLm1heCA9IC1pbmY7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gcHJlLXJhbmdlIHktc2NhbGVzIGZyb20geSBzZXJpZXMnIGRhdGEgdmFsdWVzXG5cdFx0XHRzZXJpZXMuZm9yRWFjaCgocywgaSkgPT4ge1xuXHRcdFx0XHRsZXQgayA9IHMuc2NhbGU7XG5cdFx0XHRcdGxldCB3c2MgPSB3aXBTY2FsZXNba107XG5cblx0XHRcdFx0Ly8gc2V0dGluZyB0aGUgeCBzY2FsZSBpbnZhbGlkYXRlcyBldmVyeXRoaW5nXG5cdFx0XHRcdGlmIChpID09IDApIHtcblx0XHRcdFx0XHRsZXQgbWluTWF4ID0gd3NjLnJhbmdlKHNlbGYsIHdzYy5taW4sIHdzYy5tYXgpO1xuXG5cdFx0XHRcdFx0d3NjLm1pbiA9IG1pbk1heFswXTtcblx0XHRcdFx0XHR3c2MubWF4ID0gbWluTWF4WzFdO1xuXG5cdFx0XHRcdFx0aTAgPSBjbG9zZXN0SWR4KHdzYy5taW4sIGRhdGFbMF0pO1xuXHRcdFx0XHRcdGkxID0gY2xvc2VzdElkeCh3c2MubWF4LCBkYXRhWzBdKTtcblxuXHRcdFx0XHRcdC8vIGNsb3Nlc3QgaW5kaWNlcyBjYW4gYmUgb3V0c2lkZSBvZiB2aWV3XG5cdFx0XHRcdFx0aWYgKGRhdGFbMF1baTBdIDwgd3NjLm1pbilcblx0XHRcdFx0XHRcdGkwKys7XG5cdFx0XHRcdFx0aWYgKGRhdGFbMF1baTFdID4gd3NjLm1heClcblx0XHRcdFx0XHRcdGkxLS07XG5cblx0XHRcdFx0XHRzLm1pbiA9IGRhdGEwW2kwXTtcblx0XHRcdFx0XHRzLm1heCA9IGRhdGEwW2kxXTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIGlmIChzLnNob3cgJiYgcGVuZFNjYWxlc1trXSA9PSBudWxsKSB7XG5cdFx0XHRcdFx0Ly8gb25seSBydW4gZ2V0TWluTWF4KCkgZm9yIGludmFsaWRhdGVkIHNlcmllcyBkYXRhLCBlbHNlIHJldXNlXG5cdFx0XHRcdFx0bGV0IG1pbk1heCA9IHMubWluID09IGluZiA/ICh3c2MuYXV0byA/IGdldE1pbk1heChkYXRhW2ldLCBpMCwgaTEpIDogWzAsMTAwXSkgOiBbcy5taW4sIHMubWF4XTtcblxuXHRcdFx0XHRcdC8vIGluaXRpYWwgbWluL21heFxuXHRcdFx0XHRcdHdzYy5taW4gPSBtaW4od3NjLm1pbiwgcy5taW4gPSBtaW5NYXhbMF0pO1xuXHRcdFx0XHRcdHdzYy5tYXggPSBtYXgod3NjLm1heCwgcy5tYXggPSBtaW5NYXhbMV0pO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cy5pZHhzWzBdID0gaTA7XG5cdFx0XHRcdHMuaWR4c1sxXSA9IGkxO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8vIHJhbmdlIGluZGVwZW5kZW50IHNjYWxlc1xuXHRcdFx0Zm9yIChsZXQgayBpbiB3aXBTY2FsZXMpIHtcblx0XHRcdFx0bGV0IHdzYyA9IHdpcFNjYWxlc1trXTtcblxuXHRcdFx0XHRpZiAod3NjLmZyb20gPT0gbnVsbCAmJiB3c2MubWluICE9IGluZiAmJiBwZW5kU2NhbGVzW2tdID09IG51bGwpIHtcblx0XHRcdFx0XHRsZXQgbWluTWF4ID0gd3NjLnJhbmdlKHNlbGYsIHdzYy5taW4sIHdzYy5tYXgpO1xuXHRcdFx0XHRcdHdzYy5taW4gPSBtaW5NYXhbMF07XG5cdFx0XHRcdFx0d3NjLm1heCA9IG1pbk1heFsxXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyByYW5nZSBkZXBlbmRlbnQgc2NhbGVzXG5cdFx0XHRmb3IgKGxldCBrIGluIHdpcFNjYWxlcykge1xuXHRcdFx0XHRsZXQgd3NjID0gd2lwU2NhbGVzW2tdO1xuXG5cdFx0XHRcdGlmICh3c2MuZnJvbSAhPSBudWxsKSB7XG5cdFx0XHRcdFx0bGV0IGJhc2UgPSB3aXBTY2FsZXNbd3NjLmZyb21dO1xuXG5cdFx0XHRcdFx0aWYgKGJhc2UubWluICE9IGluZikge1xuXHRcdFx0XHRcdFx0bGV0IG1pbk1heCA9IHdzYy5yYW5nZShzZWxmLCBiYXNlLm1pbiwgYmFzZS5tYXgpO1xuXHRcdFx0XHRcdFx0d3NjLm1pbiA9IG1pbk1heFswXTtcblx0XHRcdFx0XHRcdHdzYy5tYXggPSBtaW5NYXhbMV07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGxldCBjaGFuZ2VkID0ge307XG5cblx0XHRcdGZvciAobGV0IGsgaW4gd2lwU2NhbGVzKSB7XG5cdFx0XHRcdGxldCB3c2MgPSB3aXBTY2FsZXNba107XG5cdFx0XHRcdGxldCBzYyA9IHNjYWxlc1trXTtcblxuXHRcdFx0XHRpZiAoc2MubWluICE9IHdzYy5taW4gfHwgc2MubWF4ICE9IHdzYy5tYXgpIHtcblx0XHRcdFx0XHRzYy5taW4gPSB3c2MubWluO1xuXHRcdFx0XHRcdHNjLm1heCA9IHdzYy5tYXg7XG5cdFx0XHRcdFx0Y2hhbmdlZFtrXSA9IHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gaW52YWxpZGF0ZSBwYXRocyBvZiBhbGwgc2VyaWVzIG9uIGNoYW5nZWQgc2NhbGVzXG5cdFx0XHRzZXJpZXMuZm9yRWFjaChzID0+IHtcblx0XHRcdFx0aWYgKGNoYW5nZWRbcy5zY2FsZV0pXG5cdFx0XHRcdFx0cy5fcGF0aHMgPSBudWxsO1xuXHRcdFx0fSk7XG5cblx0XHRcdGZvciAobGV0IGsgaW4gY2hhbmdlZClcblx0XHRcdFx0ZmlyZShcInNldFNjYWxlXCIsIGspO1xuXHRcdH1cblxuXHRcdGZvciAobGV0IGsgaW4gcGVuZFNjYWxlcylcblx0XHRcdHBlbmRTY2FsZXNba10gPSBudWxsO1xuXG5cdFx0IGN1cnNvci5zaG93ICYmIHVwZGF0ZUN1cnNvcigpO1xuXHR9XG5cblx0Ly8gVE9ETzogZHJhd1dyYXAoc2ksIGRyYXdQb2ludHMpIChzYXZlLCByZXN0b3JlLCB0cmFuc2xhdGUsIGNsaXApXG5cblx0ZnVuY3Rpb24gZHJhd1BvaW50cyhzaSkge1xuXHQvL1x0bG9nKFwiZHJhd1BvaW50cygpXCIsIGFyZ3VtZW50cyk7XG5cblx0XHRsZXQgcyA9IHNlcmllc1tzaV07XG5cdFx0bGV0IHAgPSBzLnBvaW50cztcblxuXHRcdGNvbnN0IHdpZHRoID0gcm91bmQzKHAud2lkdGggKiBweFJhdGlvKTtcblx0XHRjb25zdCBvZmZzZXQgPSAod2lkdGggJSAyKSAvIDI7XG5cdFx0Y29uc3QgaXNTdHJva2VkID0gcC53aWR0aCA+IDA7XG5cblx0XHRsZXQgcmFkID0gKHAuc2l6ZSAtIHAud2lkdGgpIC8gMiAqIHB4UmF0aW87XG5cdFx0bGV0IGRpYSA9IHJvdW5kMyhyYWQgKiAyKTtcblxuXHRcdGN0eC50cmFuc2xhdGUob2Zmc2V0LCBvZmZzZXQpO1xuXG5cdFx0Y3R4LnNhdmUoKTtcblxuXHRcdGN0eC5iZWdpblBhdGgoKTtcblx0XHRjdHgucmVjdChcblx0XHRcdHBsb3RMZnQgLSBkaWEsXG5cdFx0XHRwbG90VG9wIC0gZGlhLFxuXHRcdFx0cGxvdFdpZCArIGRpYSAqIDIsXG5cdFx0XHRwbG90SGd0ICsgZGlhICogMixcblx0XHQpO1xuXHRcdGN0eC5jbGlwKCk7XG5cblx0XHRjdHguZ2xvYmFsQWxwaGEgPSBzLmFscGhhO1xuXG5cdFx0Y29uc3QgcGF0aCA9IG5ldyBQYXRoMkQoKTtcblxuXHRcdGZvciAobGV0IHBpID0gaTA7IHBpIDw9IGkxOyBwaSsrKSB7XG5cdFx0XHRpZiAoZGF0YVtzaV1bcGldICE9IG51bGwpIHtcblx0XHRcdFx0bGV0IHggPSByb3VuZChnZXRYUG9zKGRhdGFbMF1bcGldLCAgc2NhbGVzW3hTY2FsZUtleV0sIHBsb3RXaWQsIHBsb3RMZnQpKTtcblx0XHRcdFx0bGV0IHkgPSByb3VuZChnZXRZUG9zKGRhdGFbc2ldW3BpXSwgc2NhbGVzW3Muc2NhbGVdLCAgIHBsb3RIZ3QsIHBsb3RUb3ApKTtcblxuXHRcdFx0XHRwYXRoLm1vdmVUbyh4ICsgcmFkLCB5KTtcblx0XHRcdFx0cGF0aC5hcmMoeCwgeSwgcmFkLCAwLCBQSSAqIDIpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHNldEN0eFN0eWxlKFxuXHRcdFx0cC5zdHJva2UgfHwgcy5zdHJva2UgfHwgaGV4QmxhY2ssXG5cdFx0XHR3aWR0aCxcblx0XHRcdG51bGwsXG5cdFx0XHRwLmZpbGwgfHwgKGlzU3Ryb2tlZCA/IFwiI2ZmZlwiIDogcy5zdHJva2UgfHwgaGV4QmxhY2spLFxuXHRcdCk7XG5cblx0XHRjdHguZmlsbChwYXRoKTtcblx0XHRpc1N0cm9rZWQgJiYgY3R4LnN0cm9rZShwYXRoKTtcblxuXHRcdGN0eC5nbG9iYWxBbHBoYSA9IDE7XG5cblx0XHRjdHgucmVzdG9yZSgpO1xuXG5cdFx0Y3R4LnRyYW5zbGF0ZSgtb2Zmc2V0LCAtb2Zmc2V0KTtcblx0fVxuXG5cdC8vIGdyYWJzIHRoZSBuZWFyZXN0IGluZGljZXMgd2l0aCB5IGRhdGEgb3V0c2lkZSBvZiB4LXNjYWxlIGxpbWl0c1xuXHRmdW5jdGlvbiBnZXRPdXRlcklkeHMoeWRhdGEpIHtcblx0XHRsZXQgX2kwID0gY2xhbXAoaTAgLSAxLCAwLCBkYXRhTGVuIC0gMSk7XG5cdFx0bGV0IF9pMSA9IGNsYW1wKGkxICsgMSwgMCwgZGF0YUxlbiAtIDEpO1xuXG5cdFx0d2hpbGUgKHlkYXRhW19pMF0gPT0gbnVsbCAmJiBfaTAgPiAwKVxuXHRcdFx0X2kwLS07XG5cblx0XHR3aGlsZSAoeWRhdGFbX2kxXSA9PSBudWxsICYmIF9pMSA8IGRhdGFMZW4gLSAxKVxuXHRcdFx0X2kxKys7XG5cblx0XHRyZXR1cm4gW19pMCwgX2kxXTtcblx0fVxuXG5cdGxldCBkaXIgPSAxO1xuXG5cdGZ1bmN0aW9uIGRyYXdTZXJpZXMoKSB7XG5cdFx0Ly8gcGF0aCBidWlsZGluZyBsb29wIG11c3QgYmUgYmVmb3JlIGRyYXcgbG9vcCB0byBlbnN1cmUgdGhhdCBhbGwgYmFuZHMgYXJlIGZ1bGx5IGNvbnN0cnVjdGVkXG5cdFx0c2VyaWVzLmZvckVhY2goKHMsIGkpID0+IHtcblx0XHRcdGlmIChpID4gMCAmJiBzLnNob3cgJiYgZGF0YUxlbiA+IDAgJiYgcy5fcGF0aHMgPT0gbnVsbCkge1xuXHRcdFx0XHRsZXQgX2lkeHMgPSBnZXRPdXRlcklkeHMoZGF0YVtpXSk7XG5cdFx0XHRcdHMuX3BhdGhzID0gcy5wYXRocyhzZWxmLCBpLCBfaWR4c1swXSwgX2lkeHNbMV0pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0c2VyaWVzLmZvckVhY2goKHMsIGkpID0+IHtcblx0XHRcdGlmIChpID4gMCAmJiBzLnNob3cpIHtcblx0XHRcdFx0aWYgKHMuX3BhdGhzKVxuXHRcdFx0XHRcdCBkcmF3UGF0aChpKTtcblxuXHRcdFx0XHRpZiAocy5wb2ludHMuc2hvdyhzZWxmLCBpLCBpMCwgaTEpKVxuXHRcdFx0XHRcdCBkcmF3UG9pbnRzKGkpO1xuXG5cdFx0XHRcdGZpcmUoXCJkcmF3U2VyaWVzXCIsIGkpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0ZnVuY3Rpb24gZHJhd1BhdGgoc2kpIHtcblx0XHRjb25zdCBzID0gc2VyaWVzW3NpXTtcblxuXHRcdGlmIChkaXIgPT0gMSkge1xuXHRcdFx0Y29uc3QgeyBzdHJva2UsIGZpbGwsIGNsaXAgfSA9IHMuX3BhdGhzO1xuXHRcdFx0Y29uc3Qgd2lkdGggPSByb3VuZDMoc1tXSURUSF0gKiBweFJhdGlvKTtcblx0XHRcdGNvbnN0IG9mZnNldCA9ICh3aWR0aCAlIDIpIC8gMjtcblxuXHRcdFx0c2V0Q3R4U3R5bGUocy5zdHJva2UsIHdpZHRoLCBzLmRhc2gsIHMuZmlsbCk7XG5cblx0XHRcdGN0eC5nbG9iYWxBbHBoYSA9IHMuYWxwaGE7XG5cblx0XHRcdGN0eC50cmFuc2xhdGUob2Zmc2V0LCBvZmZzZXQpO1xuXG5cdFx0XHRjdHguc2F2ZSgpO1xuXG5cdFx0XHRsZXQgbGZ0ID0gcGxvdExmdCxcblx0XHRcdFx0dG9wID0gcGxvdFRvcCxcblx0XHRcdFx0d2lkID0gcGxvdFdpZCxcblx0XHRcdFx0aGd0ID0gcGxvdEhndDtcblxuXHRcdFx0bGV0IGhhbGZXaWQgPSB3aWR0aCAqIHB4UmF0aW8gLyAyO1xuXG5cdFx0XHRpZiAocy5taW4gPT0gMClcblx0XHRcdFx0aGd0ICs9IGhhbGZXaWQ7XG5cblx0XHRcdGlmIChzLm1heCA9PSAwKSB7XG5cdFx0XHRcdHRvcCAtPSBoYWxmV2lkO1xuXHRcdFx0XHRoZ3QgKz0gaGFsZldpZDtcblx0XHRcdH1cblxuXHRcdFx0Y3R4LmJlZ2luUGF0aCgpO1xuXHRcdFx0Y3R4LnJlY3QobGZ0LCB0b3AsIHdpZCwgaGd0KTtcblx0XHRcdGN0eC5jbGlwKCk7XG5cblx0XHRcdGlmIChjbGlwICE9IG51bGwpXG5cdFx0XHRcdGN0eC5jbGlwKGNsaXApO1xuXG5cdFx0XHRpZiAocy5iYW5kKSB7XG5cdFx0XHRcdGN0eC5maWxsKHN0cm9rZSk7XG5cdFx0XHRcdHdpZHRoICYmIGN0eC5zdHJva2Uoc3Ryb2tlKTtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHR3aWR0aCAmJiBjdHguc3Ryb2tlKHN0cm9rZSk7XG5cblx0XHRcdFx0aWYgKHMuZmlsbCAhPSBudWxsKVxuXHRcdFx0XHRcdGN0eC5maWxsKGZpbGwpO1xuXHRcdFx0fVxuXG5cdFx0XHRjdHgucmVzdG9yZSgpO1xuXG5cdFx0XHRjdHgudHJhbnNsYXRlKC1vZmZzZXQsIC1vZmZzZXQpO1xuXG5cdFx0XHRjdHguZ2xvYmFsQWxwaGEgPSAxO1xuXHRcdH1cblxuXHRcdGlmIChzLmJhbmQpXG5cdFx0XHRkaXIgKj0gLTE7XG5cdH1cblxuXHRmdW5jdGlvbiBidWlsZENsaXAoaXMsIGdhcHMsIG51bGxIZWFkLCBudWxsVGFpbCkge1xuXHRcdGxldCBzID0gc2VyaWVzW2lzXTtcblxuXHRcdGxldCBjbGlwID0gbnVsbDtcblxuXHRcdC8vIGNyZWF0ZSBjbGlwIHBhdGggKGludmVydCBnYXBzIGFuZCBub24tZ2Fwcylcblx0XHRpZiAoZ2Fwcy5sZW5ndGggPiAwKSB7XG5cdFx0XHRpZiAocy5zcGFuR2Fwcykge1xuXHRcdFx0XHRsZXQgaGVhZEdhcCA9IGdhcHNbMF07XG5cdFx0XHRcdGxldCB0YWlsR2FwID0gZ2Fwc1tnYXBzLmxlbmd0aCAtIDFdO1xuXHRcdFx0XHRnYXBzID0gW107XG5cblx0XHRcdFx0aWYgKG51bGxIZWFkKVxuXHRcdFx0XHRcdGdhcHMucHVzaChoZWFkR2FwKTtcblx0XHRcdFx0aWYgKG51bGxUYWlsKVxuXHRcdFx0XHRcdGdhcHMucHVzaCh0YWlsR2FwKTtcblx0XHRcdH1cblxuXHRcdFx0Y2xpcCA9IG5ldyBQYXRoMkQoKTtcblxuXHRcdFx0bGV0IHByZXZHYXBFbmQgPSBwbG90TGZ0O1xuXG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGdhcHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0bGV0IGcgPSBnYXBzW2ldO1xuXG5cdFx0XHRcdGNsaXAucmVjdChwcmV2R2FwRW5kLCBwbG90VG9wLCBnWzBdIC0gcHJldkdhcEVuZCwgcGxvdFRvcCArIHBsb3RIZ3QpO1xuXG5cdFx0XHRcdHByZXZHYXBFbmQgPSBnWzFdO1xuXHRcdFx0fVxuXG5cdFx0XHRjbGlwLnJlY3QocHJldkdhcEVuZCwgcGxvdFRvcCwgcGxvdExmdCArIHBsb3RXaWQgLSBwcmV2R2FwRW5kLCBwbG90VG9wICsgcGxvdEhndCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNsaXA7XG5cdH1cblxuXHRmdW5jdGlvbiBhZGRHYXAoZ2Fwcywgb3V0WCwgeCkge1xuXHRcdGxldCBwcmV2R2FwID0gZ2Fwc1tnYXBzLmxlbmd0aCAtIDFdO1xuXG5cdFx0aWYgKHByZXZHYXAgJiYgcHJldkdhcFswXSA9PSBvdXRYKVx0XHRcdC8vIFRPRE86IGdhcHMgbXVzdCBiZSBlbmNvZGVkIGF0IHN0cm9rZSB3aWR0aHM/XG5cdFx0XHRwcmV2R2FwWzFdID0geDtcblx0XHRlbHNlXG5cdFx0XHRnYXBzLnB1c2goW291dFgsIHhdKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGJ1aWxkUGF0aHMoc2VsZiwgaXMsIF9pMCwgX2kxKSB7XG5cdFx0Y29uc3QgcyA9IHNlcmllc1tpc107XG5cblx0XHRjb25zdCB4ZGF0YSAgPSBkYXRhWzBdO1xuXHRcdGNvbnN0IHlkYXRhICA9IGRhdGFbaXNdO1xuXHRcdGNvbnN0IHNjYWxlWCA9IHNjYWxlc1t4U2NhbGVLZXldO1xuXHRcdGNvbnN0IHNjYWxlWSA9IHNjYWxlc1tzLnNjYWxlXTtcblxuXHRcdGNvbnN0IF9wYXRocyA9IGRpciA9PSAxID8ge3N0cm9rZTogbmV3IFBhdGgyRCgpLCBmaWxsOiBudWxsLCBjbGlwOiBudWxsfSA6IHNlcmllc1tpcy0xXS5fcGF0aHM7XG5cdFx0Y29uc3Qgc3Ryb2tlID0gX3BhdGhzLnN0cm9rZTtcblx0XHRjb25zdCB3aWR0aCA9IHJvdW5kMyhzW1dJRFRIXSAqIHB4UmF0aW8pO1xuXG5cdFx0bGV0IG1pblkgPSBpbmYsXG5cdFx0XHRtYXhZID0gLWluZixcblx0XHRcdG91dFksIG91dFg7XG5cblx0XHQvLyB0b2RvOiBkb24ndCBidWlsZCBnYXBzIG9uIGRpciA9IC0xIHBhc3Ncblx0XHRsZXQgZ2FwcyA9IFtdO1xuXG5cdFx0bGV0IGFjY1ggPSByb3VuZChnZXRYUG9zKHhkYXRhW2RpciA9PSAxID8gX2kwIDogX2kxXSwgc2NhbGVYLCBwbG90V2lkLCBwbG90TGZ0KSk7XG5cblx0XHQvLyB0aGUgbW92ZXMgdGhlIHNoYXBlIGVkZ2Ugb3V0c2lkZSB0aGUgY2FudmFzIHNvIHN0cm9rZSBkb2VzbnQgYmxlZWQgaW5cblx0XHRpZiAocy5iYW5kICYmIGRpciA9PSAxICYmIF9pMCA9PSBpMCkge1xuXHRcdFx0aWYgKHdpZHRoKVxuXHRcdFx0XHRzdHJva2UubGluZVRvKC13aWR0aCwgcm91bmQoZ2V0WVBvcyh5ZGF0YVtfaTBdLCBzY2FsZVksIHBsb3RIZ3QsIHBsb3RUb3ApKSk7XG5cblx0XHRcdGlmIChzY2FsZVgubWluIDwgeGRhdGFbMF0pXG5cdFx0XHRcdGdhcHMucHVzaChbcGxvdExmdCwgYWNjWCAtIDFdKTtcblx0XHR9XG5cblx0XHRmb3IgKGxldCBpID0gZGlyID09IDEgPyBfaTAgOiBfaTE7IGkgPj0gX2kwICYmIGkgPD0gX2kxOyBpICs9IGRpcikge1xuXHRcdFx0bGV0IHggPSByb3VuZChnZXRYUG9zKHhkYXRhW2ldLCBzY2FsZVgsIHBsb3RXaWQsIHBsb3RMZnQpKTtcblxuXHRcdFx0aWYgKHggPT0gYWNjWCkge1xuXHRcdFx0XHRpZiAoeWRhdGFbaV0gIT0gbnVsbCkge1xuXHRcdFx0XHRcdG91dFkgPSByb3VuZChnZXRZUG9zKHlkYXRhW2ldLCBzY2FsZVksIHBsb3RIZ3QsIHBsb3RUb3ApKTtcblx0XHRcdFx0XHRtaW5ZID0gbWluKG91dFksIG1pblkpO1xuXHRcdFx0XHRcdG1heFkgPSBtYXgob3V0WSwgbWF4WSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRsZXQgX2FkZEdhcCA9IGZhbHNlO1xuXG5cdFx0XHRcdGlmIChtaW5ZICE9IGluZikge1xuXHRcdFx0XHRcdHN0cm9rZS5saW5lVG8oYWNjWCwgbWluWSk7XG5cdFx0XHRcdFx0c3Ryb2tlLmxpbmVUbyhhY2NYLCBtYXhZKTtcblx0XHRcdFx0XHRzdHJva2UubGluZVRvKGFjY1gsIG91dFkpO1xuXHRcdFx0XHRcdG91dFggPSBhY2NYO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRfYWRkR2FwID0gdHJ1ZTtcblxuXHRcdFx0XHRpZiAoeWRhdGFbaV0gIT0gbnVsbCkge1xuXHRcdFx0XHRcdG91dFkgPSByb3VuZChnZXRZUG9zKHlkYXRhW2ldLCBzY2FsZVksIHBsb3RIZ3QsIHBsb3RUb3ApKTtcblx0XHRcdFx0XHRzdHJva2UubGluZVRvKHgsIG91dFkpO1xuXHRcdFx0XHRcdG1pblkgPSBtYXhZID0gb3V0WTtcblxuXHRcdFx0XHRcdC8vIHByaW9yIHBpeGVsIGNhbiBoYXZlIGRhdGEgYnV0IHN0aWxsIHN0YXJ0IGEgZ2FwIGlmIGVuZHMgd2l0aCBudWxsXG5cdFx0XHRcdFx0aWYgKHggLSBhY2NYID4gMSAmJiB5ZGF0YVtpLTFdID09IG51bGwpXG5cdFx0XHRcdFx0XHRfYWRkR2FwID0gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRtaW5ZID0gaW5mO1xuXHRcdFx0XHRcdG1heFkgPSAtaW5mO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0X2FkZEdhcCAmJiBhZGRHYXAoZ2Fwcywgb3V0WCwgeCk7XG5cblx0XHRcdFx0YWNjWCA9IHg7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gZXh0ZW5kIG9yIGluc2VydCByaWdodG1vc3QgZ2FwIGlmIG5vIGRhdGEgZXhpc3RzIHRvIHRoZSByaWdodFxuXHRcdGlmICh5ZGF0YVtfaTFdID09IG51bGwpXG5cdFx0XHRhZGRHYXAoZ2Fwcywgb3V0WCwgYWNjWCk7XG5cblx0XHRpZiAocy5iYW5kKSB7XG5cdFx0XHRsZXQgb3ZlclNob290ID0gd2lkdGggKiAxMDAsIF9peSwgX3g7XG5cblx0XHRcdC8vIHRoZSBtb3ZlcyB0aGUgc2hhcGUgZWRnZSBvdXRzaWRlIHRoZSBjYW52YXMgc28gc3Ryb2tlIGRvZXNudCBibGVlZCBpblxuXHRcdFx0aWYgKGRpciA9PSAtMSAmJiBfaTAgPT0gaTApIHtcblx0XHRcdFx0X3ggPSBwbG90TGZ0IC0gb3ZlclNob290O1xuXHRcdFx0XHRfaXkgPSBfaTA7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChkaXIgPT0gMSAmJiBfaTEgPT0gaTEpIHtcblx0XHRcdFx0X3ggPSBwbG90TGZ0ICsgcGxvdFdpZCArIG92ZXJTaG9vdDtcblx0XHRcdFx0X2l5ID0gX2kxO1xuXG5cdFx0XHRcdGlmIChzY2FsZVgubWF4ID4geGRhdGFbZGF0YUxlbiAtIDFdKVxuXHRcdFx0XHRcdGdhcHMucHVzaChbYWNjWCwgcGxvdExmdCArIHBsb3RXaWRdKTtcblx0XHRcdH1cblxuXHRcdFx0c3Ryb2tlLmxpbmVUbyhfeCwgcm91bmQoZ2V0WVBvcyh5ZGF0YVtfaXldLCBzY2FsZVksIHBsb3RIZ3QsIHBsb3RUb3ApKSk7XG5cdFx0fVxuXG5cdFx0aWYgKGRpciA9PSAxKSB7XG5cdFx0XHRfcGF0aHMuY2xpcCA9IGJ1aWxkQ2xpcChpcywgZ2FwcywgeWRhdGFbX2kwXSA9PSBudWxsLCB5ZGF0YVtfaTFdID09IG51bGwpO1xuXG5cdFx0XHRpZiAocy5maWxsICE9IG51bGwpIHtcblx0XHRcdFx0bGV0IGZpbGwgPSBfcGF0aHMuZmlsbCA9IG5ldyBQYXRoMkQoc3Ryb2tlKTtcblxuXHRcdFx0XHRsZXQgemVyb1kgPSByb3VuZChnZXRZUG9zKDAsIHNjYWxlWSwgcGxvdEhndCwgcGxvdFRvcCkpO1xuXHRcdFx0XHRmaWxsLmxpbmVUbyhwbG90TGZ0ICsgcGxvdFdpZCwgemVyb1kpO1xuXHRcdFx0XHRmaWxsLmxpbmVUbyhwbG90TGZ0LCB6ZXJvWSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKHMuYmFuZClcblx0XHRcdGRpciAqPSAtMTtcblxuXHRcdHJldHVybiBfcGF0aHM7XG5cdH1cblxuXHRmdW5jdGlvbiBnZXRJbmNyU3BhY2UoYXhpcywgbWluLCBtYXgsIGZ1bGxEaW0pIHtcblx0XHRsZXQgaW5jclNwYWNlO1xuXG5cdFx0aWYgKGZ1bGxEaW0gPD0gMClcblx0XHRcdGluY3JTcGFjZSA9IFswLCAwXTtcblx0XHRlbHNlIHtcblx0XHRcdGxldCBtaW5TcGFjZSA9IGF4aXMuc3BhY2Uoc2VsZiwgbWluLCBtYXgsIGZ1bGxEaW0pO1xuXHRcdFx0bGV0IGluY3JzID0gYXhpcy5pbmNycyhzZWxmLCBtaW4sIG1heCwgZnVsbERpbSwgbWluU3BhY2UpO1xuXHRcdFx0aW5jclNwYWNlID0gZmluZEluY3IobWF4IC0gbWluLCBpbmNycywgZnVsbERpbSwgbWluU3BhY2UpO1xuXHRcdFx0aW5jclNwYWNlLnB1c2goaW5jclNwYWNlWzFdL21pblNwYWNlKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gaW5jclNwYWNlO1xuXHR9XG5cblx0ZnVuY3Rpb24gZHJhd09ydGhvTGluZXMob2Zmcywgb3JpLCBzaWRlLCBwb3MwLCBsZW4sIHdpZHRoLCBzdHJva2UsIGRhc2gpIHtcblx0XHRsZXQgb2Zmc2V0ID0gKHdpZHRoICUgMikgLyAyO1xuXG5cdFx0Y3R4LnRyYW5zbGF0ZShvZmZzZXQsIG9mZnNldCk7XG5cblx0XHRzZXRDdHhTdHlsZShzdHJva2UsIHdpZHRoLCBkYXNoKTtcblxuXHRcdGN0eC5iZWdpblBhdGgoKTtcblxuXHRcdGxldCB4MCwgeTAsIHgxLCB5MSwgcG9zMSA9IHBvczAgKyAoc2lkZSA9PSAwIHx8IHNpZGUgPT0gMyA/IC1sZW4gOiBsZW4pO1xuXG5cdFx0aWYgKG9yaSA9PSAwKSB7XG5cdFx0XHR5MCA9IHBvczA7XG5cdFx0XHR5MSA9IHBvczE7XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0eDAgPSBwb3MwO1xuXHRcdFx0eDEgPSBwb3MxO1xuXHRcdH1cblxuXHRcdG9mZnMuZm9yRWFjaCgob2ZmLCBpKSA9PiB7XG5cdFx0XHRpZiAob3JpID09IDApXG5cdFx0XHRcdHgwID0geDEgPSBvZmY7XG5cdFx0XHRlbHNlXG5cdFx0XHRcdHkwID0geTEgPSBvZmY7XG5cblx0XHRcdGN0eC5tb3ZlVG8oeDAsIHkwKTtcblx0XHRcdGN0eC5saW5lVG8oeDEsIHkxKTtcblx0XHR9KTtcblxuXHRcdGN0eC5zdHJva2UoKTtcblxuXHRcdGN0eC50cmFuc2xhdGUoLW9mZnNldCwgLW9mZnNldCk7XG5cdH1cblxuXHRmdW5jdGlvbiBkcmF3QXhlc0dyaWQoKSB7XG5cdFx0YXhlcy5mb3JFYWNoKChheGlzLCBpKSA9PiB7XG5cdFx0XHRpZiAoIWF4aXMuc2hvdylcblx0XHRcdFx0cmV0dXJuO1xuXG5cdFx0XHRsZXQgc2NhbGUgPSBzY2FsZXNbYXhpcy5zY2FsZV07XG5cblx0XHRcdC8vIHRoaXMgd2lsbCBoYXBwZW4gaWYgYWxsIHNlcmllcyB1c2luZyBhIHNwZWNpZmljIHNjYWxlIGFyZSB0b2dnbGVkIG9mZlxuXHRcdFx0aWYgKHNjYWxlLm1pbiA9PSBpbmYpXG5cdFx0XHRcdHJldHVybjtcblxuXHRcdFx0bGV0IHNpZGUgPSBheGlzLnNpZGU7XG5cdFx0XHRsZXQgb3JpID0gc2lkZSAlIDI7XG5cblx0XHRcdGxldCB7bWluLCBtYXh9ID0gc2NhbGU7XG5cblx0XHRcdGxldCBbaW5jciwgc3BhY2UsIHBjdFNwYWNlXSA9IGdldEluY3JTcGFjZShheGlzLCBtaW4sIG1heCwgb3JpID09IDAgPyBwbG90V2lkQ3NzIDogcGxvdEhndENzcyk7XG5cblx0XHRcdC8vIGlmIHdlJ3JlIHVzaW5nIGluZGV4IHBvc2l0aW9ucywgZm9yY2UgZmlyc3QgdGljayB0byBtYXRjaCBwYXNzZWQgaW5kZXhcblx0XHRcdGxldCBmb3JjZU1pbiA9IHNjYWxlLmRpc3RyID09IDI7XG5cblx0XHRcdGxldCBzcGxpdHMgPSBheGlzLnNwbGl0KHNlbGYsIG1pbiwgbWF4LCBpbmNyLCBwY3RTcGFjZSwgZm9yY2VNaW4pO1xuXG5cdFx0XHRsZXQgZ2V0UG9zICA9IG9yaSA9PSAwID8gZ2V0WFBvcyA6IGdldFlQb3M7XG5cdFx0XHRsZXQgcGxvdERpbSA9IG9yaSA9PSAwID8gcGxvdFdpZCA6IHBsb3RIZ3Q7XG5cdFx0XHRsZXQgcGxvdE9mZiA9IG9yaSA9PSAwID8gcGxvdExmdCA6IHBsb3RUb3A7XG5cblx0XHRcdGxldCBjYW5PZmZzID0gc3BsaXRzLm1hcCh2YWwgPT4gcm91bmQoZ2V0UG9zKHZhbCwgc2NhbGUsIHBsb3REaW0sIHBsb3RPZmYpKSk7XG5cblx0XHRcdGxldCBheGlzR2FwICA9IHJvdW5kKGF4aXMuZ2FwICogcHhSYXRpbyk7XG5cblx0XHRcdGxldCB0aWNrcyA9IGF4aXMudGlja3M7XG5cdFx0XHRsZXQgdGlja1NpemUgPSB0aWNrcy5zaG93ID8gcm91bmQodGlja3Muc2l6ZSAqIHB4UmF0aW8pIDogMDtcblxuXHRcdFx0Ly8gdGljayBsYWJlbHNcblx0XHRcdC8vIEJPTyB0aGlzIGFzc3VtZXMgYSBzcGVjaWZpYyBkYXRhL3Nlcmllc1xuXHRcdFx0bGV0IHZhbHVlcyA9IGF4aXMudmFsdWVzKFxuXHRcdFx0XHRzZWxmLFxuXHRcdFx0XHRzY2FsZS5kaXN0ciA9PSAyID8gc3BsaXRzLm1hcChpID0+IGRhdGEwW2ldKSA6IHNwbGl0cyxcblx0XHRcdFx0c3BhY2UsXG5cdFx0XHRcdHNjYWxlLmRpc3RyID09IDIgPyBkYXRhMFtzcGxpdHNbMV1dIC0gIGRhdGEwW3NwbGl0c1swXV0gOiBpbmNyLFxuXHRcdFx0KTtcblxuXHRcdFx0Ly8gcm90YXRpbmcgb2YgbGFiZWxzIG9ubHkgc3VwcG9ydGVkIG9uIGJvdHRvbSB4IGF4aXNcblx0XHRcdGxldCBhbmdsZSA9IHNpZGUgPT0gMiA/IGF4aXMucm90YXRlKHNlbGYsIHZhbHVlcywgc3BhY2UpICogLVBJLzE4MCA6IDA7XG5cblx0XHRcdGxldCBiYXNlUG9zICA9IHJvdW5kKGF4aXMuX3BvcyAqIHB4UmF0aW8pO1xuXHRcdFx0bGV0IHNoaWZ0QW10ID0gdGlja1NpemUgKyBheGlzR2FwO1xuXHRcdFx0bGV0IHNoaWZ0RGlyID0gb3JpID09IDAgJiYgc2lkZSA9PSAwIHx8IG9yaSA9PSAxICYmIHNpZGUgPT0gMyA/IC0xIDogMTtcblx0XHRcdGxldCBmaW5hbFBvcyA9IGJhc2VQb3MgKyBzaGlmdEFtdCAqIHNoaWZ0RGlyO1xuXHRcdFx0bGV0IHkgICAgICAgID0gb3JpID09IDAgPyBmaW5hbFBvcyA6IDA7XG5cdFx0XHRsZXQgeCAgICAgICAgPSBvcmkgPT0gMSA/IGZpbmFsUG9zIDogMDtcblxuXHRcdFx0Y3R4LmZvbnQgICAgICAgICA9IGF4aXMuZm9udFswXTtcblx0XHRcdGN0eC5maWxsU3R5bGUgICAgPSBheGlzLnN0cm9rZSB8fCBoZXhCbGFjaztcdFx0XHRcdFx0XHRcdFx0XHQvLyByZ2JhP1xuXHRcdFx0Y3R4LnRleHRBbGlnbiAgICA9IGFuZ2xlID4gMCA/IExFRlQgOlxuXHRcdFx0ICAgICAgICAgICAgICAgICAgIGFuZ2xlIDwgMCA/IFJJR0hUIDpcblx0XHRcdCAgICAgICAgICAgICAgICAgICBvcmkgPT0gMCA/IFwiY2VudGVyXCIgOiBzaWRlID09IDMgPyBSSUdIVCA6IExFRlQ7XG5cdFx0XHRjdHgudGV4dEJhc2VsaW5lID0gYW5nbGUgfHxcblx0XHRcdCAgICAgICAgICAgICAgICAgICBvcmkgPT0gMSA/IFwibWlkZGxlXCIgOiBzaWRlID09IDIgPyBUT1AgICA6IEJPVFRPTTtcblxuXHRcdFx0bGV0IGxpbmVIZWlnaHQgICA9IGF4aXMuZm9udFsxXSAqIGxpbmVNdWx0O1xuXG5cdFx0XHR2YWx1ZXMuZm9yRWFjaCgodmFsLCBpKSA9PiB7XG5cdFx0XHRcdGlmIChvcmkgPT0gMClcblx0XHRcdFx0XHR4ID0gY2FuT2Zmc1tpXTtcblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdHkgPSBjYW5PZmZzW2ldO1xuXG5cdFx0XHRcdChcIlwiK3ZhbCkuc3BsaXQoL1xcbi9nbSkuZm9yRWFjaCgodGV4dCwgaikgPT4ge1xuXHRcdFx0XHRcdGlmIChhbmdsZSkge1xuXHRcdFx0XHRcdFx0Y3R4LnNhdmUoKTtcblx0XHRcdFx0XHRcdGN0eC50cmFuc2xhdGUoeCwgeSArIGogKiBsaW5lSGVpZ2h0KTtcblx0XHRcdFx0XHRcdGN0eC5yb3RhdGUoYW5nbGUpO1xuXHRcdFx0XHRcdFx0Y3R4LmZpbGxUZXh0KHRleHQsIDAsIDApO1xuXHRcdFx0XHRcdFx0Y3R4LnJlc3RvcmUoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0Y3R4LmZpbGxUZXh0KHRleHQsIHgsIHkgKyBqICogbGluZUhlaWdodCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8vIGF4aXMgbGFiZWxcblx0XHRcdGlmIChheGlzLmxhYmVsKSB7XG5cdFx0XHRcdGN0eC5zYXZlKCk7XG5cblx0XHRcdFx0bGV0IGJhc2VMcG9zID0gcm91bmQoYXhpcy5fbHBvcyAqIHB4UmF0aW8pO1xuXG5cdFx0XHRcdGlmIChvcmkgPT0gMSkge1xuXHRcdFx0XHRcdHggPSB5ID0gMDtcblxuXHRcdFx0XHRcdGN0eC50cmFuc2xhdGUoXG5cdFx0XHRcdFx0XHRiYXNlTHBvcyxcblx0XHRcdFx0XHRcdHJvdW5kKHBsb3RUb3AgKyBwbG90SGd0IC8gMiksXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRjdHgucm90YXRlKChzaWRlID09IDMgPyAtUEkgOiBQSSkgLyAyKTtcblxuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdHggPSByb3VuZChwbG90TGZ0ICsgcGxvdFdpZCAvIDIpO1xuXHRcdFx0XHRcdHkgPSBiYXNlTHBvcztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGN0eC5mb250ICAgICAgICAgPSBheGlzLmxhYmVsRm9udFswXTtcblx0XHRcdC8vXHRjdHguZmlsbFN0eWxlICAgID0gYXhpcy5sYWJlbFN0cm9rZSB8fCBoZXhCbGFjaztcdFx0XHRcdFx0XHQvLyByZ2JhP1xuXHRcdFx0XHRjdHgudGV4dEFsaWduICAgID0gXCJjZW50ZXJcIjtcblx0XHRcdFx0Y3R4LnRleHRCYXNlbGluZSA9IHNpZGUgPT0gMiA/IFRPUCA6IEJPVFRPTTtcblxuXHRcdFx0XHRjdHguZmlsbFRleHQoYXhpcy5sYWJlbCwgeCwgeSk7XG5cblx0XHRcdFx0Y3R4LnJlc3RvcmUoKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gdGlja3Ncblx0XHRcdGlmICh0aWNrcy5zaG93KSB7XG5cdFx0XHRcdGRyYXdPcnRob0xpbmVzKFxuXHRcdFx0XHRcdGNhbk9mZnMsXG5cdFx0XHRcdFx0b3JpLFxuXHRcdFx0XHRcdHNpZGUsXG5cdFx0XHRcdFx0YmFzZVBvcyxcblx0XHRcdFx0XHR0aWNrU2l6ZSxcblx0XHRcdFx0XHRyb3VuZDModGlja3NbV0lEVEhdICogcHhSYXRpbyksXG5cdFx0XHRcdFx0dGlja3Muc3Ryb2tlLFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBncmlkXG5cdFx0XHRsZXQgZ3JpZCA9IGF4aXMuZ3JpZDtcblxuXHRcdFx0aWYgKGdyaWQuc2hvdykge1xuXHRcdFx0XHRkcmF3T3J0aG9MaW5lcyhcblx0XHRcdFx0XHRjYW5PZmZzLFxuXHRcdFx0XHRcdG9yaSxcblx0XHRcdFx0XHRvcmkgPT0gMCA/IDIgOiAxLFxuXHRcdFx0XHRcdG9yaSA9PSAwID8gcGxvdFRvcCA6IHBsb3RMZnQsXG5cdFx0XHRcdFx0b3JpID09IDAgPyBwbG90SGd0IDogcGxvdFdpZCxcblx0XHRcdFx0XHRyb3VuZDMoZ3JpZFtXSURUSF0gKiBweFJhdGlvKSxcblx0XHRcdFx0XHRncmlkLnN0cm9rZSxcblx0XHRcdFx0XHRncmlkLmRhc2gsXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRmaXJlKFwiZHJhd0F4ZXNcIik7XG5cdH1cblxuXHRmdW5jdGlvbiByZXNldFlTZXJpZXMoKSB7XG5cdC8vXHRsb2coXCJyZXNldFlTZXJpZXMoKVwiLCBhcmd1bWVudHMpO1xuXG5cdFx0c2VyaWVzLmZvckVhY2goKHMsIGkpID0+IHtcblx0XHRcdGlmIChpID4gMCkge1xuXHRcdFx0XHRzLm1pbiA9IGluZjtcblx0XHRcdFx0cy5tYXggPSAtaW5mO1xuXHRcdFx0XHRzLl9wYXRocyA9IG51bGw7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHRsZXQgZGlkUGFpbnQ7XG5cblx0ZnVuY3Rpb24gcGFpbnQoKSB7XG5cdFx0aWYgKGluQmF0Y2gpIHtcblx0XHRcdHNob3VsZFBhaW50ID0gdHJ1ZTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0Ly9cdGxvZyhcInBhaW50KClcIiwgYXJndW1lbnRzKTtcblxuXHRcdGN0eC5jbGVhclJlY3QoMCwgMCwgY2FuW1dJRFRIXSwgY2FuW0hFSUdIVF0pO1xuXHRcdGZpcmUoXCJkcmF3Q2xlYXJcIik7XG5cdFx0ZHJhd0F4ZXNHcmlkKCk7XG5cdFx0ZHJhd1NlcmllcygpO1xuXHRcdGRpZFBhaW50ID0gdHJ1ZTtcblx0XHRmaXJlKFwiZHJhd1wiKTtcblx0fVxuXG5cdHNlbGYucmVkcmF3ID0gcmVidWlsZFBhdGhzID0+IHtcblx0XHRpZiAocmVidWlsZFBhdGhzICE9PSBmYWxzZSlcblx0XHRcdF9zZXRTY2FsZSh4U2NhbGVLZXksIHNjYWxlc1t4U2NhbGVLZXldLm1pbiwgc2NhbGVzW3hTY2FsZUtleV0ubWF4KTtcblx0XHRlbHNlXG5cdFx0XHRwYWludCgpO1xuXHR9O1xuXG5cdC8vIHJlZHJhdygpID0+IHNldFNjYWxlKCd4Jywgc2NhbGVzLngubWluLCBzY2FsZXMueC5tYXgpO1xuXG5cdC8vIGV4cGxpY2l0LCBuZXZlciByZS1yYW5nZWQgKGlzIHRoaXMgYWN0dWFsbHkgdHJ1ZT8gZm9yIHggYW5kIHkpXG5cdGZ1bmN0aW9uIHNldFNjYWxlKGtleSwgb3B0cykge1xuXHRcdGxldCBzYyA9IHNjYWxlc1trZXldO1xuXG5cdFx0aWYgKHNjLmZyb20gPT0gbnVsbCkge1xuXHRcdFx0aWYgKGtleSA9PSB4U2NhbGVLZXkpIHtcblx0XHRcdFx0aWYgKHNjLmRpc3RyID09IDIpIHtcblx0XHRcdFx0XHRvcHRzLm1pbiA9IGNsb3Nlc3RJZHgob3B0cy5taW4sIGRhdGFbMF0pO1xuXHRcdFx0XHRcdG9wdHMubWF4ID0gY2xvc2VzdElkeChvcHRzLm1heCwgZGF0YVswXSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBwcmV2ZW50IHNldHRpbmcgYSB0ZW1wb3JhbCB4IHNjYWxlIHRvbyBzbWFsbCBzaW5jZSBEYXRlIG9iamVjdHMgY2Fubm90IGFkdmFuY2UgdGlja3Mgc21hbGxlciB0aGFuIDFtc1xuXHRcdFx0XHRpZiAoIHNjLnRpbWUgJiYgYXhlc1swXS5zaG93ICYmIG9wdHMubWF4ID4gb3B0cy5taW4pIHtcblx0XHRcdFx0XHQvLyBzaW5jZSBzY2FsZXMgYW5kIGF4ZXMgYXJlIGxvb3NseSBjb3VwbGVkLCB3ZSBoYXZlIHRvIG1ha2Ugc29tZSBhc3N1bXB0aW9ucyBoZXJlIDooXG5cdFx0XHRcdFx0bGV0IGluY3IgPSBnZXRJbmNyU3BhY2UoYXhlc1swXSwgb3B0cy5taW4sIG9wdHMubWF4LCBwbG90V2lkQ3NzKVswXTtcblxuXHRcdFx0XHRcdGlmIChpbmNyIDwgMWUtMylcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0Ly9cdGxvZyhcInNldFNjYWxlKClcIiwgYXJndW1lbnRzKTtcblxuXHRcdFx0cGVuZFNjYWxlc1trZXldID0gb3B0cztcblxuXHRcdFx0ZGlkUGFpbnQgPSBmYWxzZTtcblx0XHRcdHNldFNjYWxlcygpO1xuXHRcdFx0IWRpZFBhaW50ICYmIHBhaW50KCk7XG5cdFx0XHRkaWRQYWludCA9IGZhbHNlO1xuXHRcdH1cblx0fVxuXG5cdHNlbGYuc2V0U2NhbGUgPSBzZXRTY2FsZTtcblxuLy9cdElOVEVSQUNUSU9OXG5cblx0bGV0IHZ0O1xuXHRsZXQgaHo7XG5cblx0Ly8gc3RhcnRpbmcgcG9zaXRpb25cblx0bGV0IG1vdXNlTGVmdDA7XG5cdGxldCBtb3VzZVRvcDA7XG5cblx0Ly8gY3VycmVudCBwb3NpdGlvblxuXHRsZXQgbW91c2VMZWZ0MTtcblx0bGV0IG1vdXNlVG9wMTtcblxuXHRsZXQgZHJhZ2dpbmcgPSBmYWxzZTtcblxuXHRjb25zdCBkcmFnID0gIGN1cnNvci5kcmFnO1xuXG5cdGxldCBkcmFnWCA9ICBkcmFnLng7XG5cdGxldCBkcmFnWSA9ICBkcmFnLnk7XG5cblx0aWYgKCBjdXJzb3Iuc2hvdykge1xuXHRcdGxldCBjID0gXCJjdXJzb3ItXCI7XG5cblx0XHRpZiAoY3Vyc29yLngpIHtcblx0XHRcdG1vdXNlTGVmdDEgPSBjdXJzb3IubGVmdDtcblx0XHRcdHZ0ID0gcGxhY2VEaXYoYyArIFwieFwiLCBvdmVyKTtcblx0XHR9XG5cblx0XHRpZiAoY3Vyc29yLnkpIHtcblx0XHRcdG1vdXNlVG9wMSA9IGN1cnNvci50b3A7XG5cdFx0XHRoeiA9IHBsYWNlRGl2KGMgKyBcInlcIiwgb3Zlcik7XG5cdFx0fVxuXHR9XG5cblx0Y29uc3Qgc2VsZWN0ID0gc2VsZi5zZWxlY3QgPSBhc3NpZ24oe1xuXHRcdHNob3c6ICAgdHJ1ZSxcblx0XHRsZWZ0Olx0MCxcblx0XHR3aWR0aDpcdDAsXG5cdFx0dG9wOlx0MCxcblx0XHRoZWlnaHQ6XHQwLFxuXHR9LCBvcHRzLnNlbGVjdCk7XG5cblx0Y29uc3Qgc2VsZWN0RGl2ID0gc2VsZWN0LnNob3cgPyBwbGFjZURpdihcInNlbGVjdFwiLCBvdmVyKSA6IG51bGw7XG5cblx0ZnVuY3Rpb24gc2V0U2VsZWN0KG9wdHMsIF9maXJlKSB7XG5cdFx0aWYgKHNlbGVjdC5zaG93KSB7XG5cdFx0XHRmb3IgKGxldCBwcm9wIGluIG9wdHMpXG5cdFx0XHRcdHNldFN0eWxlUHgoc2VsZWN0RGl2LCBwcm9wLCBzZWxlY3RbcHJvcF0gPSBvcHRzW3Byb3BdKTtcblxuXHRcdFx0X2ZpcmUgIT09IGZhbHNlICYmIGZpcmUoXCJzZXRTZWxlY3RcIik7XG5cdFx0fVxuXHR9XG5cblx0c2VsZi5zZXRTZWxlY3QgPSBzZXRTZWxlY3Q7XG5cblx0ZnVuY3Rpb24gdG9nZ2xlRE9NKGksIG9uT2ZmKSB7XG5cdFx0bGV0IHMgPSBzZXJpZXNbaV07XG5cdFx0bGV0IGxhYmVsID0gc2hvd0xlZ2VuZCA/IGxlZ2VuZFJvd3NbaV1bMF0ucGFyZW50Tm9kZSA6IG51bGw7XG5cblx0XHRpZiAocy5zaG93KVxuXHRcdFx0bGFiZWwgJiYgcmVtQ2xhc3MobGFiZWwsIFwib2ZmXCIpO1xuXHRcdGVsc2Uge1xuXHRcdFx0bGFiZWwgJiYgYWRkQ2xhc3MobGFiZWwsIFwib2ZmXCIpO1xuXHRcdFx0IGN1cnNvclB0cy5sZW5ndGggPiAxICYmIHRyYW5zKGN1cnNvclB0c1tpXSwgMCwgLTEwKTtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBfc2V0U2NhbGUoa2V5LCBtaW4sIG1heCkge1xuXHRcdHNldFNjYWxlKGtleSwge21pbiwgbWF4fSk7XG5cdH1cblxuXHRmdW5jdGlvbiBzZXRTZXJpZXMoaSwgb3B0cywgcHViKSB7XG5cdC8vXHRsb2coXCJzZXRTZXJpZXMoKVwiLCBhcmd1bWVudHMpO1xuXG5cdFx0bGV0IHMgPSBzZXJpZXNbaV07XG5cblx0Ly9cdGJhdGNoKCgpID0+IHtcblx0XHRcdC8vIHdpbGwgdGhpcyBjYXVzZSByZWR1bmRhbnQgcGFpbnQoKSBpZiBib3RoIHNob3cgYW5kIGZvY3VzIGFyZSBzZXQ/XG5cdFx0XHRpZiAob3B0cy5mb2N1cyAhPSBudWxsKVxuXHRcdFx0XHRzZXRGb2N1cyhpKTtcblxuXHRcdFx0aWYgKG9wdHMuc2hvdyAhPSBudWxsKSB7XG5cdFx0XHRcdHMuc2hvdyA9IG9wdHMuc2hvdztcblx0XHRcdFx0IHRvZ2dsZURPTShpLCBvcHRzLnNob3cpO1xuXG5cdFx0XHRcdGlmIChzLmJhbmQpIHtcblx0XHRcdFx0XHQvLyBub3Qgc3VwZXIgcm9idXN0LCB3aWxsIGJyZWFrIGlmIHR3byBiYW5kcyBhcmUgYWRqYWNlbnRcblx0XHRcdFx0XHRsZXQgaXAgPSBzZXJpZXNbaSsxXSAmJiBzZXJpZXNbaSsxXS5iYW5kID8gaSsxIDogaS0xO1xuXHRcdFx0XHRcdHNlcmllc1tpcF0uc2hvdyA9IHMuc2hvdztcblx0XHRcdFx0XHQgdG9nZ2xlRE9NKGlwLCBvcHRzLnNob3cpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0X3NldFNjYWxlKHhTY2FsZUtleSwgc2NhbGVzW3hTY2FsZUtleV0ubWluLCBzY2FsZXNbeFNjYWxlS2V5XS5tYXgpO1x0XHQvLyByZWRyYXdcblx0XHRcdH1cblx0Ly9cdH0pO1xuXG5cdFx0Ly8gZmlyaW5nIHNldFNlcmllcyBhZnRlciBzZXRTY2FsZSBzZWVtcyBvdXQgb2Ygb3JkZXIsIGJ1dCBwcm92aWRlcyBhY2Nlc3MgdG8gdGhlIHVwZGF0ZWQgcHJvcHNcblx0XHQvLyBjb3VsZCBpbXByb3ZlIGJ5IHByZWRlZmluaW5nIGZpcmluZyBvcmRlciBhbmQgYnVpbGRpbmcgYSBxdWV1ZVxuXHRcdGZpcmUoXCJzZXRTZXJpZXNcIiwgaSwgb3B0cyk7XG5cblx0XHQgcHViICYmIHN5bmMucHViKFwic2V0U2VyaWVzXCIsIHNlbGYsIGksIG9wdHMpO1xuXHR9XG5cblx0c2VsZi5zZXRTZXJpZXMgPSBzZXRTZXJpZXM7XG5cblx0ZnVuY3Rpb24gX2FscGhhKGksIHZhbHVlKSB7XG5cdFx0c2VyaWVzW2ldLmFscGhhID0gdmFsdWU7XG5cblx0XHRpZiAoIGxlZ2VuZFJvd3MpXG5cdFx0XHRsZWdlbmRSb3dzW2ldWzBdLnBhcmVudE5vZGUuc3R5bGUub3BhY2l0eSA9IHZhbHVlO1xuXHR9XG5cblx0ZnVuY3Rpb24gX3NldEFscGhhKGksIHZhbHVlKSB7XG5cdFx0bGV0IHMgPSBzZXJpZXNbaV07XG5cblx0XHRfYWxwaGEoaSwgdmFsdWUpO1xuXG5cdFx0aWYgKHMuYmFuZCkge1xuXHRcdFx0Ly8gbm90IHN1cGVyIHJvYnVzdCwgd2lsbCBicmVhayBpZiB0d28gYmFuZHMgYXJlIGFkamFjZW50XG5cdFx0XHRsZXQgaXAgPSBzZXJpZXNbaSsxXS5iYW5kID8gaSsxIDogaS0xO1xuXHRcdFx0X2FscGhhKGlwLCB2YWx1ZSk7XG5cdFx0fVxuXHR9XG5cblx0Ly8geS1kaXN0YW5jZVxuXHRjb25zdCBkaXN0c1RvQ3Vyc29yID0gIEFycmF5KHNlcmllcy5sZW5ndGgpO1xuXG5cdGxldCBmb2N1c2VkID0gbnVsbDtcblxuXHRmdW5jdGlvbiBzZXRGb2N1cyhpKSB7XG5cdFx0aWYgKGkgIT0gZm9jdXNlZCkge1xuXHRcdC8vXHRsb2coXCJzZXRGb2N1cygpXCIsIGFyZ3VtZW50cyk7XG5cblx0XHRcdHNlcmllcy5mb3JFYWNoKChzLCBpMikgPT4ge1xuXHRcdFx0XHRfc2V0QWxwaGEoaTIsIGkgPT0gbnVsbCB8fCBpMiA9PSAwIHx8IGkyID09IGkgPyAxIDogZm9jdXMuYWxwaGEpO1xuXHRcdFx0fSk7XG5cblx0XHRcdGZvY3VzZWQgPSBpO1xuXHRcdFx0cGFpbnQoKTtcblx0XHR9XG5cdH1cblxuXHRpZiAoc2hvd0xlZ2VuZCAmJiBjdXJzb3JGb2N1cykge1xuXHRcdG9uKG1vdXNlbGVhdmUsIGxlZ2VuZEVsLCBlID0+IHtcblx0XHRcdGlmIChjdXJzb3IubG9ja2VkKVxuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHRzZXRTZXJpZXMobnVsbCwge2ZvY3VzOiBmYWxzZX0sIHN5bmNPcHRzLnNldFNlcmllcyk7XG5cdFx0XHR1cGRhdGVDdXJzb3IoKTtcblx0XHR9KTtcblx0fVxuXG5cdGZ1bmN0aW9uIHNjYWxlVmFsdWVBdFBvcyhwb3MsIHNjYWxlKSB7XG5cdFx0bGV0IGRpbSA9IHBsb3RXaWRDc3M7XG5cblx0XHRpZiAoc2NhbGUgIT0geFNjYWxlS2V5KSB7XG5cdFx0XHRkaW0gPSBwbG90SGd0Q3NzO1xuXHRcdFx0cG9zID0gZGltIC0gcG9zO1xuXHRcdH1cblxuXHRcdGxldCBwY3QgPSBwb3MgLyBkaW07XG5cblx0XHRsZXQgc2MgPSBzY2FsZXNbc2NhbGVdO1xuXHRcdGxldCBkID0gc2MubWF4IC0gc2MubWluO1xuXHRcdHJldHVybiBzYy5taW4gKyBwY3QgKiBkO1xuXHR9XG5cblx0ZnVuY3Rpb24gY2xvc2VzdElkeEZyb21YcG9zKHBvcykge1xuXHRcdGxldCB2ID0gc2NhbGVWYWx1ZUF0UG9zKHBvcywgeFNjYWxlS2V5KTtcblx0XHRyZXR1cm4gY2xvc2VzdElkeCh2LCBkYXRhWzBdLCBpMCwgaTEpO1xuXHR9XG5cblx0c2VsZi52YWxUb0lkeCA9IHZhbCA9PiBjbG9zZXN0SWR4KHZhbCwgZGF0YVswXSk7XG5cdHNlbGYucG9zVG9JZHggPSBjbG9zZXN0SWR4RnJvbVhwb3M7XG5cdHNlbGYucG9zVG9WYWwgPSBzY2FsZVZhbHVlQXRQb3M7XG5cdHNlbGYudmFsVG9Qb3MgPSAodmFsLCBzY2FsZSwgY2FuKSA9PiAoXG5cdFx0c2NhbGUgPT0geFNjYWxlS2V5ID9cblx0XHRnZXRYUG9zKHZhbCwgc2NhbGVzW3NjYWxlXSxcblx0XHRcdGNhbiA/IHBsb3RXaWQgOiBwbG90V2lkQ3NzLFxuXHRcdFx0Y2FuID8gcGxvdExmdCA6IDAsXG5cdFx0KSA6XG5cdFx0Z2V0WVBvcyh2YWwsIHNjYWxlc1tzY2FsZV0sXG5cdFx0XHRjYW4gPyBwbG90SGd0IDogcGxvdEhndENzcyxcblx0XHRcdGNhbiA/IHBsb3RUb3AgOiAwLFxuXHRcdClcblx0KTtcblxuXHRsZXQgaW5CYXRjaCA9IGZhbHNlO1xuXHRsZXQgc2hvdWxkUGFpbnQgPSBmYWxzZTtcblx0bGV0IHNob3VsZFNldFNjYWxlcyA9IGZhbHNlO1xuXHRsZXQgc2hvdWxkVXBkYXRlQ3Vyc29yID0gZmFsc2U7XG5cblx0Ly8gZGVmZXJzIGNhbGxpbmcgZXhwZW5zaXZlIGZ1bmN0aW9uc1xuXHRmdW5jdGlvbiBiYXRjaChmbikge1xuXHRcdGluQmF0Y2ggPSB0cnVlO1xuXHRcdGZuKHNlbGYpO1xuXHRcdGluQmF0Y2ggPSBmYWxzZTtcblx0XHRzaG91bGRTZXRTY2FsZXMgJiYgc2V0U2NhbGVzKCk7XG5cdFx0IHNob3VsZFVwZGF0ZUN1cnNvciAmJiB1cGRhdGVDdXJzb3IoKTtcblx0XHRzaG91bGRQYWludCAmJiAhZGlkUGFpbnQgJiYgcGFpbnQoKTtcblx0XHRzaG91bGRTZXRTY2FsZXMgPSBzaG91bGRVcGRhdGVDdXJzb3IgPSBzaG91bGRQYWludCA9IGRpZFBhaW50ID0gaW5CYXRjaDtcblx0fVxuXG5cdHNlbGYuYmF0Y2ggPSBiYXRjaDtcblxuXHQgKHNlbGYuc2V0Q3Vyc29yID0gb3B0cyA9PiB7XG5cdFx0bW91c2VMZWZ0MSA9IG9wdHMubGVmdDtcblx0XHRtb3VzZVRvcDEgPSBvcHRzLnRvcDtcblx0Ly9cdGFzc2lnbihjdXJzb3IsIG9wdHMpO1xuXHRcdHVwZGF0ZUN1cnNvcigpO1xuXHR9KTtcblxuXHRsZXQgY3Vyc29yUmFmID0gMDtcblxuXHRmdW5jdGlvbiB1cGRhdGVDdXJzb3IodHMsIHNyYykge1xuXHRcdGlmIChpbkJhdGNoKSB7XG5cdFx0XHRzaG91bGRVcGRhdGVDdXJzb3IgPSB0cnVlO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHQvL1x0dHMgPT0gbnVsbCAmJiBsb2coXCJ1cGRhdGVDdXJzb3IoKVwiLCBhcmd1bWVudHMpO1xuXG5cdFx0Y3Vyc29yUmFmID0gMDtcblxuXHRcdGlmIChjdXJzb3Iuc2hvdykge1xuXHRcdFx0Y3Vyc29yLnggJiYgdHJhbnModnQscm91bmQobW91c2VMZWZ0MSksMCk7XG5cdFx0XHRjdXJzb3IueSAmJiB0cmFucyhoeiwwLHJvdW5kKG1vdXNlVG9wMSkpO1xuXHRcdH1cblxuXHRcdGxldCBpZHg7XG5cblx0XHQvLyB3aGVuIHpvb21pbmcgdG8gYW4geCBzY2FsZSByYW5nZSBiZXR3ZWVuIGRhdGFwb2ludHMgdGhlIGJpbmFyeSBzZWFyY2hcblx0XHQvLyBmb3IgbmVhcmVzdCBtaW4vbWF4IGluZGljZXMgcmVzdWx0cyBpbiB0aGlzIGNvbmRpdGlvbi4gY2hlYXAgaGFjayA6RFxuXHRcdGxldCBub0RhdGFJblJhbmdlID0gaTAgPiBpMTtcblxuXHRcdC8vIGlmIGN1cnNvciBoaWRkZW4sIGhpZGUgcG9pbnRzICYgY2xlYXIgbGVnZW5kIHZhbHNcblx0XHRpZiAobW91c2VMZWZ0MSA8IDAgfHwgZGF0YUxlbiA9PSAwIHx8IG5vRGF0YUluUmFuZ2UpIHtcblx0XHRcdGlkeCA9IG51bGw7XG5cblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgc2VyaWVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGlmIChpID4gMCkge1xuXHRcdFx0XHRcdGRpc3RzVG9DdXJzb3JbaV0gPSBpbmY7XG5cdFx0XHRcdFx0IGN1cnNvclB0cy5sZW5ndGggPiAxICYmIHRyYW5zKGN1cnNvclB0c1tpXSwgLTEwLCAtMTApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHNob3dMZWdlbmQpIHtcblx0XHRcdFx0XHRpZiAoaSA9PSAwICYmIG11bHRpVmFsTGVnZW5kKVxuXHRcdFx0XHRcdFx0Y29udGludWU7XG5cblx0XHRcdFx0XHRmb3IgKGxldCBqID0gMDsgaiA8IGxlZ2VuZFJvd3NbaV0ubGVuZ3RoOyBqKyspXG5cdFx0XHRcdFx0XHRsZWdlbmRSb3dzW2ldW2pdW2ZpcnN0Q2hpbGRdLm5vZGVWYWx1ZSA9ICctLSc7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKGN1cnNvckZvY3VzKVxuXHRcdFx0XHRzZXRTZXJpZXMobnVsbCwge2ZvY3VzOiB0cnVlfSwgc3luY09wdHMuc2V0U2VyaWVzKTtcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0Ly9cdGxldCBwY3RZID0gMSAtICh5IC8gcmVjdFtIRUlHSFRdKTtcblxuXHRcdFx0aWR4ID0gY2xvc2VzdElkeEZyb21YcG9zKG1vdXNlTGVmdDEpO1xuXG5cdFx0XHRsZXQgc2NYID0gc2NhbGVzW3hTY2FsZUtleV07XG5cblx0XHRcdGxldCB4UG9zID0gcm91bmQzKGdldFhQb3MoZGF0YVswXVtpZHhdLCBzY1gsIHBsb3RXaWRDc3MsIDApKTtcblxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzZXJpZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0bGV0IHMgPSBzZXJpZXNbaV07XG5cblx0XHRcdFx0aWYgKGkgPiAwICYmIHMuc2hvdykge1xuXHRcdFx0XHRcdGxldCB2YWxBdElkeCA9IGRhdGFbaV1baWR4XTtcblxuXHRcdFx0XHRcdGxldCB5UG9zID0gdmFsQXRJZHggPT0gbnVsbCA/IC0xMCA6IHJvdW5kMyhnZXRZUG9zKHZhbEF0SWR4LCBzY2FsZXNbcy5zY2FsZV0sIHBsb3RIZ3RDc3MsIDApKTtcblxuXHRcdFx0XHRcdGRpc3RzVG9DdXJzb3JbaV0gPSB5UG9zID4gMCA/IGFicyh5UG9zIC0gbW91c2VUb3AxKSA6IGluZjtcblxuXHRcdFx0XHRcdCBjdXJzb3JQdHMubGVuZ3RoID4gMSAmJiB0cmFucyhjdXJzb3JQdHNbaV0sIHhQb3MsIHlQb3MpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRkaXN0c1RvQ3Vyc29yW2ldID0gaW5mO1xuXG5cdFx0XHRcdGlmIChzaG93TGVnZW5kKSB7XG5cdFx0XHRcdFx0aWYgKGlkeCA9PSBjdXJzb3IuaWR4IHx8IGkgPT0gMCAmJiBtdWx0aVZhbExlZ2VuZClcblx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXG5cdFx0XHRcdFx0bGV0IHNyYyA9IGkgPT0gMCAmJiB4U2NhbGVEaXN0ciA9PSAyID8gZGF0YTAgOiBkYXRhW2ldO1xuXG5cdFx0XHRcdFx0bGV0IHZhbHMgPSBtdWx0aVZhbExlZ2VuZCA/IHMudmFsdWVzKHNlbGYsIGksIGlkeCkgOiB7Xzogcy52YWx1ZShzZWxmLCBzcmNbaWR4XSwgaSwgaWR4KX07XG5cblx0XHRcdFx0XHRsZXQgaiA9IDA7XG5cblx0XHRcdFx0XHRmb3IgKGxldCBrIGluIHZhbHMpXG5cdFx0XHRcdFx0XHRsZWdlbmRSb3dzW2ldW2orK11bZmlyc3RDaGlsZF0ubm9kZVZhbHVlID0gdmFsc1trXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIG5pdDogY3Vyc29yLmRyYWcuc2V0U2VsZWN0IGlzIGFzc3VtZWQgYWx3YXlzIHRydWVcblx0XHRpZiAoc2VsZWN0LnNob3cgJiYgZHJhZ2dpbmcpIHtcblx0XHRcdGxldCBkeCA9IGFicyhtb3VzZUxlZnQxIC0gbW91c2VMZWZ0MCk7XG5cdFx0XHRsZXQgZHkgPSBhYnMobW91c2VUb3AxIC0gbW91c2VUb3AwKTtcblxuXHRcdFx0aWYgKHNyYyAhPSBudWxsKSB7XG5cdFx0XHRcdGxldCBbeEtleSwgeUtleV0gPSBzeW5jT3B0cy5zY2FsZXM7XG5cblx0XHRcdFx0Ly8gbWF0Y2ggdGhlIGRyYWdYL2RyYWdZIGltcGxpY2l0bmVzcy9leHBsaWNpdG5lc3Mgb2Ygc3JjXG5cdFx0XHRcdGxldCBzZHJhZyA9IHNyYy5jdXJzb3IuZHJhZztcblx0XHRcdFx0ZHJhZ1ggPSBzZHJhZy5feDtcblx0XHRcdFx0ZHJhZ1kgPSBzZHJhZy5feTtcblxuXHRcdFx0XHRpZiAoeEtleSkge1xuXHRcdFx0XHRcdGxldCBzYyA9IHNjYWxlc1t4S2V5XTtcblx0XHRcdFx0XHRsZXQgc3JjTGVmdCA9IHNyYy5wb3NUb1ZhbChzcmMuc2VsZWN0W0xFRlRdLCB4S2V5KTtcblx0XHRcdFx0XHRsZXQgc3JjUmlnaHQgPSBzcmMucG9zVG9WYWwoc3JjLnNlbGVjdFtMRUZUXSArIHNyYy5zZWxlY3RbV0lEVEhdLCB4S2V5KTtcblxuXHRcdFx0XHRcdHNlbGVjdFtMRUZUXSA9IGdldFhQb3Moc3JjTGVmdCwgc2MsIHBsb3RXaWRDc3MsIDApO1xuXHRcdFx0XHRcdHNlbGVjdFtXSURUSF0gPSBhYnMoc2VsZWN0W0xFRlRdIC0gZ2V0WFBvcyhzcmNSaWdodCwgc2MsIHBsb3RXaWRDc3MsIDApKTtcblxuXHRcdFx0XHRcdHNldFN0eWxlUHgoc2VsZWN0RGl2LCBMRUZULCBzZWxlY3RbTEVGVF0pO1xuXHRcdFx0XHRcdHNldFN0eWxlUHgoc2VsZWN0RGl2LCBXSURUSCwgc2VsZWN0W1dJRFRIXSk7XG5cblx0XHRcdFx0XHRpZiAoIXlLZXkpIHtcblx0XHRcdFx0XHRcdHNldFN0eWxlUHgoc2VsZWN0RGl2LCBUT1AsIHNlbGVjdFtUT1BdID0gMCk7XG5cdFx0XHRcdFx0XHRzZXRTdHlsZVB4KHNlbGVjdERpdiwgSEVJR0hULCBzZWxlY3RbSEVJR0hUXSA9IHBsb3RIZ3RDc3MpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICh5S2V5KSB7XG5cdFx0XHRcdFx0bGV0IHNjID0gc2NhbGVzW3lLZXldO1xuXHRcdFx0XHRcdGxldCBzcmNUb3AgPSBzcmMucG9zVG9WYWwoc3JjLnNlbGVjdFtUT1BdLCB5S2V5KTtcblx0XHRcdFx0XHRsZXQgc3JjQm90dG9tID0gc3JjLnBvc1RvVmFsKHNyYy5zZWxlY3RbVE9QXSArIHNyYy5zZWxlY3RbSEVJR0hUXSwgeUtleSk7XG5cblx0XHRcdFx0XHRzZWxlY3RbVE9QXSA9IGdldFlQb3Moc3JjVG9wLCBzYywgcGxvdEhndENzcywgMCk7XG5cdFx0XHRcdFx0c2VsZWN0W0hFSUdIVF0gPSBhYnMoc2VsZWN0W1RPUF0gLSBnZXRZUG9zKHNyY0JvdHRvbSwgc2MsIHBsb3RIZ3RDc3MsIDApKTtcblxuXHRcdFx0XHRcdHNldFN0eWxlUHgoc2VsZWN0RGl2LCBUT1AsIHNlbGVjdFtUT1BdKTtcblx0XHRcdFx0XHRzZXRTdHlsZVB4KHNlbGVjdERpdiwgSEVJR0hULCBzZWxlY3RbSEVJR0hUXSk7XG5cblx0XHRcdFx0XHRpZiAoIXhLZXkpIHtcblx0XHRcdFx0XHRcdHNldFN0eWxlUHgoc2VsZWN0RGl2LCBMRUZULCBzZWxlY3RbTEVGVF0gPSAwKTtcblx0XHRcdFx0XHRcdHNldFN0eWxlUHgoc2VsZWN0RGl2LCBXSURUSCwgc2VsZWN0W1dJRFRIXSA9IHBsb3RXaWRDc3MpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdGRyYWdYID0gZHJhZy54ICYmIGR4ID49IGRyYWcuZGlzdDtcblx0XHRcdFx0ZHJhZ1kgPSBkcmFnLnkgJiYgZHkgPj0gZHJhZy5kaXN0O1xuXG5cdFx0XHRcdGxldCB1bmkgPSBkcmFnLnVuaTtcblxuXHRcdFx0XHRpZiAodW5pICE9IG51bGwpIHtcblx0XHRcdFx0XHQvLyBvbmx5IGNhbGMgZHJhZyBzdGF0dXMgaWYgdGhleSBwYXNzIHRoZSBkaXN0IHRocmVzaFxuXHRcdFx0XHRcdGlmIChkcmFnWCAmJiBkcmFnWSkge1xuXHRcdFx0XHRcdFx0ZHJhZ1ggPSBkeCA+PSB1bmk7XG5cdFx0XHRcdFx0XHRkcmFnWSA9IGR5ID49IHVuaTtcblxuXHRcdFx0XHRcdFx0Ly8gZm9yY2UgdW5pZGlyZWN0aW9uYWxpdHkgd2hlbiBib3RoIGFyZSB1bmRlciB1bmkgbGltaXRcblx0XHRcdFx0XHRcdGlmICghZHJhZ1ggJiYgIWRyYWdZKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChkeSA+IGR4KVxuXHRcdFx0XHRcdFx0XHRcdGRyYWdZID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0XHRcdGRyYWdYID0gdHJ1ZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSBpZiAoZHJhZy54ICYmIGRyYWcueSAmJiAoZHJhZ1ggfHwgZHJhZ1kpKVxuXHRcdFx0XHRcdC8vIGlmIG9tbmkgd2l0aCBubyB1bmkgdGhlbiBib3RoIGRyYWdYIC8gZHJhZ1kgc2hvdWxkIGJlIHRydWUgaWYgZWl0aGVyIGlzIHRydWVcblx0XHRcdFx0XHRkcmFnWCA9IGRyYWdZID0gdHJ1ZTtcblxuXHRcdFx0XHRpZiAoZHJhZ1gpIHtcblx0XHRcdFx0XHRsZXQgbWluWCA9IG1pbihtb3VzZUxlZnQwLCBtb3VzZUxlZnQxKTtcblxuXHRcdFx0XHRcdHNldFN0eWxlUHgoc2VsZWN0RGl2LCBMRUZULCAgc2VsZWN0W0xFRlRdID0gbWluWCk7XG5cdFx0XHRcdFx0c2V0U3R5bGVQeChzZWxlY3REaXYsIFdJRFRILCBzZWxlY3RbV0lEVEhdID0gZHgpO1xuXG5cdFx0XHRcdFx0aWYgKCFkcmFnWSkge1xuXHRcdFx0XHRcdFx0c2V0U3R5bGVQeChzZWxlY3REaXYsIFRPUCwgc2VsZWN0W1RPUF0gPSAwKTtcblx0XHRcdFx0XHRcdHNldFN0eWxlUHgoc2VsZWN0RGl2LCBIRUlHSFQsIHNlbGVjdFtIRUlHSFRdID0gcGxvdEhndENzcyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGRyYWdZKSB7XG5cdFx0XHRcdFx0bGV0IG1pblkgPSBtaW4obW91c2VUb3AwLCBtb3VzZVRvcDEpO1xuXG5cdFx0XHRcdFx0c2V0U3R5bGVQeChzZWxlY3REaXYsIFRPUCwgICAgc2VsZWN0W1RPUF0gPSBtaW5ZKTtcblx0XHRcdFx0XHRzZXRTdHlsZVB4KHNlbGVjdERpdiwgSEVJR0hULCBzZWxlY3RbSEVJR0hUXSA9IGR5KTtcblxuXHRcdFx0XHRcdGlmICghZHJhZ1gpIHtcblx0XHRcdFx0XHRcdHNldFN0eWxlUHgoc2VsZWN0RGl2LCBMRUZULCBzZWxlY3RbTEVGVF0gPSAwKTtcblx0XHRcdFx0XHRcdHNldFN0eWxlUHgoc2VsZWN0RGl2LCBXSURUSCwgc2VsZWN0W1dJRFRIXSA9IHBsb3RXaWRDc3MpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICghZHJhZ1ggJiYgIWRyYWdZKSB7XG5cdFx0XHRcdFx0Ly8gdGhlIGRyYWcgZGlkbid0IHBhc3MgdGhlIGRpc3QgcmVxdWlyZW1lbnRcblx0XHRcdFx0XHRzZXRTdHlsZVB4KHNlbGVjdERpdiwgSEVJR0hULCBzZWxlY3RbSEVJR0hUXSA9IDApO1xuXHRcdFx0XHRcdHNldFN0eWxlUHgoc2VsZWN0RGl2LCBXSURUSCwgIHNlbGVjdFtXSURUSF0gID0gMCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRjdXJzb3IuaWR4ID0gaWR4O1xuXHRcdGN1cnNvci5sZWZ0ID0gbW91c2VMZWZ0MTtcblx0XHRjdXJzb3IudG9wID0gbW91c2VUb3AxO1xuXHRcdGRyYWcuX3ggPSBkcmFnWDtcblx0XHRkcmFnLl95ID0gZHJhZ1k7XG5cblx0XHQvLyBpZiB0cyBpcyBwcmVzZW50LCBtZWFucyB3ZSdyZSBpbXBsaWNpdGx5IHN5bmNpbmcgb3duIGN1cnNvciBhcyBhIHJlc3VsdCBvZiBkZWJvdW5jZWQgckFGXG5cdFx0aWYgKHRzICE9IG51bGwpIHtcblx0XHRcdC8vIHRoaXMgaXMgbm90IHRlY2huaWNhbGx5IGEgXCJtb3VzZW1vdmVcIiBldmVudCwgc2luY2UgaXQncyBkZWJvdW5jZWQsIHJlbmFtZSB0byBzZXRDdXJzb3I/XG5cdFx0XHQvLyBzaW5jZSB0aGlzIGlzIGludGVybmFsLCB3ZSBjYW4gdHdlYWsgaXQgbGF0ZXJcblx0XHRcdHN5bmMucHViKG1vdXNlbW92ZSwgc2VsZiwgbW91c2VMZWZ0MSwgbW91c2VUb3AxLCBwbG90V2lkQ3NzLCBwbG90SGd0Q3NzLCBpZHgpO1xuXG5cdFx0XHRpZiAoY3Vyc29yRm9jdXMpIHtcblx0XHRcdFx0bGV0IG1pbkRpc3QgPSBtaW4uYXBwbHkobnVsbCwgZGlzdHNUb0N1cnNvcik7XG5cblx0XHRcdFx0bGV0IGZpID0gbnVsbDtcblxuXHRcdFx0XHRpZiAobWluRGlzdCA8PSBmb2N1cy5wcm94KSB7XG5cdFx0XHRcdFx0ZGlzdHNUb0N1cnNvci5zb21lKChkaXN0LCBpKSA9PiB7XG5cdFx0XHRcdFx0XHRpZiAoZGlzdCA9PSBtaW5EaXN0KVxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZmkgPSBpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0c2V0U2VyaWVzKGZpLCB7Zm9jdXM6IHRydWV9LCBzeW5jT3B0cy5zZXRTZXJpZXMpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJlYWR5ICYmIGZpcmUoXCJzZXRDdXJzb3JcIik7XG5cdH1cblxuXHRsZXQgcmVjdCA9IG51bGw7XG5cblx0ZnVuY3Rpb24gc3luY1JlY3QoKSB7XG5cdFx0cmVjdCA9IG92ZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdH1cblxuXHRmdW5jdGlvbiBtb3VzZU1vdmUoZSwgc3JjLCBfeCwgX3ksIF93LCBfaCwgX2kpIHtcblx0XHRpZiAoY3Vyc29yLmxvY2tlZClcblx0XHRcdHJldHVybjtcblxuXHRcdGNhY2hlTW91c2UoZSwgc3JjLCBfeCwgX3ksIF93LCBfaCwgX2ksIGZhbHNlLCBlICE9IG51bGwpO1xuXG5cdFx0aWYgKGUgIT0gbnVsbCkge1xuXHRcdFx0aWYgKGN1cnNvclJhZiA9PSAwKVxuXHRcdFx0XHRjdXJzb3JSYWYgPSByQUYodXBkYXRlQ3Vyc29yKTtcblx0XHR9XG5cdFx0ZWxzZVxuXHRcdFx0dXBkYXRlQ3Vyc29yKG51bGwsIHNyYyk7XG5cdH1cblxuXHRmdW5jdGlvbiBjYWNoZU1vdXNlKGUsIHNyYywgX3gsIF95LCBfdywgX2gsIF9pLCBpbml0aWFsLCBzbmFwKSB7XG5cdFx0aWYgKGUgIT0gbnVsbCkge1xuXHRcdFx0X3ggPSBlLmNsaWVudFggLSByZWN0LmxlZnQ7XG5cdFx0XHRfeSA9IGUuY2xpZW50WSAtIHJlY3QudG9wO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdGlmIChfeCA8IDAgfHwgX3kgPCAwKSB7XG5cdFx0XHRcdG1vdXNlTGVmdDEgPSAtMTA7XG5cdFx0XHRcdG1vdXNlVG9wMSA9IC0xMDtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRsZXQgW3hLZXksIHlLZXldID0gc3luY09wdHMuc2NhbGVzO1xuXG5cdFx0XHRpZiAoeEtleSAhPSBudWxsKVxuXHRcdFx0XHRfeCA9IGdldFhQb3Moc3JjLnBvc1RvVmFsKF94LCB4S2V5KSwgc2NhbGVzW3hLZXldLCBwbG90V2lkQ3NzLCAwKTtcblx0XHRcdGVsc2Vcblx0XHRcdFx0X3ggPSBwbG90V2lkQ3NzICogKF94L193KTtcblxuXHRcdFx0aWYgKHlLZXkgIT0gbnVsbClcblx0XHRcdFx0X3kgPSBnZXRZUG9zKHNyYy5wb3NUb1ZhbChfeSwgeUtleSksIHNjYWxlc1t5S2V5XSwgcGxvdEhndENzcywgMCk7XG5cdFx0XHRlbHNlXG5cdFx0XHRcdF95ID0gcGxvdEhndENzcyAqIChfeS9faCk7XG5cdFx0fVxuXG5cdFx0aWYgKHNuYXApIHtcblx0XHRcdGlmIChfeCA8PSAxIHx8IF94ID49IHBsb3RXaWRDc3MgLSAxKVxuXHRcdFx0XHRfeCA9IGluY3JSb3VuZChfeCwgcGxvdFdpZENzcyk7XG5cblx0XHRcdGlmIChfeSA8PSAxIHx8IF95ID49IHBsb3RIZ3RDc3MgLSAxKVxuXHRcdFx0XHRfeSA9IGluY3JSb3VuZChfeSwgcGxvdEhndENzcyk7XG5cdFx0fVxuXG5cdFx0aWYgKGluaXRpYWwpIHtcblx0XHRcdG1vdXNlTGVmdDAgPSBfeDtcblx0XHRcdG1vdXNlVG9wMCA9IF95O1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdG1vdXNlTGVmdDEgPSBfeDtcblx0XHRcdG1vdXNlVG9wMSA9IF95O1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIGhpZGVTZWxlY3QoKSB7XG5cdFx0c2V0U2VsZWN0KHtcblx0XHRcdHdpZHRoOiAwLFxuXHRcdFx0aGVpZ2h0OiAwLFxuXHRcdH0sIGZhbHNlKTtcblx0fVxuXG5cdGZ1bmN0aW9uIG1vdXNlRG93bihlLCBzcmMsIF94LCBfeSwgX3csIF9oLCBfaSkge1xuXHRcdGlmIChzcmMgIT0gbnVsbCB8fCBmaWx0TW91c2UoZSkpIHtcblx0XHRcdGRyYWdnaW5nID0gdHJ1ZTtcblx0XHRcdGRyYWdYID0gZHJhZ1kgPSBkcmFnLl94ID0gZHJhZy5feSA9IGZhbHNlO1xuXG5cdFx0XHRjYWNoZU1vdXNlKGUsIHNyYywgX3gsIF95LCBfdywgX2gsIF9pLCB0cnVlLCBmYWxzZSk7XG5cblx0XHRcdGlmIChlICE9IG51bGwpIHtcblx0XHRcdFx0b24obW91c2V1cCwgZG9jLCBtb3VzZVVwKTtcblx0XHRcdFx0c3luYy5wdWIobW91c2Vkb3duLCBzZWxmLCBtb3VzZUxlZnQwLCBtb3VzZVRvcDAsIHBsb3RXaWRDc3MsIHBsb3RIZ3RDc3MsIG51bGwpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIG1vdXNlVXAoZSwgc3JjLCBfeCwgX3ksIF93LCBfaCwgX2kpIHtcblx0XHRpZiAoc3JjICE9IG51bGwgfHwgZmlsdE1vdXNlKGUpKSB7XG5cdFx0XHRkcmFnZ2luZyA9IGRyYWcuX3ggPSBkcmFnLl95ID0gZmFsc2U7XG5cblx0XHRcdGNhY2hlTW91c2UoZSwgc3JjLCBfeCwgX3ksIF93LCBfaCwgX2ksIGZhbHNlLCB0cnVlKTtcblxuXHRcdFx0bGV0IGhhc1NlbGVjdCA9IHNlbGVjdFtXSURUSF0gPiAwIHx8IHNlbGVjdFtIRUlHSFRdID4gMDtcblxuXHRcdFx0aGFzU2VsZWN0ICYmIHNldFNlbGVjdChzZWxlY3QpO1xuXG5cdFx0XHRpZiAoZHJhZy5zZXRTY2FsZSAmJiBoYXNTZWxlY3QpIHtcblx0XHRcdC8vXHRpZiAoc3luY0tleSAhPSBudWxsKSB7XG5cdFx0XHQvL1x0XHRkcmFnWCA9IGRyYWcueDtcblx0XHRcdC8vXHRcdGRyYWdZID0gZHJhZy55O1xuXHRcdFx0Ly9cdH1cblxuXHRcdFx0XHRiYXRjaCgoKSA9PiB7XG5cdFx0XHRcdFx0aWYgKGRyYWdYKSB7XG5cdFx0XHRcdFx0XHRfc2V0U2NhbGUoeFNjYWxlS2V5LFxuXHRcdFx0XHRcdFx0XHRzY2FsZVZhbHVlQXRQb3Moc2VsZWN0W0xFRlRdLCB4U2NhbGVLZXkpLFxuXHRcdFx0XHRcdFx0XHRzY2FsZVZhbHVlQXRQb3Moc2VsZWN0W0xFRlRdICsgc2VsZWN0W1dJRFRIXSwgeFNjYWxlS2V5KVxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoZHJhZ1kpIHtcblx0XHRcdFx0XHRcdGZvciAobGV0IGsgaW4gc2NhbGVzKSB7XG5cdFx0XHRcdFx0XHRcdGxldCBzYyA9IHNjYWxlc1trXTtcblxuXHRcdFx0XHRcdFx0XHRpZiAoayAhPSB4U2NhbGVLZXkgJiYgc2MuZnJvbSA9PSBudWxsKSB7XG5cdFx0XHRcdFx0XHRcdFx0X3NldFNjYWxlKGssXG5cdFx0XHRcdFx0XHRcdFx0XHRzY2FsZVZhbHVlQXRQb3Moc2VsZWN0W1RPUF0gKyBzZWxlY3RbSEVJR0hUXSwgayksXG5cdFx0XHRcdFx0XHRcdFx0XHRzY2FsZVZhbHVlQXRQb3Moc2VsZWN0W1RPUF0sIGspXG5cdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0aGlkZVNlbGVjdCgpO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAoY3Vyc29yLmxvY2spIHtcblx0XHRcdFx0Y3Vyc29yLmxvY2tlZCA9ICFjdXJzb3IubG9ja2VkO1xuXG5cdFx0XHRcdGlmICghY3Vyc29yLmxvY2tlZClcblx0XHRcdFx0XHR1cGRhdGVDdXJzb3IoKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoZSAhPSBudWxsKSB7XG5cdFx0XHRvZmYobW91c2V1cCwgZG9jLCBtb3VzZVVwKTtcblx0XHRcdHN5bmMucHViKG1vdXNldXAsIHNlbGYsIG1vdXNlTGVmdDEsIG1vdXNlVG9wMSwgcGxvdFdpZENzcywgcGxvdEhndENzcywgbnVsbCk7XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gbW91c2VMZWF2ZShlLCBzcmMsIF94LCBfeSwgX3csIF9oLCBfaSkge1xuXHRcdGlmICghY3Vyc29yLmxvY2tlZCkge1xuXHRcdFx0bGV0IF9kcmFnZ2luZyA9IGRyYWdnaW5nO1xuXG5cdFx0XHRpZiAoZHJhZ2dpbmcpIHtcblx0XHRcdFx0Ly8gaGFuZGxlIGNhc2Ugd2hlbiBtb3VzZW1vdmUgYXJlbid0IGZpcmVkIGFsbCB0aGUgd2F5IHRvIGVkZ2VzIGJ5IGJyb3dzZXJcblx0XHRcdFx0bGV0IHNuYXBYID0gdHJ1ZTtcblx0XHRcdFx0bGV0IHNuYXBZID0gdHJ1ZTtcblx0XHRcdFx0bGV0IHNuYXBQcm94ID0gMTA7XG5cblx0XHRcdFx0aWYgKGRyYWdYICYmIGRyYWdZKSB7XG5cdFx0XHRcdFx0Ly8gbWF5YmUgb21uaSBjb3JuZXIgc25hcFxuXHRcdFx0XHRcdHNuYXBYID0gbW91c2VMZWZ0MSA8PSBzbmFwUHJveCB8fCBtb3VzZUxlZnQxID49IHBsb3RXaWRDc3MgLSBzbmFwUHJveDtcblx0XHRcdFx0XHRzbmFwWSA9IG1vdXNlVG9wMSAgPD0gc25hcFByb3ggfHwgbW91c2VUb3AxICA+PSBwbG90SGd0Q3NzIC0gc25hcFByb3g7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoZHJhZ1ggJiYgc25hcFgpIHtcblx0XHRcdFx0XHRsZXQgZExmdCA9IG1vdXNlTGVmdDE7XG5cdFx0XHRcdFx0bGV0IGRSZ3QgPSBwbG90V2lkQ3NzIC0gbW91c2VMZWZ0MTtcblxuXHRcdFx0XHRcdGxldCB4TWluID0gbWluKGRMZnQsIGRSZ3QpO1xuXG5cdFx0XHRcdFx0aWYgKHhNaW4gPT0gZExmdClcblx0XHRcdFx0XHRcdG1vdXNlTGVmdDEgPSAwO1xuXHRcdFx0XHRcdGlmICh4TWluID09IGRSZ3QpXG5cdFx0XHRcdFx0XHRtb3VzZUxlZnQxID0gcGxvdFdpZENzcztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChkcmFnWSAmJiBzbmFwWSkge1xuXHRcdFx0XHRcdGxldCBkVG9wID0gbW91c2VUb3AxO1xuXHRcdFx0XHRcdGxldCBkQnRtID0gcGxvdEhndENzcyAtIG1vdXNlVG9wMTtcblxuXHRcdFx0XHRcdGxldCB5TWluID0gbWluKGRUb3AsIGRCdG0pO1xuXG5cdFx0XHRcdFx0aWYgKHlNaW4gPT0gZFRvcClcblx0XHRcdFx0XHRcdG1vdXNlVG9wMSA9IDA7XG5cdFx0XHRcdFx0aWYgKHlNaW4gPT0gZEJ0bSlcblx0XHRcdFx0XHRcdG1vdXNlVG9wMSA9IHBsb3RIZ3RDc3M7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR1cGRhdGVDdXJzb3IoMSk7XG5cblx0XHRcdFx0ZHJhZ2dpbmcgPSBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0bW91c2VMZWZ0MSA9IC0xMDtcblx0XHRcdG1vdXNlVG9wMSA9IC0xMDtcblxuXHRcdFx0Ly8gcGFzc2luZyBhIG5vbi1udWxsIHRpbWVzdGFtcCB0byBmb3JjZSBzeW5jL21vdXNlbW92ZSBldmVudFxuXHRcdFx0dXBkYXRlQ3Vyc29yKDEpO1xuXG5cdFx0XHRpZiAoX2RyYWdnaW5nKVxuXHRcdFx0XHRkcmFnZ2luZyA9IF9kcmFnZ2luZztcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBkYmxDbGljayhlLCBzcmMsIF94LCBfeSwgX3csIF9oLCBfaSkge1xuXHRcdGF1dG9TY2FsZVgoKTtcblxuXHRcdGhpZGVTZWxlY3QoKTtcblxuXHRcdGlmIChlICE9IG51bGwpXG5cdFx0XHRzeW5jLnB1YihkYmxjbGljaywgc2VsZiwgbW91c2VMZWZ0MSwgbW91c2VUb3AxLCBwbG90V2lkQ3NzLCBwbG90SGd0Q3NzLCBudWxsKTtcblx0fVxuXG5cdC8vIGludGVybmFsIHB1Yi9zdWJcblx0Y29uc3QgZXZlbnRzID0ge307XG5cblx0ZXZlbnRzW21vdXNlZG93bl0gPSBtb3VzZURvd247XG5cdGV2ZW50c1ttb3VzZW1vdmVdID0gbW91c2VNb3ZlO1xuXHRldmVudHNbbW91c2V1cF0gPSBtb3VzZVVwO1xuXHRldmVudHNbZGJsY2xpY2tdID0gZGJsQ2xpY2s7XG5cdGV2ZW50c1tcInNldFNlcmllc1wiXSA9IChlLCBzcmMsIGlkeCwgb3B0cykgPT4ge1xuXHRcdHNldFNlcmllcyhpZHgsIG9wdHMpO1xuXHR9O1xuXG5cdGxldCBkZWI7XG5cblx0aWYgKCBjdXJzb3Iuc2hvdykge1xuXHRcdG9uKG1vdXNlZG93biwgb3ZlciwgbW91c2VEb3duKTtcblx0XHRvbihtb3VzZW1vdmUsIG92ZXIsIG1vdXNlTW92ZSk7XG5cdFx0b24obW91c2VlbnRlciwgb3Zlciwgc3luY1JlY3QpO1xuXHRcdC8vIHRoaXMgaGFzIHRvIGJlIHJBRidkIHNvIGl0IGFsd2F5cyBmaXJlcyBhZnRlciB0aGUgbGFzdCBxdWV1ZWQvckFGJ2QgdXBkYXRlQ3Vyc29yXG5cdFx0b24obW91c2VsZWF2ZSwgb3ZlciwgZSA9PiB7IHJBRihtb3VzZUxlYXZlKTsgfSk7XG5cblx0XHRvbihkYmxjbGljaywgb3ZlciwgZGJsQ2xpY2spO1xuXG5cdFx0ZGViID0gZGVib3VuY2Uoc3luY1JlY3QsIDEwMCk7XG5cblx0XHRvbihyZXNpemUsIHdpbiwgZGViKTtcblx0XHRvbihzY3JvbGwsIHdpbiwgZGViKTtcblxuXHRcdHNlbGYuc3luY1JlY3QgPSBzeW5jUmVjdDtcblx0fVxuXG5cdC8vIGV4dGVybmFsIG9uL29mZlxuXHRjb25zdCBob29rcyA9IHNlbGYuaG9va3MgPSBvcHRzLmhvb2tzIHx8IHt9O1xuXG5cdGZ1bmN0aW9uIGZpcmUoZXZOYW1lLCBhMSwgYTIpIHtcblx0XHRpZiAoZXZOYW1lIGluIGhvb2tzKSB7XG5cdFx0XHRob29rc1tldk5hbWVdLmZvckVhY2goZm4gPT4ge1xuXHRcdFx0XHRmbi5jYWxsKG51bGwsIHNlbGYsIGExLCBhMik7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHQob3B0cy5wbHVnaW5zIHx8IFtdKS5mb3JFYWNoKHAgPT4ge1xuXHRcdGZvciAobGV0IGV2TmFtZSBpbiBwLmhvb2tzKVxuXHRcdFx0aG9va3NbZXZOYW1lXSA9IChob29rc1tldk5hbWVdIHx8IFtdKS5jb25jYXQocC5ob29rc1tldk5hbWVdKTtcblx0fSk7XG5cblx0Y29uc3Qgc3luY09wdHMgPSAgYXNzaWduKHtcblx0XHRrZXk6IG51bGwsXG5cdFx0c2V0U2VyaWVzOiBmYWxzZSxcblx0XHRzY2FsZXM6IFt4U2NhbGVLZXksIG51bGxdXG5cdH0sIGN1cnNvci5zeW5jKTtcblxuXHRjb25zdCBzeW5jS2V5ID0gIHN5bmNPcHRzLmtleTtcblxuXHRjb25zdCBzeW5jID0gIChzeW5jS2V5ICE9IG51bGwgPyAoc3luY3Nbc3luY0tleV0gPSBzeW5jc1tzeW5jS2V5XSB8fCBfc3luYygpKSA6IF9zeW5jKCkpO1xuXG5cdCBzeW5jLnN1YihzZWxmKTtcblxuXHRmdW5jdGlvbiBwdWIodHlwZSwgc3JjLCB4LCB5LCB3LCBoLCBpKSB7XG5cdFx0ZXZlbnRzW3R5cGVdKG51bGwsIHNyYywgeCwgeSwgdywgaCwgaSk7XG5cdH1cblxuXHQgKHNlbGYucHViID0gcHViKTtcblxuXHRmdW5jdGlvbiBkZXN0cm95KCkge1xuXHRcdCBzeW5jLnVuc3ViKHNlbGYpO1xuXHRcdCBvZmYocmVzaXplLCB3aW4sIGRlYik7XG5cdFx0IG9mZihzY3JvbGwsIHdpbiwgZGViKTtcblx0XHRyb290LnJlbW92ZSgpO1xuXHRcdGZpcmUoXCJkZXN0cm95XCIpO1xuXHR9XG5cblx0c2VsZi5kZXN0cm95ID0gZGVzdHJveTtcblxuXHRmdW5jdGlvbiBfaW5pdCgpIHtcblx0XHRfc2V0U2l6ZShvcHRzW1dJRFRIXSwgb3B0c1tIRUlHSFRdKTtcblxuXHRcdGZpcmUoXCJpbml0XCIsIG9wdHMsIGRhdGEpO1xuXG5cdFx0c2V0RGF0YShkYXRhIHx8IG9wdHMuZGF0YSwgZmFsc2UpO1xuXG5cdFx0aWYgKHBlbmRTY2FsZXNbeFNjYWxlS2V5XSlcblx0XHRcdHNldFNjYWxlKHhTY2FsZUtleSwgcGVuZFNjYWxlc1t4U2NhbGVLZXldKTtcblx0XHRlbHNlXG5cdFx0XHRhdXRvU2NhbGVYKCk7XG5cblx0XHRzZXRTZWxlY3Qoc2VsZWN0LCBmYWxzZSk7XG5cblx0XHRyZWFkeSA9IHRydWU7XG5cblx0XHRmaXJlKFwicmVhZHlcIik7XG5cdH1cblxuXHRpZiAodGhlbikge1xuXHRcdGlmICh0aGVuIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcblx0XHRcdHRoZW4uYXBwZW5kQ2hpbGQocm9vdCk7XG5cdFx0XHRfaW5pdCgpO1xuXHRcdH1cblx0XHRlbHNlXG5cdFx0XHR0aGVuKHNlbGYsIF9pbml0KTtcblx0fVxuXHRlbHNlXG5cdFx0X2luaXQoKTtcblxuXHRyZXR1cm4gc2VsZjtcbn1cblxudVBsb3QuYXNzaWduID0gYXNzaWduO1xudVBsb3QucmFuZ2VOdW0gPSByYW5nZU51bTtcblxue1xuXHR1UGxvdC5mbXREYXRlID0gZm10RGF0ZTtcblx0dVBsb3QudHpEYXRlICA9IHR6RGF0ZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdVBsb3Q7XG4iLCAiaW1wb3J0IHsgQ29sb3JXaGVlbCwgTGluZUNvbG9yIH0gZnJvbSAnLi9jb2xvcl93aGVlbCdcbmltcG9ydCB1UGxvdCBmcm9tICd1cGxvdCdcblxuY29uc3QgU2VyaWVzVmFsdWUgPSAob3B0aW9ucykgPT4ge1xuICBpZiAoIW9wdGlvbnMudW5pdCkgcmV0dXJuIHt9XG5cbiAgcmV0dXJuIHtcbiAgICB2YWx1ZTogKHUsIHYpID0+IHYgPT0gbnVsbCA/ICctLScgOiB2LnRvRml4ZWQoMykgKyBgICR7b3B0aW9ucy51bml0fWBcbiAgfVxufVxuXG5jb25zdCBYU2VyaWVzVmFsdWUgPSAob3B0aW9ucykgPT4ge1xuICByZXR1cm4ge1xuICAgIHZhbHVlOiAne1lZWVl9LXtNTX0te0REfSB7SEh9OnttbX06e3NzfSdcbiAgfVxufVxuXG5jb25zdCBZQXhpc1ZhbHVlID0gKG9wdGlvbnMpID0+IHtcbiAgaWYgKCFvcHRpb25zLnVuaXQpIHJldHVybiB7fVxuXG4gIHJldHVybiB7XG4gICAgdmFsdWVzOiAodSwgdmFscywgc3BhY2UpID0+IHZhbHMubWFwKHYgPT4gK3YudG9GaXhlZCgyKSArIGAgJHtvcHRpb25zLnVuaXR9YClcbiAgfVxufVxuXG5jb25zdCBYQXhpcyA9IChfb3B0aW9ucykgPT4ge1xuICByZXR1cm4ge1xuICAgIHNwYWNlOiA1NSxcbiAgICB2YWx1ZXM6IFtcbiAgICAgIFszNjAwICogMjQgKiAzNjUsIFwie1lZWVl9XCIsIDcsIFwie1lZWVl9XCJdLFxuICAgICAgWzM2MDAgKiAyNCAqIDI4LCBcIntNTU19XCIsIDcsIFwie01NTX1cXG57WVlZWX1cIl0sXG4gICAgICBbMzYwMCAqIDI0LCBcIntNTX0te0REfVwiLCA3LCBcIntNTX0te0REfVxcbntZWVlZfVwiXSxcbiAgICAgIFszNjAwLCBcIntISH06e21tfVwiLCA0LCBcIntISH06e21tfVxcbntZWVlZfS17TU19LXtERH1cIl0sXG4gICAgICBbNjAsIFwie0hIfTp7bW19XCIsIDQsIFwie0hIfTp7bW19XFxue1lZWVl9LXtNTX0te0REfVwiXSxcbiAgICAgIFsxLCBcIntzc31cIiwgMiwgXCJ7SEh9OnttbX06e3NzfVxcbntZWVlZfS17TU19LXtERH1cIl0sXG4gICAgXVxuICB9XG59XG5cbmNvbnN0IFlBeGlzID0gKG9wdGlvbnMpID0+IHtcbiAgcmV0dXJuIHtcbiAgICBzaG93OiB0cnVlLFxuICAgIHNpemU6IDcwLFxuICAgIHNwYWNlOiAxNSxcbiAgICAuLi5ZQXhpc1ZhbHVlKG9wdGlvbnMpXG4gIH1cbn1cblxuY29uc3QgbWluQ2hhcnRTaXplID0ge1xuICB3aWR0aDogMTAwLFxuICBoZWlnaHQ6IDMwMFxufVxuXG4vLyBMaW1pdHMgaG93IG9mdGVuIGEgZnVuY3Rpb24gaXMgaW52b2tlZFxuZnVuY3Rpb24gdGhyb3R0bGUoY2IsIGxpbWl0KSB7XG4gIGxldCB3YWl0ID0gZmFsc2U7XG5cbiAgcmV0dXJuICgpID0+IHtcbiAgICBpZiAoIXdhaXQpIHtcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShjYik7XG4gICAgICB3YWl0ID0gdHJ1ZTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB3YWl0ID0gZmFsc2U7XG4gICAgICB9LCBsaW1pdCk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBuZXdTZXJpZXNDb25maWcgPSAob3B0aW9ucywgaW5kZXggPSAwKSA9PiB7XG4gIHJldHVybiB7XG4gICAgLi4uTGluZUNvbG9yLmF0KGluZGV4KSxcbiAgICAuLi5TZXJpZXNWYWx1ZShvcHRpb25zKSxcbiAgICBsYWJlbDogb3B0aW9ucy5sYWJlbCxcbiAgICBzcGFuR2FwczogdHJ1ZSxcbiAgICBwb2ludHM6IHsgc2hvdzogZmFsc2UgfVxuICB9XG59XG5cbi8qKiBUZWxlbWV0cnkgTWV0cmljcyAqKi9cblxuLy8gTWFwcyBhbiBvcmRlcmVkIGxpc3Qgb2YgZGF0YXNldCBvYmplY3RzIGludG8gYW4gb3JkZXJlZCBsaXN0IG9mIGRhdGEgcG9pbnRzLlxuY29uc3QgZGF0YUZvckRhdGFzZXRzID0gKGRhdGFzZXRzKSA9PiBkYXRhc2V0cy5zbGljZSgwKS5tYXAoKHsgZGF0YSB9KSA9PiBkYXRhKVxuXG4vLyBIYW5kbGVyIGZvciBhbiB1bnRhZ2dlZCBDb21tb25NZXRyaWNcbmZ1bmN0aW9uIG5leHRWYWx1ZUZvckNhbGxiYWNrKHsgeSwgeiB9LCBjYWxsYmFjaykge1xuICB0aGlzLmRhdGFzZXRzWzBdLmRhdGEucHVzaCh6KVxuICBsZXQgY3VycmVudFZhbHVlID0gdGhpcy5kYXRhc2V0c1sxXS5kYXRhW3RoaXMuZGF0YXNldHNbMV0uZGF0YS5sZW5ndGggLSAxXSB8fCAwXG4gIGxldCBuZXh0VmFsdWUgPSBjYWxsYmFjay5jYWxsKHRoaXMsIHksIGN1cnJlbnRWYWx1ZSlcbiAgdGhpcy5kYXRhc2V0c1sxXS5kYXRhLnB1c2gobmV4dFZhbHVlKVxufVxuXG5jb25zdCBmaW5kTGFzdE5vbk51bGxWYWx1ZSA9IChkYXRhKSA9PiBkYXRhLnJlZHVjZVJpZ2h0KChhLCBjKSA9PiAoYyAhPSBudWxsICYmIGEgPT0gbnVsbCA/IGMgOiBhKSwgbnVsbClcblxuLy8gSGFuZGxlciBmb3IgYSB0YWdnZWQgQ29tbW9uTWV0cmljXG5mdW5jdGlvbiBuZXh0VGFnZ2VkVmFsdWVGb3JDYWxsYmFjayh7IHgsIHksIHogfSwgY2FsbGJhY2spIHtcbiAgLy8gRmluZCBvciBjcmVhdGUgdGhlIHNlcmllcyBmcm9tIHRoZSB0YWdcbiAgbGV0IHNlcmllc0luZGV4ID0gdGhpcy5kYXRhc2V0cy5maW5kSW5kZXgoKHsga2V5IH0pID0+IHggPT09IGtleSlcbiAgaWYgKHNlcmllc0luZGV4ID09PSAtMSkge1xuICAgIHNlcmllc0luZGV4ID0gdGhpcy5kYXRhc2V0cy5wdXNoKHsga2V5OiB4LCBkYXRhOiBBcnJheSh0aGlzLmRhdGFzZXRzWzBdLmRhdGEubGVuZ3RoKS5maWxsKG51bGwpIH0pIC0gMVxuICAgIHRoaXMuY2hhcnQuYWRkU2VyaWVzKG5ld1Nlcmllc0NvbmZpZyh7IGxhYmVsOiB4LCB1bml0OiB0aGlzLm9wdGlvbnMudW5pdCB9LCBzZXJpZXNJbmRleCAtIDEpLCBzZXJpZXNJbmRleClcbiAgfVxuXG4gIC8vIEFkZCB0aGUgbmV3IHRpbWVzdGFtcCArIHZhbHVlLCBrZWVwaW5nIGRhdGFzZXRzIGFsaWduZWRcbiAgdGhpcy5kYXRhc2V0cyA9IHRoaXMuZGF0YXNldHMubWFwKChkYXRhc2V0LCBpbmRleCkgPT4ge1xuICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgZGF0YXNldC5kYXRhLnB1c2goeilcbiAgICB9IGVsc2UgaWYgKGluZGV4ID09PSBzZXJpZXNJbmRleCkge1xuICAgICAgZGF0YXNldC5kYXRhLnB1c2goY2FsbGJhY2suY2FsbCh0aGlzLCB5LCBmaW5kTGFzdE5vbk51bGxWYWx1ZShkYXRhc2V0LmRhdGEpIHx8IDApKVxuICAgIH0gZWxzZSB7XG4gICAgICBkYXRhc2V0LmRhdGEucHVzaChudWxsKVxuICAgIH1cbiAgICByZXR1cm4gZGF0YXNldFxuICB9KVxufVxuXG5jb25zdCBnZXRQcnVuZVRocmVzaG9sZCA9ICh7IHBydW5lVGhyZXNob2xkID0gMTAwMCB9KSA9PiBwcnVuZVRocmVzaG9sZFxuXG4vLyBIYW5kbGVzIHRoZSBiYXNpYyBtZXRyaWNzIGxpa2UgQ291bnRlciwgTGFzdFZhbHVlLCBhbmQgU3VtLlxuY2xhc3MgQ29tbW9uTWV0cmljIHtcbiAgc3RhdGljIF9fcHJvamVjdGlvbnMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvdW50ZXI6ICh5LCB2YWx1ZSkgPT4gdmFsdWUgKyAxLFxuICAgICAgbGFzdF92YWx1ZTogKHkpID0+IHksXG4gICAgICBzdW06ICh5LCB2YWx1ZSkgPT4gdmFsdWUgKyB5XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGdldENvbmZpZyhvcHRpb25zKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNsYXNzOiBvcHRpb25zLmtpbmQsXG4gICAgICB0aXRsZTogb3B0aW9ucy50aXRsZSxcbiAgICAgIHdpZHRoOiBvcHRpb25zLndpZHRoLFxuICAgICAgaGVpZ2h0OiBvcHRpb25zLmhlaWdodCxcbiAgICAgIHNlcmllczogW1xuICAgICAgICB7IC4uLlhTZXJpZXNWYWx1ZSgpIH0sXG4gICAgICAgIG5ld1Nlcmllc0NvbmZpZyhvcHRpb25zLCAwKVxuICAgICAgXSxcbiAgICAgIHNjYWxlczoge1xuICAgICAgICB4OiB7XG4gICAgICAgICAgbWluOiBvcHRpb25zLm5vdyAtIDYwLFxuICAgICAgICAgIG1heDogb3B0aW9ucy5ub3dcbiAgICAgICAgfSxcbiAgICAgICAgeToge1xuICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICBtYXg6IDFcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBheGVzOiBbXG4gICAgICAgIFhBeGlzKCksXG4gICAgICAgIFlBeGlzKG9wdGlvbnMpXG4gICAgICBdXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGluaXRpYWxEYXRhKCkge1xuICAgIHJldHVybiBbW10sIFtdXVxuICB9XG5cbiAgY29uc3RydWN0b3IoY2hhcnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLl9fY2FsbGJhY2sgPSB0aGlzLmNvbnN0cnVjdG9yLl9fcHJvamVjdGlvbnMoKVtvcHRpb25zLm1ldHJpY11cbiAgICB0aGlzLmNoYXJ0ID0gY2hhcnRcbiAgICB0aGlzLmRhdGFzZXRzID0gW3sga2V5OiBcInx4fFwiLCBkYXRhOiBbXSB9XVxuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnNcbiAgICB0aGlzLnBydW5lVGhyZXNob2xkID0gZ2V0UHJ1bmVUaHJlc2hvbGQob3B0aW9ucylcblxuICAgIGlmIChvcHRpb25zLnRhZ2dlZCkge1xuICAgICAgdGhpcy5jaGFydC5kZWxTZXJpZXMoMSlcbiAgICAgIHRoaXMuX19oYW5kbGVyID0gbmV4dFRhZ2dlZFZhbHVlRm9yQ2FsbGJhY2tcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kYXRhc2V0cy5wdXNoKHsga2V5OiBvcHRpb25zLmxhYmVsLCBkYXRhOiBbXSB9KVxuICAgICAgdGhpcy5fX2hhbmRsZXIgPSBuZXh0VmFsdWVGb3JDYWxsYmFja1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZU1lYXN1cmVtZW50cyhtZWFzdXJlbWVudHMpIHtcbiAgICAvLyBwcnVuZSBkYXRhc2V0cyB3aGVuIHdlIHJlYWNoIHRoZSBtYXggbnVtYmVyIG9mIGV2ZW50c1xuICAgIG1lYXN1cmVtZW50cy5mb3JFYWNoKChtZWFzdXJlbWVudCkgPT4gdGhpcy5fX2hhbmRsZXIuY2FsbCh0aGlzLCBtZWFzdXJlbWVudCwgdGhpcy5fX2NhbGxiYWNrKSlcblxuICAgIGxldCBjdXJyZW50U2l6ZSA9IHRoaXMuZGF0YXNldHNbMF0uZGF0YS5sZW5ndGhcbiAgICBpZiAoY3VycmVudFNpemUgPj0gdGhpcy5wcnVuZVRocmVzaG9sZCkge1xuICAgICAgdGhpcy5kYXRhc2V0cyA9IHRoaXMuZGF0YXNldHMubWFwKCh7IGRhdGEsIC4uLnJlc3QgfSkgPT4ge1xuICAgICAgICByZXR1cm4geyBkYXRhOiBkYXRhLnNsaWNlKC10aGlzLnBydW5lVGhyZXNob2xkKSwgLi4ucmVzdCB9XG4gICAgICB9KVxuICAgIH1cblxuICAgIHRoaXMuY2hhcnQuc2V0RGF0YShkYXRhRm9yRGF0YXNldHModGhpcy5kYXRhc2V0cykpXG4gIH1cbn1cblxuLy8gRGlzcGxheXMgYSBtZWFzdXJlbWVudCBzdW1tYXJ5XG5jbGFzcyBTdW1tYXJ5IHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucywgY2hhcnRFbCkge1xuICAgIC8vIFRPRE86IEdldCBwZXJjZW50aWxlcyBmcm9tIG9wdGlvbnNcbiAgICBsZXQgY29uZmlnID0gdGhpcy5jb25zdHJ1Y3Rvci5nZXRDb25maWcob3B0aW9ucylcbiAgICAvLyBCaW5kIHRoZSBzZXJpZXMgYHZhbHVlc2AgY2FsbGJhY2sgdG8gdGhpcyBpbnN0YW5jZVxuICAgIGNvbmZpZy5zZXJpZXNbMV0udmFsdWVzID0gdGhpcy5fX3Nlcmllc1ZhbHVlcy5iaW5kKHRoaXMpXG5cbiAgICB0aGlzLmRhdGFzZXRzID0gW3sga2V5OiBcInx4fFwiLCBkYXRhOiBbXSB9XVxuICAgIHRoaXMuY2hhcnQgPSBuZXcgdVBsb3QoY29uZmlnLCB0aGlzLmNvbnN0cnVjdG9yLmluaXRpYWxEYXRhKG9wdGlvbnMpLCBjaGFydEVsKVxuICAgIHRoaXMucHJ1bmVUaHJlc2hvbGQgPSBnZXRQcnVuZVRocmVzaG9sZChvcHRpb25zKVxuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnNcblxuICAgIGlmIChvcHRpb25zLnRhZ2dlZCkge1xuICAgICAgdGhpcy5jaGFydC5kZWxTZXJpZXMoMSlcbiAgICAgIHRoaXMuX19oYW5kbGVyID0gdGhpcy5oYW5kbGVUYWdnZWRNZWFzdXJlbWVudC5iaW5kKHRoaXMpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGF0YXNldHMucHVzaCh0aGlzLmNvbnN0cnVjdG9yLm5ld0RhdGFzZXQob3B0aW9ucy5sYWJlbCkpXG4gICAgICB0aGlzLl9faGFuZGxlciA9IHRoaXMuaGFuZGxlTWVhc3VyZW1lbnQuYmluZCh0aGlzKVxuICAgIH1cbiAgfVxuXG4gIGhhbmRsZU1lYXN1cmVtZW50cyhtZWFzdXJlbWVudHMpIHtcbiAgICBtZWFzdXJlbWVudHMuZm9yRWFjaCgobWVhc3VyZW1lbnQpID0+IHRoaXMuX19oYW5kbGVyKG1lYXN1cmVtZW50KSlcbiAgICB0aGlzLl9fbWF5YmVQcnVuZURhdGFzZXRzKClcbiAgICB0aGlzLmNoYXJ0LnNldERhdGEoZGF0YUZvckRhdGFzZXRzKHRoaXMuZGF0YXNldHMpKVxuICB9XG5cbiAgaGFuZGxlVGFnZ2VkTWVhc3VyZW1lbnQobWVhc3VyZW1lbnQpIHtcbiAgICBsZXQgc2VyaWVzSW5kZXggPSB0aGlzLmZpbmRPckNyZWF0ZVNlcmllcyhtZWFzdXJlbWVudC54KVxuICAgIHRoaXMuaGFuZGxlTWVhc3VyZW1lbnQobWVhc3VyZW1lbnQsIHNlcmllc0luZGV4KVxuICB9XG5cbiAgaGFuZGxlTWVhc3VyZW1lbnQobWVhc3VyZW1lbnQsIHNpZHggPSAxKSB7XG4gICAgbGV0IHsgejogdGltZXN0YW1wIH0gPSBtZWFzdXJlbWVudFxuICAgIHRoaXMuZGF0YXNldHMgPSB0aGlzLmRhdGFzZXRzLm1hcCgoZGF0YXNldCwgaW5kZXgpID0+IHtcbiAgICAgIGlmIChkYXRhc2V0LmtleSA9PT0gXCJ8eHxcIikge1xuICAgICAgICBkYXRhc2V0LmRhdGEucHVzaCh0aW1lc3RhbXApXG4gICAgICB9IGVsc2UgaWYgKGluZGV4ID09PSBzaWR4KSB7XG4gICAgICAgIHRoaXMucHVzaFRvRGF0YXNldChkYXRhc2V0LCBtZWFzdXJlbWVudClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucHVzaFRvRGF0YXNldChkYXRhc2V0LCBudWxsKVxuICAgICAgfVxuICAgICAgcmV0dXJuIGRhdGFzZXRcbiAgICB9KVxuICB9XG5cbiAgZmluZE9yQ3JlYXRlU2VyaWVzKGxhYmVsKSB7XG4gICAgbGV0IHNlcmllc0luZGV4ID0gdGhpcy5kYXRhc2V0cy5maW5kSW5kZXgoKHsga2V5IH0pID0+IGxhYmVsID09PSBrZXkpXG4gICAgaWYgKHNlcmllc0luZGV4ID09PSAtMSkge1xuICAgICAgc2VyaWVzSW5kZXggPSB0aGlzLmRhdGFzZXRzLnB1c2goXG4gICAgICAgIHRoaXMuY29uc3RydWN0b3IubmV3RGF0YXNldChsYWJlbCwgdGhpcy5kYXRhc2V0c1swXS5kYXRhLmxlbmd0aClcbiAgICAgICkgLSAxXG5cbiAgICAgIGxldCBjb25maWcgPSB7XG4gICAgICAgIHZhbHVlczogdGhpcy5fX3Nlcmllc1ZhbHVlcy5iaW5kKHRoaXMpLFxuICAgICAgICAuLi5uZXdTZXJpZXNDb25maWcoeyBsYWJlbCB9LCBzZXJpZXNJbmRleCAtIDEpXG4gICAgICB9XG5cbiAgICAgIHRoaXMuY2hhcnQuYWRkU2VyaWVzKGNvbmZpZywgc2VyaWVzSW5kZXgpXG4gICAgfVxuXG4gICAgcmV0dXJuIHNlcmllc0luZGV4XG4gIH1cblxuICBwdXNoVG9EYXRhc2V0KGRhdGFzZXQsIG1lYXN1cmVtZW50KSB7XG4gICAgaWYgKG1lYXN1cmVtZW50ID09PSBudWxsKSB7XG4gICAgICBkYXRhc2V0LmRhdGEucHVzaChudWxsKVxuICAgICAgZGF0YXNldC5hZ2cuYXZnLnB1c2gobnVsbClcbiAgICAgIGRhdGFzZXQuYWdnLm1heC5wdXNoKG51bGwpXG4gICAgICBkYXRhc2V0LmFnZy5taW4ucHVzaChudWxsKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgbGV0IHsgeSB9ID0gbWVhc3VyZW1lbnRcblxuICAgIC8vIEluY3JlbWVudCB0aGUgbmV3IG92ZXJhbGwgdG90YWxzXG4gICAgZGF0YXNldC5hZ2cuY291bnQrK1xuICAgIGRhdGFzZXQuYWdnLnRvdGFsICs9IHlcblxuICAgIC8vIFB1c2ggdGhlIHZhbHVlXG4gICAgZGF0YXNldC5kYXRhLnB1c2goeSlcblxuICAgIC8vIFB1c2ggbWluL21heC9hdmdcbiAgICBpZiAoZGF0YXNldC5sYXN0Lm1pbiA9PT0gbnVsbCB8fCB5IDwgZGF0YXNldC5sYXN0Lm1pbikgeyBkYXRhc2V0Lmxhc3QubWluID0geSB9XG4gICAgZGF0YXNldC5hZ2cubWluLnB1c2goZGF0YXNldC5sYXN0Lm1pbilcblxuICAgIGlmIChkYXRhc2V0Lmxhc3QubWF4ID09PSBudWxsIHx8IHkgPiBkYXRhc2V0Lmxhc3QubWF4KSB7IGRhdGFzZXQubGFzdC5tYXggPSB5IH1cbiAgICBkYXRhc2V0LmFnZy5tYXgucHVzaChkYXRhc2V0Lmxhc3QubWF4KVxuXG4gICAgZGF0YXNldC5hZ2cuYXZnLnB1c2goKGRhdGFzZXQuYWdnLnRvdGFsIC8gZGF0YXNldC5hZ2cuY291bnQpKVxuXG4gICAgcmV0dXJuIGRhdGFzZXRcbiAgfVxuXG4gIF9fbWF5YmVQcnVuZURhdGFzZXRzKCkge1xuICAgIGxldCBjdXJyZW50U2l6ZSA9IHRoaXMuZGF0YXNldHNbMF0uZGF0YS5sZW5ndGhcbiAgICBpZiAoY3VycmVudFNpemUgPiB0aGlzLnBydW5lVGhyZXNob2xkKSB7XG4gICAgICBsZXQgc3RhcnQgPSAtdGhpcy5wcnVuZVRocmVzaG9sZDtcbiAgICAgIHRoaXMuZGF0YXNldHMgPSB0aGlzLmRhdGFzZXRzLm1hcCgoeyBrZXksIGRhdGEsIGFnZyB9KSA9PiB7XG4gICAgICAgIGxldCBkYXRhUHJ1bmVkID0gZGF0YS5zbGljZShzdGFydClcbiAgICAgICAgaWYgKCFhZ2cpIHtcbiAgICAgICAgICByZXR1cm4geyBrZXksIGRhdGE6IGRhdGFQcnVuZWQgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHsgYXZnLCBjb3VudCwgbWF4LCBtaW4sIHRvdGFsIH0gPSBhZ2dcbiAgICAgICAgbGV0IG1pblBydW5lZCA9IG1pbi5zbGljZShzdGFydClcbiAgICAgICAgbGV0IG1heFBydW5lZCA9IG1heC5zbGljZShzdGFydClcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGtleSxcbiAgICAgICAgICBkYXRhOiBkYXRhUHJ1bmVkLFxuICAgICAgICAgIGFnZzoge1xuICAgICAgICAgICAgYXZnOiBhdmcuc2xpY2Uoc3RhcnQpLFxuICAgICAgICAgICAgY291bnQsXG4gICAgICAgICAgICBtaW46IG1pblBydW5lZCxcbiAgICAgICAgICAgIG1heDogbWF4UHJ1bmVkLFxuICAgICAgICAgICAgdG90YWxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGxhc3Q6IHtcbiAgICAgICAgICAgIG1pbjogZmluZExhc3ROb25OdWxsVmFsdWUobWluUHJ1bmVkKSxcbiAgICAgICAgICAgIG1heDogZmluZExhc3ROb25OdWxsVmFsdWUobWF4UHJ1bmVkKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBfX3Nlcmllc1ZhbHVlcyh1LCBzaWR4LCBpZHgpIHtcbiAgICBsZXQgZGF0YXNldCA9IHRoaXMuZGF0YXNldHNbc2lkeF1cbiAgICBpZiAoZGF0YXNldCAmJiBkYXRhc2V0LmRhdGEgJiYgZGF0YXNldC5kYXRhW2lkeF0pIHtcbiAgICAgIGxldCB7IGFnZzogeyBhdmcsIG1heCwgbWluIH0sIGRhdGEgfSA9IGRhdGFzZXRcbiAgICAgIHJldHVybiB7XG4gICAgICAgIFZhbHVlOiBkYXRhW2lkeF0udG9GaXhlZCgzKSxcbiAgICAgICAgTWluOiBtaW5baWR4XS50b0ZpeGVkKDMpLFxuICAgICAgICBNYXg6IG1heFtpZHhdLnRvRml4ZWQoMyksXG4gICAgICAgIEF2ZzogYXZnW2lkeF0udG9GaXhlZCgzKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4geyBWYWx1ZTogXCItLVwiLCBNaW46IFwiLS1cIiwgTWF4OiBcIi0tXCIsIEF2ZzogXCItLVwiIH1cbiAgICB9XG4gIH1cblxuICBzdGF0aWMgaW5pdGlhbERhdGEoKSB7IHJldHVybiBbW10sIFtdXSB9XG5cbiAgc3RhdGljIGdldENvbmZpZyhvcHRpb25zKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNsYXNzOiBvcHRpb25zLmtpbmQsXG4gICAgICB0aXRsZTogb3B0aW9ucy50aXRsZSxcbiAgICAgIHdpZHRoOiBvcHRpb25zLndpZHRoLFxuICAgICAgaGVpZ2h0OiBvcHRpb25zLmhlaWdodCxcbiAgICAgIHNlcmllczogW1xuICAgICAgICB7IC4uLlhTZXJpZXNWYWx1ZSgpIH0sXG4gICAgICAgIG5ld1Nlcmllc0NvbmZpZyhvcHRpb25zLCAwKVxuICAgICAgXSxcbiAgICAgIHNjYWxlczoge1xuICAgICAgICB4OiB7XG4gICAgICAgICAgbWluOiBvcHRpb25zLm5vdyAtIDYwLFxuICAgICAgICAgIG1heDogb3B0aW9ucy5ub3dcbiAgICAgICAgfSxcbiAgICAgICAgeToge1xuICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICBtYXg6IDFcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBheGVzOiBbXG4gICAgICAgIFhBeGlzKCksXG4gICAgICAgIFlBeGlzKG9wdGlvbnMpXG4gICAgICBdXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIG5ld0RhdGFzZXQoa2V5LCBsZW5ndGggPSAwKSB7XG4gICAgbGV0IG5pbHMgPSBsZW5ndGggPiAwID8gQXJyYXkobGVuZ3RoKS5maWxsKG51bGwpIDogW11cbiAgICByZXR1cm4ge1xuICAgICAga2V5LFxuICAgICAgZGF0YTogWy4uLm5pbHNdLFxuICAgICAgYWdnOiB7IGF2ZzogWy4uLm5pbHNdLCBjb3VudDogMCwgbWF4OiBbLi4ubmlsc10sIG1pbjogWy4uLm5pbHNdLCB0b3RhbDogMCB9LFxuICAgICAgbGFzdDogeyBtYXg6IG51bGwsIG1pbjogbnVsbCB9XG4gICAgfVxuICB9XG59XG5cbmNvbnN0IF9fTUVUUklDU19fID0ge1xuICBjb3VudGVyOiBDb21tb25NZXRyaWMsXG4gIGxhc3RfdmFsdWU6IENvbW1vbk1ldHJpYyxcbiAgc3VtOiBDb21tb25NZXRyaWMsXG4gIHN1bW1hcnk6IFN1bW1hcnlcbn1cblxuZXhwb3J0IGNsYXNzIFRlbGVtZXRyeUNoYXJ0IHtcbiAgY29uc3RydWN0b3IoY2hhcnRFbCwgb3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucy5tZXRyaWMpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYE5vIG1ldHJpYyB0eXBlIHdhcyBwcm92aWRlZGApXG4gICAgfSBlbHNlIGlmIChvcHRpb25zLm1ldHJpYyAmJiAhX19NRVRSSUNTX19bb3B0aW9ucy5tZXRyaWNdKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBObyBtZXRyaWMgZGVmaW5lZCBmb3IgdHlwZSAke29wdGlvbnMubWV0cmljfWApXG4gICAgfVxuXG4gICAgY29uc3QgbWV0cmljID0gX19NRVRSSUNTX19bb3B0aW9ucy5tZXRyaWNdXG4gICAgaWYgKG1ldHJpYyA9PT0gU3VtbWFyeSkge1xuICAgICAgdGhpcy5tZXRyaWMgPSBuZXcgU3VtbWFyeShvcHRpb25zLCBjaGFydEVsKVxuICAgICAgdGhpcy51cGxvdENoYXJ0ID0gdGhpcy5tZXRyaWMuY2hhcnRcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy51cGxvdENoYXJ0ID0gbmV3IHVQbG90KG1ldHJpYy5nZXRDb25maWcob3B0aW9ucyksIG1ldHJpYy5pbml0aWFsRGF0YShvcHRpb25zKSwgY2hhcnRFbClcbiAgICAgIHRoaXMubWV0cmljID0gbmV3IG1ldHJpYyh0aGlzLnVwbG90Q2hhcnQsIG9wdGlvbnMpXG4gICAgfVxuXG4gICAgLy8gc2V0dXAgdGhlIGRhdGEgYnVmZmVyXG4gICAgbGV0IGlzQnVmZmVyaW5nRGF0YSA9IHR5cGVvZiBvcHRpb25zLnJlZnJlc2hJbnRlcnZhbCAhPT0gXCJ1bmRlZmluZWRcIlxuICAgIHRoaXMuX2lzQnVmZmVyaW5nRGF0YSA9IGlzQnVmZmVyaW5nRGF0YVxuICAgIHRoaXMuX2J1ZmZlciA9IFtdXG4gICAgdGhpcy5fdGltZXIgPSBpc0J1ZmZlcmluZ0RhdGEgPyBzZXRJbnRlcnZhbChcbiAgICAgIHRoaXMuX2ZsdXNoVG9DaGFydC5iaW5kKHRoaXMpLFxuICAgICAgK29wdGlvbnMucmVmcmVzaEludGVydmFsXG4gICAgKSA6IG51bGxcbiAgfVxuXG4gIGNsZWFyVGltZXJzKCkgeyBjbGVhckludGVydmFsKHRoaXMuX3RpbWVyKSB9XG5cbiAgcmVzaXplKGJvdW5kaW5nQm94KSB7XG4gICAgdGhpcy51cGxvdENoYXJ0LnNldFNpemUoe1xuICAgICAgd2lkdGg6IE1hdGgubWF4KGJvdW5kaW5nQm94LndpZHRoLCBtaW5DaGFydFNpemUud2lkdGgpLFxuICAgICAgaGVpZ2h0OiBtaW5DaGFydFNpemUuaGVpZ2h0XG4gICAgfSlcbiAgfVxuXG4gIHB1c2hEYXRhKG1lYXN1cmVtZW50cykge1xuICAgIGlmICghbWVhc3VyZW1lbnRzLmxlbmd0aCkgcmV0dXJuXG4gICAgbGV0IGNhbGxiYWNrID0gdGhpcy5faXNCdWZmZXJpbmdEYXRhID8gdGhpcy5fcHVzaFRvQnVmZmVyIDogdGhpcy5fcHVzaFRvQ2hhcnRcbiAgICBjYWxsYmFjay5jYWxsKHRoaXMsIG1lYXN1cmVtZW50cylcbiAgfVxuXG4gIF9wdXNoVG9CdWZmZXIobWVhc3VyZW1lbnRzKSB7XG4gICAgdGhpcy5fYnVmZmVyID0gdGhpcy5fYnVmZmVyLmNvbmNhdChtZWFzdXJlbWVudHMpXG4gIH1cblxuICBfcHVzaFRvQ2hhcnQobWVhc3VyZW1lbnRzKSB7XG4gICAgdGhpcy5tZXRyaWMuaGFuZGxlTWVhc3VyZW1lbnRzKG1lYXN1cmVtZW50cylcbiAgfVxuXG4gIC8vIGNsZWFycyB0aGUgYnVmZmVyIGFuZCBwdXNoZXMgdGhlIG1lYXN1cmVtZW50c1xuICBfZmx1c2hUb0NoYXJ0KCkge1xuICAgIGxldCBtZWFzdXJlbWVudHMgPSB0aGlzLl9mbHVzaEJ1ZmZlcigpXG4gICAgaWYgKCFtZWFzdXJlbWVudHMubGVuZ3RoKSB7IHJldHVybiB9XG4gICAgdGhpcy5fcHVzaFRvQ2hhcnQobWVhc3VyZW1lbnRzKVxuICB9XG5cbiAgLy8gY2xlYXJzIGFuZCByZXR1cm5zIHRoZSBidWZmZXJlZCBkYXRhIGFzIGEgZmxhdCBhcnJheVxuICBfZmx1c2hCdWZmZXIoKSB7XG4gICAgaWYgKHRoaXMuX2J1ZmZlciAmJiAhdGhpcy5fYnVmZmVyLmxlbmd0aCkgeyByZXR1cm4gW10gfVxuICAgIGxldCBtZWFzdXJlbWVudHMgPSB0aGlzLl9idWZmZXJcbiAgICB0aGlzLl9idWZmZXIgPSBbXVxuICAgIHJldHVybiBtZWFzdXJlbWVudHMucmVkdWNlKChhY2MsIHZhbCkgPT4gYWNjLmNvbmNhdCh2YWwpLCBbXSlcbiAgfVxufVxuXG4vKiogTGl2ZVZpZXcgSG9vayAqKi9cblxuY29uc3QgUGh4Q2hhcnRDb21wb25lbnQgPSB7XG4gIG1vdW50ZWQoKSB7XG4gICAgbGV0IGNoYXJ0RWwgPSB0aGlzLmVsLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXJ0JylcbiAgICBsZXQgc2l6ZSA9IGNoYXJ0RWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICBsZXQgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIGNoYXJ0RWwuZGF0YXNldCwge1xuICAgICAgdGFnZ2VkOiAoY2hhcnRFbC5kYXRhc2V0LnRhZ3MgJiYgY2hhcnRFbC5kYXRhc2V0LnRhZ3MgIT09IFwiXCIpIHx8IGZhbHNlLFxuICAgICAgd2lkdGg6IE1hdGgubWF4KHNpemUud2lkdGgsIG1pbkNoYXJ0U2l6ZS53aWR0aCksXG4gICAgICBoZWlnaHQ6IG1pbkNoYXJ0U2l6ZS5oZWlnaHQsXG4gICAgICBub3c6IG5ldyBEYXRlKCkgLyAxZTMsXG4gICAgICByZWZyZXNoSW50ZXJ2YWw6IDEwMDBcbiAgICB9KVxuXG4gICAgdGhpcy5jaGFydCA9IG5ldyBUZWxlbWV0cnlDaGFydChjaGFydEVsLCBvcHRpb25zKVxuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdGhyb3R0bGUoKCkgPT4ge1xuICAgICAgbGV0IG5ld1NpemUgPSBjaGFydEVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICB0aGlzLmNoYXJ0LnJlc2l6ZShuZXdTaXplKVxuICAgIH0pKVxuICB9LFxuICB1cGRhdGVkKCkge1xuICAgIGNvbnN0IGRhdGEgPSBBcnJheVxuICAgICAgLmZyb20odGhpcy5lbC5jaGlsZHJlbiB8fCBbXSlcbiAgICAgIC5tYXAoKHsgZGF0YXNldDogeyB4LCB5LCB6IH0gfSkgPT4ge1xuICAgICAgICAvLyBjb252ZXJ0cyB5LWF4aXMgdmFsdWUgKHopIHRvIG51bWJlcixcbiAgICAgICAgLy8gY29udmVydHMgdGltZXN0YW1wICh6KSBmcm9tIFx1MDBCNXMgdG8gZnJhY3Rpb25hbCBzZWNvbmRzXG4gICAgICAgIHJldHVybiB7IHgsIHk6ICt5LCB6OiAreiAvIDFlNiB9XG4gICAgICB9KVxuXG4gICAgaWYgKGRhdGEubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5jaGFydC5wdXNoRGF0YShkYXRhKVxuICAgIH1cbiAgfSxcbiAgZGVzdHJveWVkKCkge1xuICAgIHRoaXMuY2hhcnQuY2xlYXJUaW1lcnMoKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBoeENoYXJ0Q29tcG9uZW50XG4iLCAiLyoqIExpdmVWaWV3IEhvb2sgKiovXG5cbmNvbnN0IHNldENvb2tpZSA9IChwYXJhbXMpID0+IHtcbiAgbGV0IGNvb2tpZSA9IGAke3BhcmFtcy5rZXl9PSR7cGFyYW1zLnZhbHVlfTtwYXRoPS9gXG4gIGlmICh3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgPT09IFwiaHR0cHM6XCIpIHtcbiAgICBjb29raWUgKz0gYDtzYW1lc2l0ZT1zdHJpY3RgXG4gIH1cbiAgaWYgKHBhcmFtcy5kb21haW4pIHtcbiAgICBjb29raWUgKz0gYDtkb21haW49JHtwYXJhbXMuZG9tYWlufWBcbiAgfVxuICBkb2N1bWVudC5jb29raWUgPSBjb29raWVcbn1cblxuY29uc3QgcmVtb3ZlQ29va2llID0gKHBhcmFtcykgPT4ge1xuICBjb25zdCBwYXN0RGF0ZSA9ICdUaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAwIEdNVCdcbiAgZG9jdW1lbnQuY29va2llID0gYCR7cGFyYW1zLmtleX09OyBleHBpcmVzPSR7cGFzdERhdGV9YFxufVxuXG5jb25zdCBpc0Nvb2tpZUVuYWJsZWQgPSAoaG9vaykgPT4ge1xuICByZXR1cm4gaG9vay5lbC5oYXNBdHRyaWJ1dGUoJ2RhdGEtY29va2llLWVuYWJsZWQnKVxufVxuXG5jb25zdCBjb29raWVQYXJhbXMgPSAoaG9vaykgPT4ge1xuICByZXR1cm4ge1xuICAgIGtleTogaG9vay5lbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29va2llLWtleScpLFxuICAgIHZhbHVlOiBob29rLmVsLmdldEF0dHJpYnV0ZSgnZGF0YS1jb29raWUtdmFsdWUnKSxcbiAgICBkb21haW46IGhvb2suZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWNvb2tpZS1kb21haW4nKVxuICB9XG59XG5cbmNvbnN0IFBoeFJlcXVlc3RMb2dnZXJDb29raWUgPSB7XG4gIHVwZGF0ZWQoKSB7XG4gICAgY29uc3QgbG9nZ2VyQ29va2llUGFyYW1zID0gY29va2llUGFyYW1zKHRoaXMpXG4gICAgcmVtb3ZlQ29va2llKGxvZ2dlckNvb2tpZVBhcmFtcylcblxuICAgIGlmIChpc0Nvb2tpZUVuYWJsZWQodGhpcykpIHtcbiAgICAgIHNldENvb2tpZShsb2dnZXJDb29raWVQYXJhbXMpXG4gICAgfVxuICB9LFxufVxuXG5leHBvcnQgZGVmYXVsdCBQaHhSZXF1ZXN0TG9nZ2VyQ29va2llXG4iLCAiLyoqIExpdmVWaWV3IEhvb2sgKiovXG5cbmNvbnN0IGNvcHlUb0NsaXBib2FyZCA9ICh0ZXh0YXJlYSkgPT4ge1xuICAgIGlmICghbmF2aWdhdG9yLmNsaXBib2FyZCl7XG4gICAgICAvLyBEZXByZWNhdGVkIGNsaXBib2FyZCBBUElcbiAgICAgIHRleHRhcmVhLnNlbGVjdCgpXG4gICAgICB0ZXh0YXJlYS5zZXRTZWxlY3Rpb25SYW5nZSgwLCA5OTk5OSlcbiAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKCdjb3B5JylcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTW9kZXJuIENsaXBib2FyZCBBUElcbiAgICAgIGNvbnN0IHRleHQgPSB0ZXh0YXJlYS52YWx1ZVxuICAgICAgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQodGV4dClcbiAgICB9XG4gIH1cblxuY29uc3QgUGh4UmVxdWVzdExvZ2dlclF1ZXJ5UGFyYW1ldGVyID0ge1xuICBtb3VudGVkKCkge1xuICAgIHRoaXMuZWwucXVlcnlTZWxlY3RvcignLmJ0bi1wcmltYXJ5JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICAgIGNvbnN0IHRleHRhcmVhID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCd0ZXh0YXJlYScpXG4gICAgICBjb3B5VG9DbGlwYm9hcmQodGV4dGFyZWEpXG4gICAgICBjb25zdCBjb3B5SW5kaWNhdG9yID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCcuY29weS1pbmRpY2F0b3InKVxuICAgICAgY29weUluZGljYXRvci5zZXRBdHRyaWJ1dGUoJ2RhdGEtZW5hYmxlZCcsICdmYWxzZScpXG4gICAgICB2b2lkIGNvcHlJbmRpY2F0b3Iub2Zmc2V0V2lkdGggLy8gUmVzZXRzIHRoZSBhbmltYXRpb24gdG8gZW5zdXJlIGl0IHdpbGwgYmUgcGxheWVkIGFnYWluXG4gICAgICBjb3B5SW5kaWNhdG9yLnNldEF0dHJpYnV0ZSgnZGF0YS1lbmFibGVkJywgJ3RydWUnKVxuICAgIH0pXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUGh4UmVxdWVzdExvZ2dlclF1ZXJ5UGFyYW1ldGVyXG4iLCAiLyoqIExpdmVWaWV3IEhvb2sgKiovXG5cbmNvbnN0IFBoeFJlcXVlc3RMb2dnZXJNZXNzYWdlcyA9IHtcbiAgdXBkYXRlZCgpIHtcbiAgICBpZiAodGhpcy5lbC5xdWVyeVNlbGVjdG9yKCcubG9nZ2VyLWF1dG9zY3JvbGwtY2hlY2tib3gnKS5jaGVja2VkKSB7XG4gICAgICBjb25zdCBtZXNzYWdlc0VsZW1lbnQgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJyNsb2dnZXItbWVzc2FnZXMnKVxuICAgICAgbWVzc2FnZXNFbGVtZW50LnNjcm9sbFRvcCA9IG1lc3NhZ2VzRWxlbWVudC5zY3JvbGxIZWlnaHRcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUGh4UmVxdWVzdExvZ2dlck1lc3NhZ2VzXG4iLCAiY29uc3QgaW50ZXJhY3RpdmVJdGVtU2VsZWN0b3IgPSAnLnByb2dyZXNzLWJhciwgLmNvbG9yLWJhci1sZWdlbmQtZW50cnknXG5sZXQgaGlnaGxpZ2h0ZWRFbGVtZW50TmFtZVxuXG5jb25zdCBoaWdobGlnaHRFbGVtZW50cyA9IChjb250YWluZXJFbGVtZW50KSA9PiB7XG4gIGNvbnRhaW5lckVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChpbnRlcmFjdGl2ZUl0ZW1TZWxlY3RvcikuZm9yRWFjaCgocHJvZ3Jlc3NCYXJFbGVtZW50KSA9PiB7XG4gICAgaWYoaGlnaGxpZ2h0ZWRFbGVtZW50TmFtZSkge1xuICAgICAgY29uc3QgaXNNdXRlZCA9IHByb2dyZXNzQmFyRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtbmFtZScpICE9PSBoaWdobGlnaHRlZEVsZW1lbnROYW1lXG5cbiAgICAgIHByb2dyZXNzQmFyRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtbXV0ZWQnLCBpc011dGVkKVxuICAgIH0gZWxzZSB7XG4gICAgICBwcm9ncmVzc0JhckVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkYXRhLW11dGVkJylcbiAgICB9XG4gIH0pXG59XG5cbmNvbnN0IFBoeENvbG9yQmFySGlnaGxpZ2h0ID0ge1xuICBtb3VudGVkKCkge1xuICAgIHRoaXMuZWwuc2V0QXR0cmlidXRlKCdkYXRhLWhpZ2hsaWdodC1lbmFibGVkJywgJ3RydWUnKVxuICAgIHRoaXMuZWwucXVlcnlTZWxlY3RvckFsbChpbnRlcmFjdGl2ZUl0ZW1TZWxlY3RvcikuZm9yRWFjaCgocHJvZ3Jlc3NCYXJFbGVtZW50KSA9PiAoXG4gICAgICBwcm9ncmVzc0JhckVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICAgICAgY29uc3QgbmFtZSA9IGUuY3VycmVudFRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtbmFtZScpXG4gICAgICAgIGhpZ2hsaWdodGVkRWxlbWVudE5hbWUgPSBuYW1lID09PSBoaWdobGlnaHRlZEVsZW1lbnROYW1lID8gbnVsbCA6IG5hbWVcbiAgICAgICAgaGlnaGxpZ2h0RWxlbWVudHModGhpcy5lbClcbiAgICAgIH0pXG4gICAgKSlcbiAgfSxcblxuICB1cGRhdGVkKCkge1xuICAgIHRoaXMuZWwuc2V0QXR0cmlidXRlKCdkYXRhLWhpZ2hsaWdodC1lbmFibGVkJywgJ3RydWUnKVxuICAgIGhpZ2hsaWdodEVsZW1lbnRzKHRoaXMuZWwpXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUGh4Q29sb3JCYXJIaWdobGlnaHRcbiIsICJjb25zdCBSRUZSRVNIX0RBVEFfQ09PS0lFID0gXCJfcmVmcmVzaF9kYXRhXCI7XG5cbi8qKlxuICogU3RvcmVzIHJlZnJlc2ggZGF0YSBpbiB0aGUgYFwicmVmcmVzaF9kYXRhXCJgIGNvb2tpZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0b3JlUmVmcmVzaERhdGEocmVmcmVzaERhdGEsIHBhdGgpIHtcbiAgY29uc3QganNvbiA9IEpTT04uc3RyaW5naWZ5KHJlZnJlc2hEYXRhKTtcbiAgY29uc3QgZW5jb2RlZCA9IGVuY29kZUJhc2U2NChqc29uKTtcbiAgc2V0Q29va2llKFJFRlJFU0hfREFUQV9DT09LSUUsIGVuY29kZWQsIHBhdGgsIDE1NzY4MDAwMCk7IC8vIDUgeWVhcnNcbn1cblxuLyoqXG4gKiBMb2FkcyByZWZyZXNoIGRhdGEgZnJvbSB0aGUgYFwicmVmcmVzaF9kYXRhXCJgIGNvb2tpZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvYWRSZWZyZXNoRGF0YSgpIHtcbiAgY29uc3QgZW5jb2RlZCA9IGdldENvb2tpZVZhbHVlKFJFRlJFU0hfREFUQV9DT09LSUUpO1xuICBpZiAoZW5jb2RlZCkge1xuICAgIGNvbnN0IGpzb24gPSBkZWNvZGVCYXNlNjQoZW5jb2RlZCk7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UoanNvbik7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0Q29va2llVmFsdWUoa2V5KSB7XG4gIGNvbnN0IGNvb2tpZSA9IGRvY3VtZW50LmNvb2tpZVxuICAgIC5zcGxpdChcIjsgXCIpXG4gICAgLmZpbmQoKGNvb2tpZSkgPT4gY29va2llLnN0YXJ0c1dpdGgoYCR7a2V5fT1gKSk7XG5cbiAgaWYgKGNvb2tpZSkge1xuICAgIGNvbnN0IHZhbHVlID0gY29va2llLnJlcGxhY2UoYCR7a2V5fT1gLCBcIlwiKTtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0Q29va2llKGtleSwgdmFsdWUsIHBhdGgsIG1heEFnZSkge1xuICBjb25zdCBjb29raWUgPSBgJHtrZXl9PSR7dmFsdWV9O21heC1hZ2U9JHttYXhBZ2V9O3BhdGg9JHtwYXRofWA7XG4gIGRvY3VtZW50LmNvb2tpZSA9IGNvb2tpZTtcbn1cblxuZnVuY3Rpb24gZW5jb2RlQmFzZTY0KHN0cmluZykge1xuICByZXR1cm4gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoc3RyaW5nKSkpO1xufVxuXG5mdW5jdGlvbiBkZWNvZGVCYXNlNjQoYmluYXJ5KSB7XG4gIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoZXNjYXBlKGF0b2IoYmluYXJ5KSkpO1xufVxuIiwgIi8qKiBMaXZlVmlldyBIb29rICoqL1xuXG5pbXBvcnQgeyBzdG9yZVJlZnJlc2hEYXRhLCBsb2FkUmVmcmVzaERhdGEgfSBmcm9tIFwiLi4vcmVmcmVzaFwiO1xuXG5jb25zdCBQaHhSZW1lbWJlclJlZnJlc2ggPSB7XG4gIHVwZGF0ZWQoKSB7XG4gICAgbGV0IGNvbmZpZyA9IGxvYWRSZWZyZXNoRGF0YSgpIHx8IHt9O1xuICAgIGNvbmZpZ1t0aGlzLmVsLmRhdGFzZXQucGFnZV0gPSB0aGlzLmVsLnZhbHVlXG4gICAgc3RvcmVSZWZyZXNoRGF0YShjb25maWcsIHRoaXMuZWwuZGF0YXNldC5kYXNoYm9hcmRNb3VudFBhdGgpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBoeFJlbWVtYmVyUmVmcmVz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
